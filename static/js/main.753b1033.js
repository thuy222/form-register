/*! For license information please see main.753b1033.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),o=n(379),a=n(521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},9220:function(e,t,n){"use strict";var r=n(2791),i=n(4164);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c,l=c||(c={});l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE";var h=function(e){return e};function f(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function v(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function m(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var y=(0,r.createContext)(null);var b=(0,r.createContext)(null);var _=(0,r.createContext)({outlet:null,matches:[]});function w(e){return function(e){var t=(0,r.useContext)(_).outlet;return(0,r.createElement)(N.Provider,{value:e},t)}(e.context)}function S(e){g(!1)}function E(e){var t=e.basename,n=void 0===t?"/":t,i=e.children,o=void 0===i?null:i,a=e.location,s=e.navigationType,u=void 0===s?c.Pop:s,l=e.navigator,h=e.static,f=void 0!==h&&h;k()&&g(!1);var d=B(n),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof a&&(a=m(a));var v=a,_=v.pathname,w=void 0===_?"/":_,S=v.search,E=void 0===S?"":S,T=v.hash,I=void 0===T?"":T,C=v.state,N=void 0===C?null:C,x=v.key,A=void 0===x?"default":x,P=(0,r.useMemo)((function(){var e=j(w,d);return null==e?null:{pathname:e,search:E,hash:I,state:N,key:A}}),[d,w,E,I,N,A]);return null==P?null:(0,r.createElement)(y.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:P,navigationType:u}}))}function T(e){var t=e.children,n=e.location;return function(e,t){k()||g(!1);var n=(0,r.useContext)(_).matches,i=n[n.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=I();if(t){var c,l="string"===typeof t?m(t):t;"/"===a||(null==(c=l.pathname)?void 0:c.startsWith(a))||g(!1),s=l}else s=u;var h=s.pathname||"/",f="/"===a?h:h.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;var i=A(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=D(i[a],r);return o}(e,{pathname:f});0;return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:U([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:U([a,e.pathnameBase])})})),n)}(x(t),n)}function k(){return null!=(0,r.useContext)(b)}function I(){return k()||g(!1),(0,r.useContext)(b).location}function C(){k()||g(!1);var e=(0,r.useContext)(y),t=e.basename,n=e.navigator,i=(0,r.useContext)(_).matches,o=I().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(a),o);"/"!==t&&(i.pathname=U([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,a,o]);return u}var N=(0,r.createContext)(null);function x(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==S&&g(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=x(e.props.children)),t.push(n)}else t.push.apply(t,x(e.props.children))})),t}function A(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||g(!1),o.relativePath=o.relativePath.slice(r.length));var a=U([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&g(!1),A(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:s})})),t}var P=/^:\w+$/,O=function(e){return"*"===e};function R(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=F({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;o.push({params:r,pathname:U([i,l.pathname]),pathnameBase:U([i,l.pathnameBase]),route:h}),"/"!==l.pathnameBase&&(i=U([i,l.pathnameBase]))}return o}function L(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,o){return(0,r.createElement)(_.Provider,{children:void 0!==i.route.element?i.route.element:(0,r.createElement)(w,null),value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})}),null)}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var u=a[0],c=u.replace(/(.)\/+$/,"$1"),l=a.slice(1),h=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:h,pathname:u,pathnameBase:c,pattern:e}}function M(e,t,n){var r,i="string"===typeof e?m(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?m(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(o),hash:V(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var U=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},V=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function z(e){var t=e.basename,n=e.children,i=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){function t(){var e=a.location,t=s.state||{};return[t.idx,h({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:v(e)}function r(e,t){return void 0===t&&(t=null),h(u({pathname:b.pathname,hash:"",search:""},"string"===typeof e?m(e):e,{state:t,key:p()}))}function i(e){g=e,e=t(),y=e[0],b=e[1],_.call({action:g,location:b})}function o(e){s.go(e)}void 0===e&&(e={});var a=void 0===(e=e.window)?document.defaultView:e,s=a.history,l=null;a.addEventListener("popstate",(function(){if(l)w.call(l),l=null;else{var e=c.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var a=y-r;a&&(l={action:e,location:n,retry:function(){o(-1*a)}},o(a))}}else i(e)}}));var g=c.Pop,y=(e=t())[0],b=e[1],_=d(),w=d();return null==y&&(y=0,s.replaceState(u({},s.state,{idx:y}),"")),{get action(){return g},get location(){return b},createHref:n,push:function e(t,o){var u=c.Push,l=r(t,o);if(!w.length||(w.call({action:u,location:l,retry:function(){e(t,o)}}),0)){var h=[{usr:l.state,key:l.key,idx:y+1},n(l)];l=h[0],h=h[1];try{s.pushState(l,"",h)}catch(ha){a.location.assign(h)}i(u)}},replace:function e(t,o){var a=c.Replace,u=r(t,o);w.length&&(w.call({action:a,location:u,retry:function(){e(t,o)}}),1)||(u=[{usr:u.state,key:u.key,idx:y},n(u)],s.replaceState(u[0],"",u[1]),i(a))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return _.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&a.addEventListener("beforeunload",f),function(){t(),w.length||a.removeEventListener("beforeunload",f)}}}}({window:i}));var a=o.current,l=s((0,r.useState)({action:a.action,location:a.location}),2),g=l[0],y=l[1];return(0,r.useLayoutEffect)((function(){return a.listen(y)}),[a]),(0,r.createElement)(E,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:a})}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){return W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},W(e,t)}function J(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&W(e,t)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(By){return!1}}function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){if(t&&("object"===Y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function ee(e){var t=$();return function(){var n,r=Q(e);if(t){var i=Q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z(this,n)}}function te(e,t,n){return te=$()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&W(i,n.prototype),i},te.apply(null,arguments)}function ne(e){var t="function"===typeof Map?new Map:void 0;return ne=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return te(e,arguments,Q(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),W(n,e)},ne(e)}var re=function(e){J(n,e);var t=ee(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return G(this,n),(e=t.call(this,"".concat(r?"".concat(r," "):r,"Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/structure/app-provider for implementation instructions."))).name="MissingAppProviderError",e}return K(n)}(ne(Error)),ie=(0,r.createContext)(void 0);function oe(){var e=(0,r.useContext)(ie);if(!e)throw new re("No i18n was provided.");return e}var ae="Polaris-VisuallyHidden";function se(e){var t=e.children;return r.createElement("span",{className:ae},t)}function ue(e){var t=e.acceptCharset,n=e.action,i=e.autoComplete,o=e.children,a=e.encType,s=e.implicitSubmit,u=void 0===s||s,c=e.method,l=void 0===c?"post":c,h=e.name,f=e.noValidate,d=e.preventDefault,p=void 0===d||d,v=e.target,m=e.onSubmit,g=oe(),y=(0,r.useCallback)((function(e){p&&(e.preventDefault(),m(e))}),[m,p]),b=function(e){if(null==e)return e;return e?"on":"off"}(i),_=u?r.createElement(se,null,r.createElement("button",{type:"submit","aria-hidden":"true",tabIndex:-1},g.translate("Polaris.Common.submit"))):null;return r.createElement("form",{acceptCharset:t,action:n,autoComplete:b,encType:a,method:l,name:h,noValidate:f,target:v,onSubmit:y},o,_)}function ce(e,t,n){return null==e?null:he(e,t)?e:r.createElement(t,n,e)}var le=function(e,t){return e===t};function he(e,t){var n;if(null==e||!(0,r.isValidElement)(e)||"string"===typeof e.type)return!1;var i=e.type,o=(null===(n=e.props)||void 0===n?void 0:n.__type__)||i;return(Array.isArray(t)?t:[t]).some((function(e){return"string"!==typeof o&&le(e,o)}))}var fe="Polaris-FormLayout",de="Polaris-FormLayout__Title",pe="Polaris-FormLayout__Items",ve="Polaris-FormLayout__HelpText",me="Polaris-FormLayout__Item",ge="Polaris-FormLayout--grouped",ye="Polaris-FormLayout--condensed";function be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function _e(e,t){return"".concat(e).concat(t.charAt(0).toUpperCase()).concat(t.slice(1))}function we(e){return r.createElement("div",{className:me},e.children)}var Se=(0,r.createContext)(void 0);function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,r.useContext)(Se),i=(0,r.useRef)(null);if(!n)throw new re("No UniqueIdFactory was provided.");return t||(i.current||(i.current=n.nextId(e)),i.current)}function Te(e){var t,n,i=e.children,o=e.condensed,a=e.title,s=e.helpText,u=be(o?ye:ge),c=Ee("FormLayoutGroup"),l=null,h=null;s&&(t="".concat(c,"HelpText"),l=r.createElement("div",{id:t,className:ve},s)),a&&(n="".concat(c,"Title"),h=r.createElement("div",{id:n,className:de},a));var f=r.Children.map(i,(function(e){return ce(e,we,{})}));return r.createElement("div",{role:"group",className:u,"aria-labelledby":n,"aria-describedby":t},h,r.createElement("div",{className:pe},f),l)}var ke,Ie=(0,r.memo)((function(e){var t=e.children;return r.createElement("div",{className:fe},r.Children.map(t,Ce))}));function Ce(e,t){return he(e,Te)?e:ce(e,we,{key:t})}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ie.Group=Te;var Pe,Oe=function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),ke||(ke=r.createElement("path",{fillRule:"evenodd",d:"M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zM7.707 6.293a1 1 0 0 0-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 1 0 1.414 1.414L10 11.414l2.293 2.293a1 1 0 1 0 1.414-1.414L11.414 10l2.293-2.293a1 1 0 0 0-1.414-1.414L10 8.586 7.707 6.293z"})))};function Re(){var e=s((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),t}!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key0=48]="Key0",e[e.Key1=49]="Key1",e[e.Key2=50]="Key2",e[e.Key3=51]="Key3",e[e.Key4=52]="Key4",e[e.Key5=53]="Key5",e[e.Key6=54]="Key6",e[e.Key7=55]="Key7",e[e.Key8=56]="Key8",e[e.Key9=57]="Key9",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.LeftMeta=91]="LeftMeta",e[e.RightMeta=92]="RightMeta",e[e.Select=93]="Select",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote"}(Pe||(Pe={}));var De={TextField:"Polaris-TextField",multiline:"Polaris-TextField--multiline",Input:"Polaris-TextField__Input",hasValue:"Polaris-TextField--hasValue",focus:"Polaris-TextField--focus",Backdrop:"Polaris-TextField__Backdrop",error:"Polaris-TextField--error",readOnly:"Polaris-TextField--readOnly",disabled:"Polaris-TextField--disabled",Prefix:"Polaris-TextField__Prefix","Input-hasClearButton":"Polaris-TextField__Input--hasClearButton","Input-suffixed":"Polaris-TextField__Input--suffixed","Input-alignRight":"Polaris-TextField__Input--alignRight","Input-alignLeft":"Polaris-TextField__Input--alignLeft","Input-alignCenter":"Polaris-TextField__Input--alignCenter",Suffix:"Polaris-TextField__Suffix",CharacterCount:"Polaris-TextField__CharacterCount",AlignFieldBottom:"Polaris-TextField__AlignFieldBottom",ClearButton:"Polaris-TextField__ClearButton",Spinner:"Polaris-TextField__Spinner",SpinnerIcon:"Polaris-TextField__SpinnerIcon",Resizer:"Polaris-TextField__Resizer",DummyInput:"Polaris-TextField__DummyInput",Segment:"Polaris-TextField__Segment",monospaced:"Polaris-TextField--monospaced"};function Le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe,Me="Polaris-Labelled--hidden",je="Polaris-Labelled__LabelWrapper",Ue="Polaris-Labelled__HelpText",Be="Polaris-Labelled__Error",qe="Polaris-Labelled__Action",Ve=function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),Fe||(Fe=r.createElement("path",{d:"M10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16zM9 9a1 1 0 0 0 2 0V7a1 1 0 1 0-2 0v2zm0 4a1 1 0 1 0 2 0 1 1 0 0 0-2 0z"})))},ze="Polaris-InlineError",He="Polaris-InlineError__Icon",Ke={Icon:"Polaris-Icon",applyColor:"Polaris-Icon--applyColor",hasBackdrop:"Polaris-Icon--hasBackdrop",colorBase:"Polaris-Icon--colorBase",colorSubdued:"Polaris-Icon--colorSubdued",colorCritical:"Polaris-Icon--colorCritical",colorInteractive:"Polaris-Icon--colorInteractive",colorWarning:"Polaris-Icon--colorWarning",colorHighlight:"Polaris-Icon--colorHighlight",colorSuccess:"Polaris-Icon--colorSuccess",colorPrimary:"Polaris-Icon--colorPrimary",Svg:"Polaris-Icon__Svg",Img:"Polaris-Icon__Img",Placeholder:"Polaris-Icon__Placeholder"},Ge=["base","critical","highlight","success","warning"];function We(e){var t,n=e.source,i=e.color,o=e.backdrop,a=e.accessibilityLabel;t="function"===typeof n?"function":"placeholder"===n?"placeholder":"external",o&&i&&Ge.includes(i);var s=be(Ke.Icon,i&&Ke[_e("color",i)],i&&Ke.applyColor,o&&Ke.hasBackdrop),u=n,c={function:r.createElement(u,{className:Ke.Svg,focusable:"false","aria-hidden":"true"}),placeholder:r.createElement("div",{className:Ke.Placeholder}),external:r.createElement("img",{className:Ke.Img,src:"data:image/svg+xml;utf8,".concat(n),alt:"","aria-hidden":"true"})};return r.createElement("span",{className:s},r.createElement(se,null,a),c[t])}function Je(e){var t=e.message,n=e.fieldID;return t?r.createElement("div",{id:Qe(n),className:ze},r.createElement("div",{className:He},r.createElement(We,{source:Ve})),t):null}function Qe(e){return"".concat(e,"Error")}var $e,Ye="Polaris-Label",Xe="Polaris-Label--hidden",Ze="Polaris-Label__Text",et="Polaris-Label__RequiredIndicator";function tt(e){return"".concat(e,"Label")}function nt(e){var t=e.children,n=e.id,i=e.hidden,o=e.requiredIndicator,a=be(Ye,i&&Xe);return r.createElement("div",{className:a},r.createElement("label",{id:tt(n),htmlFor:n,className:be(Ze,o&&et)},t))}var rt,it,ot=function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),$e||($e=r.createElement("path",{d:"M13.098 8H6.902c-.751 0-1.172.754-.708 1.268L9.292 12.7c.36.399 1.055.399 1.416 0l3.098-3.433C14.27 8.754 13.849 8 13.098 8z"})))},at=function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),rt||(rt=r.createElement("path",{d:"M7.676 9h4.648c.563 0 .879-.603.53-1.014L10.531 5.24a.708.708 0 0 0-1.062 0L7.145 7.986C6.798 8.397 7.113 9 7.676 9zm4.648 2H7.676c-.563 0-.878.603-.53 1.014l2.323 2.746c.27.32.792.32 1.062 0l2.323-2.746c.349-.411.033-1.014-.53-1.014z"})))},st=function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),it||(it=r.createElement("path",{d:"M6.902 12h6.196c.751 0 1.172-.754.708-1.268L10.708 7.3c-.36-.399-1.055-.399-1.416 0l-3.098 3.433C5.73 11.246 6.151 12 6.902 12z"})))};function ut(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.bottom,o=t.right;return n>=0&&o<=window.innerWidth&&i<=window.innerHeight&&r>=0}var lt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ht=function(e){return e.currentTarget.blur()};function ft(e,t){var n,r=ut(document.querySelectorAll(lt)),i=r.indexOf(e)+1,o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(r.slice(i));try{for(o.s();!(n=o.n()).done;){var s=n.value;if(ct(s)&&(!t||t&&t(s)))return s}}catch(u){o.e(u)}finally{o.f()}return null}function dt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&vt(e,lt)?e:e.querySelector(lt)}function pt(e){var t="a,button,frame,iframe,input:not([type=hidden]),select,textarea,*[tabindex]";return vt(e,t)?e:e.querySelector(t)}function vt(e,t){if(e.matches)return e.matches(t);for(var n=(e.ownerDocument||document).querySelectorAll(t),r=n.length;--r>=0&&n.item(r)!==e;)return r>-1}var mt={Button:"Polaris-Button",pressed:"Polaris-Button--pressed",disabled:"Polaris-Button--disabled",connectedDisclosure:"Polaris-Button--connectedDisclosure",Content:"Polaris-Button__Content",plain:"Polaris-Button--plain",textAlignLeft:"Polaris-Button--textAlignLeft",textAlignCenter:"Polaris-Button--textAlignCenter",textAlignRight:"Polaris-Button--textAlignRight",Icon:"Polaris-Button__Icon",fullWidth:"Polaris-Button--fullWidth",hidden:"Polaris-Button--hidden",Spinner:"Polaris-Button__Spinner",primary:"Polaris-Button--primary",destructive:"Polaris-Button--destructive",outline:"Polaris-Button--outline",loading:"Polaris-Button--loading",removeUnderline:"Polaris-Button--removeUnderline",iconOnly:"Polaris-Button--iconOnly",sizeSlim:"Polaris-Button--sizeSlim",sizeLarge:"Polaris-Button--sizeLarge",monochrome:"Polaris-Button--monochrome",Text:"Polaris-Button__Text",ConnectedDisclosureWrapper:"Polaris-Button__ConnectedDisclosureWrapper",ConnectedDisclosure:"Polaris-Button__ConnectedDisclosure"},gt={Spinner:"Polaris-Spinner",loading:"Polaris-Spinner--loading",sizeSmall:"Polaris-Spinner--sizeSmall",sizeLarge:"Polaris-Spinner--sizeLarge"};function yt(e){var t=e.size,n=void 0===t?"large":t,i=e.accessibilityLabel,o=e.hasFocusableParent,a=Re(),s=be(gt.Spinner,n&&gt[_e("size",n)]),u="large"===n?r.createElement("svg",{viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M15.542 1.487A21.507 21.507 0 00.5 22c0 11.874 9.626 21.5 21.5 21.5 9.847 0 18.364-6.675 20.809-16.072a1.5 1.5 0 00-2.904-.756C37.803 34.755 30.473 40.5 22 40.5 11.783 40.5 3.5 32.217 3.5 22c0-8.137 5.3-15.247 12.942-17.65a1.5 1.5 0 10-.9-2.863z"})):r.createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.229 1.173a9.25 9.25 0 1011.655 11.412 1.25 1.25 0 10-2.4-.698 6.75 6.75 0 11-8.506-8.329 1.25 1.25 0 10-.75-2.385z"})),c=Ae({},!o&&{role:"status"}),l=(a||!o)&&r.createElement(se,null,i);return r.createElement(r.Fragment,null,r.createElement("span",{className:s},u),r.createElement("span",c,l))}var bt={"data-polaris-scrollable":!0},_t="[data-polaris-scrollable]",wt={props:{"data-polaris-overlay":!0},selector:"[data-polaris-overlay]"},St={props:{"data-polaris-layer":!0},selector:"[data-polaris-layer]"},Et={"data-polaris-unstyled":!0},Tt="[data-polaris-top-bar]",kt="[data-portal-id]";var It=(0,r.createContext)(void 0);function Ct(e){var t=e.children,n=e.idPrefix,o=void 0===n?"":n,a=e.onPortalCreated,s=void 0===a?Nt:a,u=function(){var e=(0,r.useContext)(It);if(!e)throw new Error("No portals manager was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/structure/app-provider for implementation instructions.");return e}().container,c=Ee("portal"),l=""!==o?"".concat(o,"-").concat(c):c;return(0,r.useEffect)((function(){s()}),[s]),u?(0,i.createPortal)(r.createElement("div",{"data-portal-id":l},t),u):null}function Nt(){}var xt="20px",At="Polaris-Popover",Pt="Polaris-Popover__PopoverOverlay",Ot="Polaris-Popover__PopoverOverlay--entering",Rt="Polaris-Popover__PopoverOverlay--open",Dt="Polaris-Popover__PopoverOverlay--exiting",Lt="Polaris-Popover--measuring",Ft="Polaris-Popover--fullWidth",Mt="Polaris-Popover__Content",jt="Polaris-Popover--positionedAbove",Ut="Polaris-Popover__Wrapper",Bt="Polaris-Popover__Content--fullHeight",qt="Polaris-Popover__Content--fluidContent",Vt="Polaris-Popover__Pane",zt="Polaris-Popover__Pane--fixed",Ht="Polaris-Popover__Section",Kt="Polaris-Popover__FocusTracker",Gt="Polaris-Popover__PopoverOverlay--hideOnPrint",Wt="undefined"===typeof window||"undefined"===typeof document,Jt=Wt?r.useEffect:r.useLayoutEffect;function Qt(e){var t=e.keyCode,n=e.handler,i=e.keyEvent,o=void 0===i?"keyup":i,a=(0,r.useRef)({handler:n,keyCode:t});Jt((function(){a.current={handler:n,keyCode:t}}),[n,t]);var s=(0,r.useCallback)((function(e){var t=a.current,n=t.handler,r=t.keyCode;e.keyCode===r&&n(e)}),[]);return(0,r.useEffect)((function(){return document.addEventListener(o,s),function(){document.removeEventListener(o,s)}}),[o,s]),null}var $t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.top,r=void 0===n?0:n,i=t.left,o=void 0===i?0:i,a=t.width,s=void 0===a?0:a,u=t.height,c=void 0===u?0:u;G(this,e),this.top=void 0,this.left=void 0,this.width=void 0,this.height=void 0,this.top=r,this.left=o,this.width=s,this.height=c}return K(e,[{key:"center",get:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}}}],[{key:"zero",get:function(){return new e}}]),e}();function Yt(e){if(!(e instanceof Element))return new $t({width:window.innerWidth,height:window.innerHeight});var t=e.getBoundingClientRect();return new $t({top:t.top,left:t.left,width:t.width,height:t.height})}function Xt(e,t){var n=e.center;return n.y<t.top||n.y>t.top+t.height}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en(),n=Math.max(e.top,0),r=Math.max(e.left,0),i=Math.min(e.top+e.height,t.height),o=Math.min(e.left+e.width,t.width);return new $t({top:n,left:r,height:i-n,width:o-r})}function en(){return new $t({top:window.scrollY,left:window.scrollX,height:window.innerHeight,width:document.body.clientWidth})}var tn="Polaris-PositionedOverlay",nn="Polaris-PositionedOverlay--fixed",rn="Polaris-PositionedOverlay--preventInteraction",on=n(8573),an=n.n(on),sn=(0,r.createContext)(void 0),un="Polaris-Scrollable",cn="Polaris-Scrollable--horizontal",ln="Polaris-Scrollable--vertical",hn="Polaris-Scrollable--verticalHasScrolling",fn="Polaris-Scrollable--hasTopShadow",dn="Polaris-Scrollable--hasBottomShadow";var pn="768px",vn="1043px",mn={media:"",addListener:gn,removeListener:gn,matches:!1,onchange:gn,addEventListener:gn,removeEventListener:gn,dispatchEvent:function(e){return!0}};function gn(){}function yn(){return"undefined"===typeof window?mn:window.matchMedia("(max-width: ".concat(pn,")"))}var bn=1e3/60,_n=function(){function e(t){var n=this;G(this,e),this.stickyItems=[],this.stuckItems=[],this.container=null,this.topBarOffset=0,this.handleResize=an()((function(){n.manageStickyItems()}),bn,{leading:!0,trailing:!0,maxWait:bn}),this.handleScroll=an()((function(){n.manageStickyItems()}),bn,{leading:!0,trailing:!0,maxWait:bn}),t&&this.setContainer(t)}return K(e,[{key:"registerStickyItem",value:function(e){this.stickyItems.push(e)}},{key:"unregisterStickyItem",value:function(e){var t=this.stickyItems.findIndex((function(t){var n=t.stickyNode;return e===n}));this.stickyItems.splice(t,1)}},{key:"setContainer",value:function(e){this.container=e,wn(e)&&this.setTopBarOffset(e),this.container.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize),this.manageStickyItems()}},{key:"removeScrollListener",value:function(){this.container&&(this.container.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize))}},{key:"manageStickyItems",value:function(){var e=this;if(!(this.stickyItems.length<=0)){var t,n=this.container?wn(t=this.container)?document.body.scrollTop||document.documentElement.scrollTop:t.scrollTop:0,r=Yt(this.container).top+this.topBarOffset;this.stickyItems.forEach((function(t){var i=t.handlePositioning,o=e.evaluateStickyItem(t,n,r),a=o.sticky,s=o.top,u=o.left,c=o.width;e.updateStuckItems(t,a),i(a,s,u,c)}))}}},{key:"evaluateStickyItem",value:function(e,t,n){var r=e.stickyNode,i=e.placeHolderNode,o=e.boundingElement,a=e.offset;if(e.disableWhenStacked&&("undefined"===typeof window?mn:window.matchMedia("(max-width: ".concat(vn,")"))).matches)return{sticky:!1,top:0,left:0,width:"auto"};var s,u=a?this.getOffset(r)+parseInt(xt,10):this.getOffset(r),c=t+u,l=i.getBoundingClientRect().top-n+t,h=n+u,f=i.getBoundingClientRect().width,d=i.getBoundingClientRect().left;if(null==o)s=c>=l;else{var p,v=r.getBoundingClientRect().height||(null===(p=r.firstElementChild)||void 0===p?void 0:p.getBoundingClientRect().height)||0,m=o.getBoundingClientRect().bottom-v+t-n;s=c>=l&&c<m}return{sticky:s,top:h,left:d,width:f}}},{key:"updateStuckItems",value:function(e,t){var n=e.stickyNode;t&&!this.isNodeStuck(n)?this.addStuckItem(e):!t&&this.isNodeStuck(n)&&this.removeStuckItem(e)}},{key:"addStuckItem",value:function(e){this.stuckItems.push(e)}},{key:"removeStuckItem",value:function(e){var t=e.stickyNode,n=this.stuckItems.findIndex((function(e){var n=e.stickyNode;return t===n}));this.stuckItems.splice(n,1)}},{key:"getOffset",value:function(e){if(0===this.stuckItems.length)return 0;for(var t=0,n=0,r=this.stuckItems.length,i=Yt(e);n<r;){var o=this.stuckItems[n].stickyNode;if(o===e)break;Sn(i,Yt(o))||(t+=Yt(o).height),n++}return t}},{key:"isNodeStuck",value:function(e){return this.stuckItems.findIndex((function(t){var n=t.stickyNode;return e===n}))>=0}},{key:"setTopBarOffset",value:function(e){var t=e.querySelector(":not(".concat(_t,") ").concat(Tt));this.topBarOffset=t?t.clientHeight:0}}]),e}();function wn(e){return e===document}function Sn(e,t){var n=e.left,r=e.left+e.width,i=t.left;return t.left+t.width<n||r<i}var En=(0,r.createContext)(void 0),Tn=["children","className","horizontal","vertical","shadow","hint","focusable","onScrolledToBottom"],kn=100,In=["scroll","touchmove","wheel"],Cn=function(){try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch(e){return!1}}(),Nn=function(e){J(n,e);var t=ee(n);function n(){var e;G(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={topShadow:!1,bottomShadow:!1,scrollPosition:0,canScroll:!1},e.stickyManager=new _n,e.scrollArea=null,e.handleResize=an()((function(){e.handleScroll()}),50,{trailing:!0}),e.setScrollArea=function(t){e.scrollArea=t},e.handleScroll=function(){var t=X(e).scrollArea,n=e.state.scrollPosition,r=e.props,i=r.shadow,o=r.onScrolledToBottom;if(null!=t){var a=t.scrollTop,s=t.clientHeight,u=t.scrollHeight,c=Boolean(i&&!(a+s>=u)),l=Boolean(i&&a>0&&n>0),h=u>s;h&&u-a<=s+2&&o&&o(),e.setState({topShadow:l,bottomShadow:c,scrollPosition:a,canScroll:h})}},e.scrollHint=function(){var t=X(e).scrollArea;if(null!=t){var n=t.clientHeight,r=t.scrollHeight;if(!(Cn||e.state.scrollPosition>0||r<=n)){var i=r-n;e.toggleLock(),e.setState({scrollPosition:i>kn?kn:i},(function(){window.requestAnimationFrame(e.scrollStep)}))}}},e.scrollStep=function(){e.setState((function(e){var t=e.scrollPosition,n=.2*t;return{scrollPosition:n<.2?0:t-n}}),(function(){e.state.scrollPosition>0?window.requestAnimationFrame(e.scrollStep):e.toggleLock(!1)}))},e.scrollToPosition=function(t){e.setState({scrollPosition:t})},e}return K(n,[{key:"componentDidMount",value:function(){var e=this;null!=this.scrollArea&&(this.stickyManager.setContainer(this.scrollArea),this.scrollArea.addEventListener("scroll",(function(){window.requestAnimationFrame(e.handleScroll)})),window.addEventListener("resize",this.handleResize),window.requestAnimationFrame((function(){e.handleScroll(),e.props.hint&&e.scrollHint()})))}},{key:"componentWillUnmount",value:function(){null!=this.scrollArea&&(this.scrollArea.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),this.stickyManager.removeScrollListener())}},{key:"componentDidUpdate",value:function(){var e=this.state.scrollPosition;e&&this.scrollArea&&e>0&&(this.scrollArea.scrollTop=e)}},{key:"render",value:function(){var e=this.state,t=e.topShadow,n=e.bottomShadow,i=e.canScroll,o=this.props,a=o.children,s=o.className,u=o.horizontal,c=o.vertical,l=void 0===c||c,h=(o.shadow,o.hint,o.focusable),f=(o.onScrolledToBottom,Le(o,Tn)),d=be(s,un,l&&ln,u&&cn,t&&fn,n&&dn,l&&i&&hn);return r.createElement(sn.Provider,{value:this.scrollToPosition},r.createElement(En.Provider,{value:this.stickyManager},r.createElement("div",Object.assign({className:d},bt,f,{ref:this.setScrollArea,tabIndex:h?0:void 0}),a)))}},{key:"toggleLock",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.scrollArea;null!=t&&In.forEach((function(n){e?t.addEventListener(n,xn):t.removeEventListener(n,xn)}))}}],[{key:"forNode",value:function(e){var t=e.closest(_t);return t instanceof HTMLElement?t:document}}]),n}(r.Component);function xn(e){e.preventDefault()}Nn.ScrollTo=function(){var e=(0,r.useRef)(null),t=(0,r.useContext)(sn);(0,r.useEffect)((function(){t&&e.current&&t(e.current.offsetTop)}),[t]);var n=Ee("ScrollTo");return r.createElement("a",{id:n,ref:e})};var An=["passive"],Pn=function(e){J(n,e);var t=ee(n);function n(){return G(this,n),t.apply(this,arguments)}return K(n,[{key:"componentDidMount",value:function(){this.attachListener()}},{key:"componentDidUpdate",value:function(e){e.passive;var t=Le(e,An);this.detachListener(t),this.attachListener()}},{key:"componentWillUnmount",value:function(){this.detachListener()}},{key:"render",value:function(){return null}},{key:"attachListener",value:function(){var e=this.props,t=e.event,n=e.handler,r=e.capture,i=e.passive;window.addEventListener(t,n,{capture:r,passive:i})}},{key:"detachListener",value:function(e){var t=e||this.props,n=t.event,r=t.handler,i=t.capture;window.removeEventListener(n,r,i)}}]),n}(r.PureComponent),On={childList:!0,subtree:!0,characterData:!0},Rn=function(e){J(n,e);var t=ee(n);function n(e){var r;return G(this,n),(r=t.call(this,e)).state={measuring:!0,activatorRect:Yt(r.props.activator),right:void 0,left:void 0,top:0,height:0,width:null,positioning:"below",zIndex:null,outsideScrollableContainer:!1,lockPosition:!1},r.overlay=null,r.scrollableContainer=null,r.observer=void 0,r.overlayDetails=function(){var e=r.state,t=e.measuring,n=e.left,i=e.right,o=e.positioning;return{measuring:t,left:n,right:i,desiredHeight:e.height,positioning:o,activatorRect:e.activatorRect}},r.setOverlay=function(e){r.overlay=e},r.handleMeasurement=function(){var e=r.state,t=e.lockPosition,n=e.top;r.observer.disconnect(),r.setState((function(e){var t=e.left,n=e.top;return{left:t,right:e.right,top:n,height:0,positioning:"below",measuring:!0}}),(function(){if(null!=r.overlay&&null!=r.scrollableContainer){var e=r.props,i=e.activator,o=e.preferredPosition,a=void 0===o?"below":o,s=e.preferredAlignment,u=void 0===s?"center":s,c=e.onScrollOut,l=e.fullWidth,h=e.fixed,f=e.preferInputActivator,d=Yt((void 0===f||f)&&i.querySelector("input")||i),p=Yt(r.overlay),v=r.scrollableContainer===document?document.body:r.scrollableContainer,m=Yt(v),g=l?new $t(Ae(Ae({},p),{},{width:d.width})):p;v===document.body&&(m.height=document.body.scrollHeight);var y=0,b=v.querySelector("".concat(Tt));b&&(y=b.clientHeight);var _=r.overlay.firstElementChild&&r.overlay.firstChild instanceof HTMLElement?function(e){var t=window.getComputedStyle(e);return{activator:parseFloat(t.marginTop||"0"),container:parseFloat(t.marginBottom||"0"),horizontal:parseFloat(t.marginLeft||"0")}}(r.overlay.firstElementChild):{activator:0,container:0,horizontal:0},w=en(),S=function(e){var t=e.closest(St.selector)||document.body,n=t===document.body?"auto":parseInt(window.getComputedStyle(t).zIndex||"0",10);return"auto"===n||isNaN(n)?null:n}(i),E=null==S?S:S+1,T=function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=e.top,c=u+e.height,l=e.top-s,h=i.height-e.top-e.height,f=t.height,d=n.activator+n.container,p=n.container,v=e.top-Math.max(r.top,0),m=i.top+Math.min(i.height,r.top+r.height)-(e.top+e.height),g=v>=p,y=m>=p,b=Math.min(h,f),_=Math.min(l,f),w=a?0:i.top,S={height:_-d,top:u+w-_,positioning:"above"},E={height:b-d,top:c+w,positioning:"below"};return"above"===o?(g||v>=m&&!y)&&(l>f||l>h)?S:E:"below"===o?(y||m>=v&&!g)&&(h>f||h>l)?E:S:g&&y?l>h?S:E:v>p?S:E}(d,g,_,m,w,a,h,y),k=function(e,t,n,r,i){var o=n.width-t.width;if("left"===i)return Math.min(o,Math.max(0,e.left-r.horizontal));if("right"===i){var a=n.width-(e.left+e.width);return Math.min(o,Math.max(0,a-r.horizontal))}return Math.min(o,Math.max(0,e.center.x-t.width/2))}(d,g,w,_,u);r.setState({measuring:!1,activatorRect:Yt(i),left:"right"!==u?k:void 0,right:"right"===u?k:void 0,top:t?n:T.top,lockPosition:Boolean(h),height:T.height||0,width:l?g.width:null,positioning:T.positioning,outsideScrollableContainer:null!=c&&Xt(d,Zt(m)),zIndex:E},(function(){r.overlay&&(r.observer.observe(r.overlay,On),r.observer.observe(i,On))}))}}))},r.observer=new MutationObserver(r.handleMeasurement),r}return K(n,[{key:"componentDidMount",value:function(){this.scrollableContainer=Nn.forNode(this.props.activator),this.scrollableContainer&&!this.props.fixed&&this.scrollableContainer.addEventListener("scroll",this.handleMeasurement),this.handleMeasurement()}},{key:"componentWillUnmount",value:function(){this.scrollableContainer&&!this.props.fixed&&this.scrollableContainer.removeEventListener("scroll",this.handleMeasurement)}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.outsideScrollableContainer,n=e.top,r=this.props,i=r.onScrollOut;r.active&&null!=i&&0!==n&&t&&i()}},{key:"render",value:function(){var e=this.state,t=e.left,n=e.right,i=e.top,o=e.zIndex,a=e.width,s=this.props,u=s.render,c=s.fixed,l=s.preventInteraction,h=s.classNames,f=s.zIndexOverride,d={top:null==i||isNaN(i)?void 0:i,left:null==t||isNaN(t)?void 0:t,right:null==n||isNaN(n)?void 0:n,width:null==a||isNaN(a)?void 0:a,zIndex:f||o||void 0},p=be(tn,c&&nn,l&&rn,h);return r.createElement("div",{className:p,style:d,ref:this.setOverlay},r.createElement(Pn,{event:"resize",handler:this.handleMeasurement}),u(this.overlayDetails()))}},{key:"forceUpdatePosition",value:function(){requestAnimationFrame(this.handleMeasurement)}}]),n}(r.PureComponent);function Dn(e){var t=e.children;return r.createElement("div",{className:Ht},t)}function Ln(e){var t=e.fixed,n=e.sectioned,i=e.children,o=e.onScrolledToBottom,a=be(Vt,t&&zt),s=n?ce(i,Dn,{}):i;return t?r.createElement("div",{className:a},s):r.createElement(Nn,{shadow:!0,className:a,onScrolledToBottom:o},s)}var Fn=JSON.parse('{"surface":"#111213","onSurface":"#111213","interactive":"#2e72d2","secondary":"#111213","primary":"#008060","critical":"#d82c0d","warning":"#ffc453","highlight":"#5bcdda","success":"#008060","decorative":"#ffc96b"}'),Mn=(0,r.createContext)(void 0),jn=n(9589),Un=n(6100);function Bn(e){return e?Object.entries(e).map((function(e){return e.join(":")})).join(";"):""}var qn=function(e){var t=new Map;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=JSON.stringify([e.name,r]);return void 0===t.get(o)&&t.set(o,e.apply(void 0,r)),t.get(o)}}((function(e,t){var n,r=e.colors,i=void 0===r?{}:r,o=e.colorScheme,a=e.config,u=e.frameOffset,c=void 0===u?"0px":u,l=(0,jn.t8)(Un.config,a||{});return n=Ae(Ae(Ae({},(0,jn.wP)(i,o,l)),t),{},{frameOffset:c}),Object.entries(n).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return Ae(Ae({},e),{},Ne({},"--p-".concat(r.replace(/([A-Z0-9])/g,"-$1").toLowerCase()),i))}),{})})),Vn={borderRadiusSlim:"0.2rem",borderRadiusBase:"0.4rem",borderRadiusWide:"0.8rem",borderRadiusFull:"50%",cardShadow:"0px 0px 5px var(--p-shadow-from-ambient-light), 0px 1px 2px var(--p-shadow-from-direct-light)",popoverShadow:"-1px 0px 20px var(--p-shadow-from-ambient-light), 0px 1px 5px var(--p-shadow-from-direct-light)",modalShadow:"0px 26px 80px var(--p-shadow-from-dim-light), 0px 0px 1px var(--p-shadow-from-dim-light)",topBarShadow:"0 2px 2px -1px var(--p-shadow-from-direct-light)",buttonDropShadow:"0 1px 0 rgba(0, 0, 0, 0.05)",buttonInnerShadow:"inset 0 -1px 0 rgba(0, 0, 0, 0.2)",buttonPressedInnerShadow:"inset 0 1px 0 rgba(0, 0, 0, 0.15)",overrideNone:"none",overrideTransparent:"transparent",overrideOne:"1",overrideVisible:"visible",overrideZero:"0",overrideLoadingZIndex:"514",buttonFontWeight:"500",nonNullContent:"''",choiceSize:"2rem",iconSize:"1rem",choiceMargin:"0.1rem",controlBorderWidth:"0.2rem",bannerBorderDefault:zn("--p-border-neutral-subdued"),bannerBorderSuccess:zn("--p-border-success-subdued"),bannerBorderHighlight:zn("--p-border-highlight-subdued"),bannerBorderWarning:zn("--p-border-warning-subdued"),bannerBorderCritical:zn("--p-border-critical-subdued"),badgeMixBlendMode:"luminosity",thinBorderSubdued:"0.1rem solid var(--p-border-subdued)",textFieldSpinnerOffset:"0.2rem",textFieldFocusRingOffset:"-0.4rem",textFieldFocusRingBorderRadius:"0.7rem",buttonGroupItemSpacing:"-0.1rem",duration100:"100ms",duration150:"150ms",easeIn:"cubic-bezier(0.5, 0.1, 1, 1)",ease:"cubic-bezier(0.4, 0.22, 0.28, 1)",rangeSliderThumbSizeBase:"1.6rem",rangeSliderThumbSizeActive:"2.4rem",rangeSliderThumbScale:"1.5",badgeFontWeight:"400"};function zn(e){return"inset 0 0.1rem 0 0 var(".concat(e,"), inset 0 0 0 0.1rem var(").concat(e,")")}var Hn,Kn,Gn=["colors","colorScheme"];function Wn(e){var t,n=e.theme,i=void 0===n?{}:n,o=e.alwaysRenderCustomProperties,a=void 0!==o&&o,u=e.children,c=(0,r.useContext)(Mn),l=void 0===c,h=c&&c.colorScheme&&c.colorScheme,f=c&&c.colors&&c.colors,d=(0,r.useMemo)((function(){var e=i.colors,t=i.colorScheme,n=Ae(Ae(Ae({},Le(i,Gn)),{colorScheme:Jn(t,h)}),{},{colors:Ae(Ae(Ae({},l&&Fn),null!=f&&f),e)}),r=qn(n,Vn),o=function(e,t){var n=e.logo,r=e.colors,i=void 0===r?{}:r,o=e.colorScheme;return{logo:n,cssCustomProperties:Bn(t),colors:i,colorScheme:o}}(n,r);return[r,o]}),[l,h,f,i]),p=s(d,2),v=p[0],m=p[1],g=v["--p-background"]||"",y=v["--p-text"]||"";return(0,r.useEffect)((function(){l&&(document.body.style.backgroundColor=g,document.body.style.color=y)}),[g,y,l]),t=l?v:a||!l&&c.cssCustomProperties!==Bn(v)?Ae(Ae({},v),{color:y}):{color:y},r.createElement(Mn.Provider,{value:m},r.createElement("div",{style:t},u))}function Jn(e,t){return null==e?t||"light":"inverse"===e?"dark"===t||void 0===t?"light":"dark":e}!function(e){e[e.Click=0]="Click",e[e.EscapeKeypress=1]="EscapeKeypress",e[e.FocusOut=2]="FocusOut",e[e.ScrollOut=3]="ScrollOut"}(Hn||(Hn={})),function(e){e.Entering="entering",e.Entered="entered",e.Exiting="exiting",e.Exited="exited"}(Kn||(Kn={}));var Qn=function(e){J(n,e);var t=ee(n);function n(e){var i;return G(this,n),(i=t.call(this,e)).state={transitionStatus:i.props.active?Kn.Entering:Kn.Exited},i.contentNode=(0,r.createRef)(),i.enteringTimer=void 0,i.exitingTimer=void 0,i.overlayRef=void 0,i.renderPopover=function(e){var t=e.measuring,n=e.desiredHeight,o=e.positioning,a=i.props,s=a.id,u=a.children,c=a.sectioned,l=a.fullWidth,h=a.fullHeight,f=a.fluidContent,d=a.hideOnPrint,p=a.colorScheme,v=a.autofocusTarget,m=be(At,"above"===o&&jt,l&&Ft,t&&Lt,d&&Gt),g=t?void 0:{height:n},y=be(Mt,h&&Bt,f&&qt),b=r.createElement("div",{id:s,tabIndex:"none"===v?void 0:-1,className:y,style:g,ref:i.contentNode},function(e,t){var n=r.Children.toArray(e);if(he(n[0],Ln))return n;return ce(n,Ln,t)}(u,{sectioned:c}));return r.createElement("div",Object.assign({className:m},wt.props),r.createElement(Pn,{event:"click",handler:i.handleClick}),r.createElement(Pn,{event:"touchstart",handler:i.handleClick}),r.createElement(Qt,{keyCode:Pe.Escape,handler:i.handleEscape}),r.createElement("div",{className:Kt,tabIndex:0,onFocus:i.handleFocusFirstItem}),r.createElement(Wn,{alwaysRenderCustomProperties:!0,theme:{colorScheme:p}},r.createElement("div",{className:Ut},b)),r.createElement("div",{className:Kt,tabIndex:0,onFocus:i.handleFocusLastItem}))},i.handleClick=function(e){var t=e.target,n=X(i),r=n.contentNode,o=n.props,a=o.activator,s=o.onClose,u=null!=r.current&&$n(r.current,t),c=$n(a,t);u||c||i.state.transitionStatus!==Kn.Entered||s(Hn.Click)},i.handleScrollOut=function(){i.props.onClose(Hn.ScrollOut)},i.handleEscape=function(){i.props.onClose(Hn.EscapeKeypress)},i.handleFocusFirstItem=function(){i.props.onClose(Hn.FocusOut)},i.handleFocusLastItem=function(){i.props.onClose(Hn.FocusOut)},i.overlayRef=(0,r.createRef)(),i}return K(n,[{key:"forceUpdatePosition",value:function(){var e;null===(e=this.overlayRef.current)||void 0===e||e.forceUpdatePosition()}},{key:"changeTransitionStatus",value:function(e,t){this.setState({transitionStatus:e},t),this.contentNode.current&&this.contentNode.current.getBoundingClientRect()}},{key:"componentDidMount",value:function(){this.props.active&&(this.focusContent(),this.changeTransitionStatus(Kn.Entered))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.active&&!e.active&&(this.focusContent(),this.changeTransitionStatus(Kn.Entering,(function(){t.clearTransitionTimeout(),t.enteringTimer=window.setTimeout((function(){t.setState({transitionStatus:Kn.Entered})}),100)}))),!this.props.active&&e.active&&this.changeTransitionStatus(Kn.Exiting,(function(){t.clearTransitionTimeout(),t.exitingTimer=window.setTimeout((function(){t.setState({transitionStatus:Kn.Exited})}),100)}))}},{key:"componentWillUnmount",value:function(){this.clearTransitionTimeout()}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.activator,i=e.fullWidth,o=e.preferredPosition,a=void 0===o?"below":o,s=e.preferredAlignment,u=void 0===s?"center":s,c=e.preferInputActivator,l=void 0===c||c,h=e.fixed,f=e.zIndexOverride,d=this.state.transitionStatus;if(d===Kn.Exited&&!t)return null;var p=be(Pt,d===Kn.Entering&&Ot,d===Kn.Entered&&Rt,d===Kn.Exiting&&Dt);return r.createElement(Rn,{ref:this.overlayRef,fullWidth:i,active:t,activator:n,preferInputActivator:l,preferredPosition:a,preferredAlignment:u,render:this.renderPopover.bind(this),fixed:h,onScrollOut:this.handleScrollOut,classNames:p,zIndexOverride:f})}},{key:"clearTransitionTimeout",value:function(){this.enteringTimer&&window.clearTimeout(this.enteringTimer),this.exitingTimer&&window.clearTimeout(this.exitingTimer)}},{key:"focusContent",value:function(){var e=this,t=this.props.autofocusTarget,n=void 0===t?"container":t;"none"!==n&&null!=this.contentNode&&requestAnimationFrame((function(){if(null!=e.contentNode.current){var t=dt(e.contentNode.current);t&&"first-node"===n?t.focus({preventScroll:!1}):e.contentNode.current.focus({preventScroll:!1})}}))}}]),n}(r.PureComponent);function $n(e,t){if(e===t)return!0;for(var n=t.parentNode;null!=n;){if(n===e)return!0;n=n.parentNode}return!1}var Yn=["activatorWrapper","children","onClose","activator","preventFocusOnClose","active","fixed","ariaHaspopup","preferInputActivator","colorScheme","zIndexOverride"],Xn=(0,r.forwardRef)((function(e,t){var n=e.activatorWrapper,i=void 0===n?"div":n,o=e.children,a=e.onClose,u=e.activator,c=e.preventFocusOnClose,l=e.active,h=e.fixed,f=e.ariaHaspopup,d=e.preferInputActivator,p=void 0===d||d,v=e.colorScheme,m=e.zIndexOverride,g=Le(e,Yn),y=s((0,r.useState)(),2),b=y[0],_=y[1],w=(0,r.useRef)(null),S=(0,r.useRef)(null),E=i,T=Ee("popover");function k(){var e;null===(e=w.current)||void 0===e||e.forceUpdatePosition()}(0,r.useImperativeHandle)(t,(function(){return{forceUpdatePosition:k}}));var I=(0,r.useCallback)((function(){if(null!=S.current){var e=pt(S.current)||S.current,t="disabled"in e&&Boolean(e.disabled);!function(e,t){var n=t.id,r=t.active,i=void 0!==r&&r,o=t.ariaHaspopup,a=t.activatorDisabled;void 0!==a&&a||(e.tabIndex=e.tabIndex||0),e.setAttribute("aria-controls",n),e.setAttribute("aria-owns",n),e.setAttribute("aria-expanded",String(i)),null!=o&&e.setAttribute("aria-haspopup",String(o))}(e,{id:T,active:l,ariaHaspopup:f,activatorDisabled:t})}}),[T,l,f]);(0,r.useEffect)((function(){(!b&&S.current||b&&S.current&&!S.current.contains(b))&&_(S.current.firstElementChild),I()}),[b,I]),(0,r.useEffect)((function(){b&&S.current&&_(S.current.firstElementChild),I()}),[b,I]);var C=b?r.createElement(Ct,{idPrefix:"popover"},r.createElement(Qn,Object.assign({ref:w,id:T,activator:b,preferInputActivator:p,onClose:function(e){if(a(e),null!=S.current&&!c&&(e===Hn.FocusOut||e===Hn.EscapeKeypress)&&b){var t=pt(b)||pt(S.current)||S.current;(function(e,t){var n=ft(e,t);return!!(n&&n instanceof HTMLElement)&&(n.focus(),!0)})(t,Zn)||t.focus()}},active:l,fixed:h,colorScheme:v,zIndexOverride:m},g),o)):null;return r.createElement(E,{ref:S},r.Children.only(u),C)}));function Zn(e){for(var t=e.parentElement;t;){if(t.matches(kt))return!1;t=t.parentElement}return!0}var er,tr=Object.assign(Xn,{Pane:Ln,Section:Dn}),nr="Polaris-ActionList",rr="Polaris-ActionList__Section--withoutTitle",ir="Polaris-ActionList__Actions",or="Polaris-ActionList__Section",ar="Polaris-ActionList__Title",sr="Polaris-ActionList--firstSectionWithTitle",ur="Polaris-ActionList__Item",cr="Polaris-ActionList--active",lr="Polaris-ActionList--destructive",hr="Polaris-ActionList--disabled",fr="Polaris-ActionList__Prefix",dr="Polaris-ActionList__Suffix",pr="Polaris-ActionList__Content",vr="Polaris-ActionList__ContentBlock",mr="Polaris-ActionList__ContentBlockInner",gr="Polaris-ActionList__Text",yr={variationPositive:"Polaris-TextStyle--variationPositive",variationNegative:"Polaris-TextStyle--variationNegative",variationCode:"Polaris-TextStyle--variationCode",variationStrong:"Polaris-TextStyle--variationStrong",variationSubdued:"Polaris-TextStyle--variationSubdued"};function br(e){var t=e.variation,n=e.children,i=be(t&&yr[_e("variation",t)],t===er.Code&&yr.code),o=function(e){return e===er.Code?"code":"span"}(t);return r.createElement(o,{className:i},n)}!function(e){e.Positive="positive",e.Negative="negative",e.Strong="strong",e.Subdued="subdued",e.Code="code"}(er||(er={}));var _r=(0,r.createContext)(!1),wr={Badge:"Polaris-Badge",sizeSmall:"Polaris-Badge--sizeSmall",statusSuccess:"Polaris-Badge--statusSuccess",statusInfo:"Polaris-Badge--statusInfo",statusAttention:"Polaris-Badge--statusAttention",statusWarning:"Polaris-Badge--statusWarning",statusCritical:"Polaris-Badge--statusCritical",statusNew:"Polaris-Badge--statusNew",Pip:"Polaris-Badge__Pip",progressIncomplete:"Polaris-Badge--progressIncomplete",progressPartiallyComplete:"Polaris-Badge--progressPartiallyComplete",progressComplete:"Polaris-Badge--progressComplete",withinFilter:"Polaris-Badge--withinFilter"},Sr="incomplete",Er="partiallyComplete",Tr="complete",kr="info",Ir="success",Cr="warning",Nr="critical",xr="attention",Ar="new",Pr="medium";function Or(e){var t=e.children,n=e.status,i=e.progress,o=e.size,a=void 0===o?Pr:o,s=e.statusAndProgressLabelOverride,u=oe(),c=(0,r.useContext)(_r),l=be(wr.Badge,n&&wr[_e("status",n)],i&&wr[_e("progress",i)],a&&a!==Pr&&wr[_e("size",a)],c&&wr.withinFilter),h="";switch(i){case Sr:h=u.translate("Polaris.Badge.PROGRESS_LABELS.incomplete");break;case Er:h=u.translate("Polaris.Badge.PROGRESS_LABELS.partiallyComplete");break;case Tr:h=u.translate("Polaris.Badge.PROGRESS_LABELS.complete")}var f="";switch(n){case kr:f=u.translate("Polaris.Badge.STATUS_LABELS.info");break;case Ir:f=u.translate("Polaris.Badge.STATUS_LABELS.success");break;case Cr:f=u.translate("Polaris.Badge.STATUS_LABELS.warning");break;case Nr:f=u.translate("Polaris.Badge.STATUS_LABELS.critical");break;case xr:f=u.translate("Polaris.Badge.STATUS_LABELS.attention");break;case Ar:f=u.translate("Polaris.Badge.STATUS_LABELS.new")}var d=s||u.translate("Polaris.Badge.progressAndStatus",{progressLabel:h,statusLabel:f}),p=(h||f||s)&&r.createElement(se,null,d);return h&&(p=r.createElement("span",{className:wr.Pip},p)),r.createElement("span",{className:l},p,t)}var Rr=(0,r.createContext)(void 0);var Dr=["external","url"],Lr=(0,r.memo)((0,r.forwardRef)((function(e,t){var n=(0,r.useContext)(Rr);if(n)return r.createElement(n,Object.assign({},Et,e));var i=e.external,o=e.url,a=Le(e,Dr),s=i?"_blank":void 0,u=i?"noopener noreferrer":void 0;return r.createElement("a",Object.assign({target:s},a,{href:o,rel:u},Et))})));function Fr(e){var t=e.id,n=e.badge,i=e.content,o=e.accessibilityLabel,a=e.helpText,s=e.url,u=e.onAction,c=e.icon,l=e.image,h=e.prefix,f=e.suffix,d=e.disabled,p=e.external,v=e.destructive,m=e.ellipsis,g=e.active,y=e.role,b=be(ur,d&&hr,v&&lr,g&&cr),_=null;h?_=r.createElement("span",{className:fr},h):c?_=r.createElement("span",{className:fr},r.createElement(We,{source:c})):l&&(_=r.createElement("span",{role:"presentation",className:fr,style:{backgroundImage:"url(".concat(l)}}));var w=m&&i?"".concat(i,"\u2026"):i,S=a?r.createElement("span",{className:vr},r.createElement("span",{className:mr},w),r.createElement(br,{variation:"subdued"},a)):w,E=n&&r.createElement("span",{className:dr},r.createElement(Or,{status:n.status},n.content)),T=f&&r.createElement("span",{className:dr},f),k=r.createElement("span",{className:gr},S),I=r.createElement("span",{className:pr},_,k,E,T),C=g?r.createElement(Nn.ScrollTo,null):null,N=s?r.createElement(Lr,{id:t,url:d?null:s,className:b,external:p,"aria-label":o,onClick:d?null:u},I):r.createElement("button",{id:t,type:"button",className:b,disabled:d,"aria-label":o,onClick:u,onMouseUp:ht},I);return r.createElement("li",{role:y},C,N)}var Mr=["content","helpText","onAction"];function jr(e){var t=e.section,n=e.hasMultipleSections,i=e.actionRole,o=e.firstSection,a=e.onActionAnyItem,s=t.items.map((function(e,t){var n,o=e.content,s=e.helpText,u=e.onAction,c=Le(e,Mr);return r.createElement(Fr,Object.assign({key:"".concat(o,"-").concat(t),content:o,helpText:s,role:i,onAction:(n=u,function(){n&&n(),a&&a()})},c))})),u=t.title?void 0:rr,c=be(ar,o&&sr),l=t.title?r.createElement("p",{className:c},t.title):null,h="option"===i?"presentation":void 0,f=r.createElement("div",{className:u},l,r.createElement("ul",{className:ir,role:h},s));return n?r.createElement("li",{className:or},f):f}function Ur(e){var t=e.items,n=e.sections,i=void 0===n?[]:n,o=e.actionRole,a=e.onActionAnyItem,s=[];t?s=[{items:t}].concat(ut(i)):i&&(s=i);var u=be(nr),c=s.length>1,l=c?"ul":"div",h=s.map((function(e,t){return e.items.length>0?r.createElement(jr,{key:e.title||t,firstSection:0===t,section:e,hasMultipleSections:c,actionRole:o,onActionAnyItem:a}):null}));return r.createElement(l,{className:u},h)}var Br=["id","children","className","url","external","download","submit","disabled","loading","pressed","accessibilityLabel","role","ariaControls","ariaExpanded","ariaDescribedBy","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","onMouseEnter","onTouchStart"];function qr(e){var t=e.id,n=e.children,i=e.className,o=e.url,a=e.external,s=e.download,u=e.submit,c=e.disabled,l=e.loading,h=e.pressed,f=e.accessibilityLabel,d=e.role,p=e.ariaControls,v=e.ariaExpanded,m=e.ariaDescribedBy,g=e.onClick,y=e.onFocus,b=e.onBlur,_=e.onKeyDown,w=e.onKeyPress,S=e.onKeyUp,E=e.onMouseEnter,T=e.onTouchStart,k=Le(e,Br),I={id:t,className:i,"aria-label":f},C=Ae(Ae({},I),{},{role:d,onClick:g,onFocus:y,onBlur:b,onMouseUp:ht,onMouseEnter:E,onTouchStart:T});return o?c?r.createElement("a",I,n):r.createElement(Lr,Object.assign({},C,{url:o,external:a,download:s},k),n):r.createElement("button",Object.assign({},C,{type:u?"submit":"button",disabled:c,"aria-busy":!!l||void 0,"aria-controls":p,"aria-expanded":v,"aria-describedby":m,"aria-pressed":h,onKeyDown:_,onKeyUp:S,onKeyPress:w},k),n)}var Vr="medium";function zr(e){var t,n=e.id,i=e.children,o=e.url,a=e.disabled,u=e.external,c=e.download,l=e.submit,h=e.loading,f=e.pressed,d=e.accessibilityLabel,p=e.role,v=e.ariaControls,m=e.ariaExpanded,g=e.ariaDescribedBy,y=e.onClick,b=e.onFocus,_=e.onBlur,w=e.onKeyDown,S=e.onKeyPress,E=e.onKeyUp,T=e.onMouseEnter,k=e.onTouchStart,I=e.icon,C=e.primary,N=e.outline,x=e.destructive,A=e.disclosure,P=e.plain,O=e.monochrome,R=e.removeUnderline,D=e.size,L=void 0===D?Vr:D,F=e.textAlign,M=e.fullWidth,j=e.connectedDisclosure,U=oe(),B=a||h,q=be(mt.Button,C&&mt.primary,N&&mt.outline,x&&mt.destructive,B&&mt.disabled,h&&mt.loading,P&&mt.plain,f&&!a&&!o&&mt.pressed,O&&mt.monochrome,L&&L!==Vr&&mt[_e("size",L)],F&&mt[_e("textAlign",F)],M&&mt.fullWidth,I&&null==i&&mt.iconOnly,j&&mt.connectedDisclosure,R&&mt.removeUnderline),V=A?r.createElement("span",{className:mt.Icon},r.createElement("div",{className:be(mt.DisclosureIcon,h&&mt.hidden)},r.createElement(We,{source:h?"placeholder":Hr(A)}))):null,z=function(e){return"string"===typeof e||"object"===typeof e&&e.body||"function"===typeof e}(I)?r.createElement(We,{source:h?"placeholder":I}):I,H=z?r.createElement("span",{className:be(mt.Icon,h&&mt.hidden)},z):null,K=i?r.createElement("span",{className:be(mt.Text,R&&mt.removeUnderline),key:a?"text-disabled":"text"},i):null,G=h?r.createElement("span",{className:mt.Spinner},r.createElement(yt,{size:"small",accessibilityLabel:U.translate("Polaris.Button.spinnerAccessibilityLabel")})):null,W=s((0,r.useState)(!1),2),J=W[0],Q=W[1],$=(0,r.useCallback)((function(){Q((function(e){return!e}))}),[]);if(j){var Y=be(mt.Button,C&&mt.primary,N&&mt.outline,L&&L!==Vr&&mt[_e("size",L)],F&&mt[_e("textAlign",F)],x&&mt.destructive,j.disabled&&mt.disabled,mt.iconOnly,mt.ConnectedDisclosure,O&&mt.monochrome),X=U.translate("Polaris.Button.connectedDisclosureAccessibilityLabel"),Z=j.disabled,ee=j.accessibilityLabel,te=void 0===ee?X:ee,ne=r.createElement("button",{type:"button",className:Y,disabled:Z,"aria-label":te,"aria-describedby":g,onClick:$,onMouseUp:ht},r.createElement("span",{className:mt.Icon},r.createElement(We,{source:ot})));t=r.createElement(tr,{active:J,onClose:$,activator:ne,preferredAlignment:"right"},r.createElement(Ur,{items:j.actions,onActionAnyItem:$}))}var re={id:n,className:q,accessibilityLabel:d,ariaDescribedBy:g,role:p,onClick:y,onFocus:b,onBlur:_,onMouseUp:ht,onMouseEnter:T,onTouchStart:k},ie={url:o,external:u,download:c},ae={submit:l,disabled:B,loading:h,ariaControls:v,ariaExpanded:m,pressed:f,onKeyDown:w,onKeyUp:E,onKeyPress:S},se=r.createElement(qr,Object.assign({},re,ie,ae),r.createElement("span",{className:mt.Content},G,H,K,V));return t?r.createElement("div",{className:mt.ConnectedDisclosureWrapper},se,t):se}function Hr(e){return"select"===e?at:"up"===e?st:ot}var Kr=["content","onAction"];function Gr(e,t,n){var i=e.content,o=e.onAction,a=Le(e,Kr);return r.createElement(zr,Object.assign({key:n,onClick:o},a,t),i)}var Wr=["id","label","error","action","helpText","children","labelHidden","requiredIndicator"];function Jr(e){var t=e.id,n=e.label,i=e.error,o=e.action,a=e.helpText,s=e.children,u=e.labelHidden,c=e.requiredIndicator,l=Le(e,Wr),h=be(u&&Me),f=o?r.createElement("div",{className:qe},Gr(o,{plain:!0})):null,d=a?r.createElement("div",{className:Ue,id:Qr(t)},a):null,p=i&&"boolean"!==typeof i&&r.createElement("div",{className:Be},r.createElement(Je,{message:i,fieldID:t})),v=n?r.createElement("div",{className:je},r.createElement(nt,Object.assign({id:t,requiredIndicator:c},l,{hidden:!1}),n),f):null;return r.createElement("div",{className:h},v,s,p,d)}function Qr(e){return"".concat(e,"HelpText")}var $r={Connected:"Polaris-Connected",Item:"Polaris-Connected__Item","Item-primary":"Polaris-Connected__Item--primary","Item-focused":"Polaris-Connected__Item--focused"};function Yr(e){var t=e.children,n=e.position,i=function(e){var t=s((0,r.useState)(e),2),n=t[0],i=t[1];return{value:n,toggle:(0,r.useCallback)((function(){return i((function(e){return!e}))}),[]),setTrue:(0,r.useCallback)((function(){return i(!0)}),[]),setFalse:(0,r.useCallback)((function(){return i(!1)}),[])}}(!1),o=i.value,a=i.setTrue,u=i.setFalse,c=be($r.Item,o&&$r["Item-focused"],"primary"===n?$r["Item-primary"]:$r["Item-connection"]);return r.createElement("div",{onBlur:u,onFocus:a,className:c},t)}function Xr(e){var t=e.children,n=e.left,i=e.right,o=n?r.createElement(Yr,{position:"left"},n):null,a=i?r.createElement(Yr,{position:"right"},i):null;return r.createElement("div",{className:$r.Connected},o,r.createElement(Yr,{position:"primary"},t),a)}function Zr(e){var t=e.onChange,n=e.onClick,i=e.onMouseDown,o=e.onMouseUp;function a(e){return function(){return t(e)}}function s(e){return function(t){0===t.button&&i(e)}}return r.createElement("div",{className:De.Spinner,onClick:n,"aria-hidden":!0},r.createElement("div",{role:"button",className:De.Segment,tabIndex:-1,onClick:a(1),onMouseDown:s(a(1)),onMouseUp:o},r.createElement("div",{className:De.SpinnerIcon},r.createElement(We,{source:st}))),r.createElement("div",{role:"button",className:De.Segment,tabIndex:-1,onClick:a(-1),onMouseDown:s(a(-1)),onMouseUp:o},r.createElement("div",{className:De.SpinnerIcon},r.createElement(We,{source:ot}))))}function ei(e){var t=e.contents,n=e.currentHeight,i=void 0===n?null:n,o=e.minimumLines,a=e.onHeightChange,s=(0,r.useRef)(null),u=(0,r.useRef)(null),c=(0,r.useRef)(),l=(0,r.useRef)(i);i!==l.current&&(l.current=i),(0,r.useEffect)((function(){return function(){c.current&&cancelAnimationFrame(c.current)}}),[]);var h=o?r.createElement("div",{ref:u,className:De.DummyInput,dangerouslySetInnerHTML:{__html:ii(o)}}):null,f=(0,r.useCallback)((function(){c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame((function(){if(s.current&&u.current){var e=Math.max(s.current.offsetHeight,u.current.offsetHeight);e!==l.current&&a(e)}}))}),[a]);return(0,r.useLayoutEffect)((function(){f()})),r.createElement("div",{"aria-hidden":!0,className:De.Resizer},r.createElement(Pn,{event:"resize",handler:f}),r.createElement("div",{ref:s,className:De.DummyInput,dangerouslySetInnerHTML:{__html:oi(t)}}),h)}var ti={"&":"&amp;","<":"&lt;",">":"&gt;","\n":"<br>","\r":""},ni=new RegExp("[".concat(Object.keys(ti).join(),"]"),"g");function ri(e){return ti[e]}function ii(e){for(var t="",n=0;n<e;n++)t+="<br>";return t}function oi(e){return e?"".concat(e.replace(ni,ri),"<br>"):"<br>"}function ai(e){var t=e.prefix,n=e.suffix,i=e.placeholder,o=e.value,a=e.helpText,u=e.label,c=e.labelAction,l=e.labelHidden,h=e.disabled,f=e.clearButton,d=e.readOnly,p=e.autoFocus,v=e.focused,m=e.multiline,g=e.error,y=e.connectedRight,b=e.connectedLeft,_=e.type,w=e.name,S=e.id,E=e.role,T=e.step,k=e.autoComplete,I=e.max,C=e.maxLength,N=e.maxHeight,x=e.min,A=e.minLength,P=e.pattern,O=e.inputMode,R=e.spellCheck,D=e.ariaOwns,L=e.ariaControls,F=e.ariaExpanded,M=e.ariaActiveDescendant,j=e.ariaAutocomplete,U=e.showCharacterCount,B=e.align,q=e.onClearButtonClick,V=e.onChange,z=e.onFocus,H=e.onBlur,K=e.requiredIndicator,G=e.monospaced,W=oe(),J=s((0,r.useState)(null),2),Q=J[0],$=J[1],Y=s((0,r.useState)(Boolean(v)),2),X=Y[0],Z=Y[1],ee=Re(),te=Ee("TextField",S),ne=(0,r.useRef)(null),re=(0,r.useRef)(null),ie=(0,r.useRef)(null),ae=(0,r.useRef)();(0,r.useEffect)((function(){var e=ne.current;e&&void 0!==v&&(v?e.focus():e.blur())}),[v]);var ue="string"===typeof o?o:"",ce=null!=T?T:1,le=null!=I?I:1/0,he=null!=x?x:-1/0,fe=be(De.TextField,Boolean(ue)&&De.hasValue,h&&De.disabled,d&&De.readOnly,g&&De.error,m&&De.multiline,X&&De.focus),de="currency"===_?"text":_,pe=t?r.createElement("div",{className:De.Prefix,id:"".concat(te,"Prefix"),ref:re},t):null,ve=n?r.createElement("div",{className:De.Suffix,id:"".concat(te,"Suffix"),ref:ie},n):null,me=null;if(U){var ge=ue.length,ye=C?W.translate("Polaris.TextField.characterCountWithMaxLength",{count:ge,limit:C}):W.translate("Polaris.TextField.characterCount",{count:ge}),we=be(De.CharacterCount,m&&De.AlignFieldBottom),Se=C?"".concat(ge,"/").concat(C):ge;me=r.createElement("div",{id:"".concat(te,"CharacterCounter"),className:we,"aria-label":ye,"aria-live":X?"polite":"off","aria-atomic":"true"},Se)}var Te=""!==ue&&f?r.createElement("button",{type:"button",className:De.ClearButton,onClick:function(){q&&q(te)},disabled:h},r.createElement(se,null,W.translate("Polaris.Common.clear")),r.createElement(We,{source:Oe,color:"base"})):null,ke=(0,r.useCallback)((function(e){if(null!=V){var t=function(e){return(e.toString().split(".")[1]||[]).length},n=o?parseFloat(o):0;if(!isNaN(n)){var r=Math.max(t(n),t(ce)),i=Math.min(Number(le),Math.max(n+e*ce,Number(he)));V(String(i.toFixed(r)),te)}}}),[te,le,he,V,ce,o]),Ie=(0,r.useCallback)((function(){clearTimeout(ae.current)}),[]),Ce=(0,r.useCallback)((function(e){var t=200;ae.current=window.setTimeout((function n(){t>50&&(t-=10),e(0),ae.current=window.setTimeout(n,t)}),t),document.addEventListener("mouseup",Ie,{once:!0})}),[Ie]),Ne="number"!==_||0===T||h||d?null:r.createElement(Zr,{onChange:ke,onMouseDown:Ce,onMouseUp:Ie}),xe=m&&Q?{height:Q,maxHeight:N}:null,Le=(0,r.useCallback)((function(e){$(e)}),[]),Fe=m&&ee?r.createElement(ei,{contents:ue||i,currentHeight:Q,minimumLines:"number"===typeof m?m:1,onHeightChange:Le}):null,Me=[];g&&Me.push("".concat(te,"Error")),a&&Me.push(Qr(te)),U&&Me.push("".concat(te,"CharacterCounter"));var je=[];t&&je.push("".concat(te,"Prefix")),n&&je.push("".concat(te,"Suffix")),je.unshift(tt(te));var Ue=be(De.Input,B&&De[_e("Input-align",B)],n&&De["Input-suffixed"],f&&De["Input-hasClearButton"],G&&De.monospaced),Be=(0,r.createElement)(m?"textarea":"input",Ae({name:w,id:te,disabled:h,readOnly:d,role:E,autoFocus:p,value:ue,placeholder:i,onFocus:z,onBlur:H,onKeyPress:function(e){var t=e.key,n=e.which;if("number"!==_||n===Pe.Enter||/[\d.eE+-]$/.test(t))return;e.preventDefault()},style:xe,autoComplete:k,className:Ue,onChange:function(e){V&&V(e.currentTarget.value,te)},ref:ne,min:x,max:I,step:T,minLength:A,maxLength:C,spellCheck:R,pattern:P,inputMode:O,type:de,"aria-describedby":Me.length?Me.join(" "):void 0,"aria-labelledby":je.join(" "),"aria-invalid":Boolean(g),"aria-owns":D,"aria-activedescendant":M,"aria-autocomplete":j,"aria-controls":L,"aria-expanded":F,"aria-required":K},function(e){return e&&(Boolean(e)||e>0)?{"aria-multiline":!0}:void 0}(m))),qe=be(De.Backdrop,b&&De["Backdrop-connectedLeft"],y&&De["Backdrop-connectedRight"]);return r.createElement(Jr,{label:u,id:te,error:g,action:c,labelHidden:l,helpText:a,requiredIndicator:K},r.createElement(Xr,{left:b,right:y},r.createElement("div",{className:fe,onFocus:function(e){if(Ve(e.target))return;Z(!0)},onBlur:function(){Z(!1)},onClick:function(e){var t;if(Ve(e.target)||X)return;null===(t=ne.current)||void 0===t||t.focus()}},pe,Be,ve,me,Te,Ne,r.createElement("div",{className:qe}),Fe)));function Ve(e){return e instanceof HTMLElement&&(re.current&&re.current.contains(e)||ie.current&&ie.current.contains(e))}}var si=n(3837);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Pi){this.f(Pi)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Pi){n.reject(Pi)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Qa(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function I(e,t,n){this.code=x+e,this.message=t||A[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new I(t.substring(x.length),e.message,e.serverResponse):null}T(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var N,x="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(lk){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function F(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}N=O("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(L,D),L.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new M((function(){return new V}),(function(e){e.reset()}));function q(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function J(e,t){return 0<=z(e,t)}function Q(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Y(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){Z=he;break e}}Z=""}function fe(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(ak){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(ak){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Ee&&t||"",this.b=Se}function _e(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(F("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.sa=!0,be.prototype.ra=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var we,Se={},Ee={};function Te(){if(void 0===we){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){s.console&&s.console.error(n.message)}we=e}else we=e}return we}function ke(e,t){this.a=t===Ae?e:""}function Ie(e){return e instanceof ke&&e.constructor===ke?e.a:(F("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=_e(e);if(!xe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new ke(e=t?t.createScriptURL(e):e,Ae)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?_e(e):encodeURIComponent(String(e))})))}ke.prototype.sa=!0,ke.prototype.ra=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,xe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Pe(e,t){this.a=t===je?e:""}function Oe(e){return e instanceof Pe&&e.constructor===Pe?e.a:(F("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Pe.prototype.sa=!0,Pe.prototype.ra=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e))e=new Pe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Pe(e,je):null}return e}function Me(e){return e instanceof Pe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Pe(e,je))}var je={},Ue=new Pe("about:invalid#zClosurez",je);function Be(e,t,n){this.a=n===qe?e:""}Be.prototype.sa=!0,Be.prototype.ra=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Ve(e,t,n,r){return e=e instanceof Pe?e:Me(e),t=t||s,n=n instanceof be?_e(n):n||"",t.open(Oe(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=h;var Ge,We=fe("Opera"),Je=fe("Trident")||fe("MSIE"),Qe=fe("Edge"),$e=Qe||Je,Ye=fe("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Xe=ue(Z.toLowerCase(),"webkit")&&!fe("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Ye?/rv:([^\);]+)(\)|;)/.exec(e):Qe?/Edge\/([\d\.]+)/.exec(e):Je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xe?/WebKit\/(\S+)/.exec(e):We?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Je){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){Ge=String(nt);break e}}Ge=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(Ge)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Je){var at=Ze();rt=at||(parseInt(Ge,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var ut=!Je||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}H(a?X(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function mt(e){s.setTimeout((function(){throw e}),0)}function gt(e,t){ft||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ft=function(){e.then(_t)}}else ft=function(){var e=_t;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!fe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ht||(ht=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ht(e)):s.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new U;function _t(){for(var e;e=q();){try{e.a.call(e.b)}catch(lk){mt(lk)}j(B,e)}yt=!1}function wt(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Lt(n,Et,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(By){}Lt(n,Tt,e)}))}catch(r){Lt(this,Tt,r)}}var St=0,Et=2,Tt=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new M((function(){return new kt}),(function(e){e.reset()}));function Ct(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function Nt(e){if(e instanceof wt)return e;var t=new wt(h);return Lt(t,Et,e),t}function xt(e){return new wt((function(t,n){n(e)}))}function At(e,t,n){Ft(e,t,n,null)||gt(S(t,e))}function Pt(e){return new wt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Ot(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==St&&1==r?Ot(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),Ut(n,i,Tt,t)))}e.c=null}else Lt(e,Tt,t)}function Rt(e,t){e.b||e.a!=Et&&e.a!=Tt||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=Ct(null,null,null);return i.a=new wt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Pi){o(Pi)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(Pi){o(Pi)}}:o})),i.a.c=e,Rt(e,i),i.a}function Lt(e,t,n){e.a==St&&(e===n&&(t=Tt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=Tt||n instanceof Vt||function(e,t){e.g=!0,gt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof wt)return Rt(e,Ct(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Mt(e){e.h||(e.h=!0,gt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Tt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,r);else try{t.c?t.g.call(t.f):Bt(t,n,r)}catch(By){qt.call(null,By)}j(It,t)}function Bt(e,t,n){t==Et?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}wt.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},wt.prototype.$goog_Thenable=!0,(e=wt.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Rt(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==St){var t=new Vt(e);gt((function(){Ot(this,t)}),this)}},e.$c=function(e){this.a=St,Lt(this,Et,e)},e.ad=function(e){this.a=St,Lt(this,Tt,e)},e.gc=function(){for(var e;e=jt(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=mt;function Vt(e){D.call(this,e)}function zt(){0!=Ht&&(Kt[m(this)]=this),this.xa=this.xa,this.pa=this.pa}T(Vt,D),Vt.prototype.name="cancel";var Ht=0,Kt={};function Gt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Ht)){var t=m(e);if(0!=Ht&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}zt.prototype.xa=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Wt=Object.freeze||function(e){return e},Jt=!Je||9<=Number(st),Qt=Je&&!ot("9"),$t=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Xt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ye){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Xt,Yt);var Zt=Wt({2:"touch",3:"pen",4:"mouse"});Xt.prototype.preventDefault=function(){Xt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(lk){}},Xt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function rn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new nn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=wn(n),e&&e[en]?En(e,t,n,v(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=yn,t=Jt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=wn(n),e&&e[en]?Tn(e,t,n,v(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=wn(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.va){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function mn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&pn(e),n.call(r,t)}function yn(e,t){if(e.va)return!0;if(!Jt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Xt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(ak){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=mn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=mn(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Xt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return p(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function Sn(){zt.call(this),this.v=new on(this),this.ac=this,this.gb=null}function En(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Tn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function kn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new wt((function(n,r){-1==(t=In((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Nn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function xn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];On(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)On(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(Sn,zt),Sn.prototype[en]=!0,Sn.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},Sn.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},Sn.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"===typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;ge(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=kn(a,r,!0,e)&&i}if(i=kn(a=e.b=n,r,!0,e)&&i,i=kn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=kn(a=e.b=t[o],r,!1,e)&&i;return i},Sn.prototype.Da=function(){if(Sn.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=An.prototype).W=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return On(this.b,e)?this.b[e]:t},e.set=function(e,t){On(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Mn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Rn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Fn(this,n[4]),this.f=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Ln(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,Jn)),e.b=new $n(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Bn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function qn(e,t,n,r){var i=new Dn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Wn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,Qn)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,Wn=/[#\?]/g,Jn=/[#\?@]/g,Qn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xn(e){var t=xn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=Nn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Yn(e),t=rr(e,t),On(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,On((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function er(e,t){return Yn(e),t=rr(e,t),On(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),X(n)),e.b+=n.length)}function nr(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=$n.prototype).add=function(e,t){Yn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Yn(this),this.a.forEach((function(n,r){H(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Yn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Yn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=Y(t,this.a.get(rr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return Yn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Je&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||s.window;var n="about:blank";e&&(n=Oe(Fe(e)||Ue)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(lk){}}function mr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Cr(Ar())==kr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:Fe("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Me(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ve("",r,n,a),e=Oe(t),a&&($e&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new Be(e=(r=Te())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(F("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ve(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(_i){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new wt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function _r(e){return e=e||Ar(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var e=s.window;try{return!(!e||e==e.top)}catch(lk){return!1}}function Sr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Er(){return si.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":si.Z.INTERNAL.hasOwnProperty("node")?"Node":Sr()?"Worker":"Browser"}function Tr(){var e=Er();return"ReactNative"===e||"Node"===e}var kr="Firefox",Ir="Chrome";function Cr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?kr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ir:"Safari"}var Nr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xr(e,t){t=t||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Cr(i=Ar()):"Worker"===r&&(r=Cr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Or(){try{var e=s.localStorage,t=Br();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!s.indexedDB}catch(n){return Sr()&&!!s.indexedDB}return!1}function Rr(){return(Dr()||"chrome-extension:"===Lr()||_r())&&!Tr()&&Or()&&!Sr()}function Dr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return s.location&&s.location.protocol||null}function Fr(e){return!pr(e=e||Ar())&&Cr(e)!=kr}function Mr(e){return"undefined"===typeof e?null:ir(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function Br(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=Cr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function zr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Er(),this.b=pr(e)||"ReactNative"===t}function Hr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Kr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!Pr("fireauth.oauthhelper",s)&&!Pr("fireauth.iframe",s))}zr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Dr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Jr={};function Qr(e){Jr[e]||(Jr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==$r.abcd}catch(pa){Wr=!1}function Yr(e,t,n){Wr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Xr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Yr(e,n,t[n])}function Zr(e){var t={};return Xr(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Yr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",e[oi]),Yr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",t)}function ni(e){try{var t=new ui(e)}catch(n){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function ui(e){ti.call(this,e),Yr(this,"phoneNumber",e[ai])}function ci(e){var t={},n=e[di],r=e[vi],i=e[mi];if(e=ni(e[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==fi?(t[yi]=n||null,t[wi]=n||null,t[gi]=r):(t[yi]=r||null,t[wi]=r||null,t[gi]=n||null),t[bi]=e||null,Yr(this,Ei,i),Yr(this,Si,ei(t))}T(ui,ti),ui.prototype.w=function(){var e=ui.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",mi="requestType",gi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",Si="data",Ei="operation";function Ti(e){var t=Un(e=Bn(e),ki)||null,n=Un(e,Ii)||null,r=Un(e,xi)||null;if(r=r&&Oi[r]||null,!t||!n||!r)throw new I("argument-error",ki+", "+Ii+"and "+xi+" are required in a valid action code URL.");Xr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Ci)||null,languageCode:Un(e,Ni)||null,tenantId:Un(e,Ai)||null})}var ki="apiKey",Ii="oobCode",Ci="continueUrl",Ni="languageCode",xi="mode",Ai="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Ri(e){try{return new Ti(e)}catch(lk){return null}}function Di(e){var t=e[Ui];if("undefined"===typeof t)throw new I("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Li];if(n&&"object"===typeof n){t=n[Vi];var r=n[Bi];if(n=n[qi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new I("argument-error",Bi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new I("argument-error",qi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new I("argument-error",Vi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new I("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new I("argument-error",Li+" property must be a non null object when specified.");if(this.f=null,(t=e[ji])&&"object"===typeof t){if("string"===typeof(t=t[zi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new I("argument-error",zi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new I("argument-error",ji+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Mi])&&"boolean"!==typeof t)throw new I("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Fi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new I("argument-error",Fi+" property must be a non empty string when specified.");this.i=e||null}var Li="android",Fi="dynamicLinkDomain",Mi="handleCodeInApp",ji="iOS",Ui="url",Bi="installApp",qi="minimumVersion",Vi="packageName",zi="bundleId";function Hi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ki=null;function Gi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ki){Ki={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Wi(e){var t=Qi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ji(e){try{return new Wi(e)}catch(lk){return null}}function Qi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Gi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Pi){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:$i},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Zi(e){for(var t in Xi)if(Xi[t].fa==e)return Xi[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Ji(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Yr(this,"providerId",t),Yr(this,"isNewUser",n)}function io(e){ro.call(this,e),Yr(this,"profile",ei((e=Ur(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",e.screenName||null)}function co(e){var t=Bn(e),n=Un(t,"link"),r=Un(Bn(n),"link");return t=Un(t,"deep_link_id"),Un(Bn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:fo}T(io,ro),T(oo,io),T(ao,io),T(so,io),T(uo,io);var ho="enroll",fo="signin";function po(){}function vo(e,t){return e.then((function(e){if(e[is]){var n=Ji(e[is]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==x+"user-not-found"?new I("user-mismatch"):e}))}function mo(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,Yr(this,"providerId",e),Yr(this,"signInMethod",e)}function go(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(lk){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Yr(this,"idToken",t.idToken),t.accessToken&&Yr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Yr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Yr(this,"accessToken",t.oauthToken),Yr(this,"secret",t.oauthTokenSecret)}Yr(this,"providerId",e),Yr(this,"signInMethod",n)}function _o(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Xn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function So(e,t){this.Qc=t||[],Xr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Zi(e)||{}).Ja||null,this.ob=null}function Eo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,e,[])}function To(e){So.call(this,e,Yi),this.a=[]}function ko(){To.call(this,"facebook.com")}function Io(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new ko).credential({accessToken:t})}function Co(){To.call(this,"github.com")}function No(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Co).credential({accessToken:t})}function xo(){To.call(this,"google.com"),this.Ca("profile")}function Ao(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new xo).credential({idToken:n,accessToken:t})}function Po(){So.call(this,"twitter.com",$i)}function Oo(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Ro(e,t,n){this.a=e,this.f=t,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(e){return e&&e.email&&e.password?new Ro(e.email,e.password,e.signInMethod):null}function Lo(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Fo(e,t){if(!(t=Mo(t)))throw new I("argument-error","Invalid email link!");return new Ro(e,t.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function Mo(e){return(e=Ri(e=co(e)))&&e.operation===hi?e:null}function jo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new I("internal-error");this.a=e,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Uo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new jo(t)}return null}function Bo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function qo(e){try{this.a=e||si.Z.auth()}catch(lk){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new jo({eb:e,cb:t})}function zo(e){if(e.temporaryProof&&e.phoneNumber)return new jo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Ao(o,n);case"facebook.com":return Io(n);case"github.com":return No(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new To(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(_i){return null}}function Ho(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Ko(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Ko(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Wo(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?Nt(this.a):Nt(this.b)},lo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},mo.prototype.ka=function(e){return Is(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,Cs(e,n)},mo.prototype.c=function(e,t){return vo(Ns(e,go(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return Is(e,_o(this))},bo.prototype.b=function(e,t){var n=_o(this);return n.idToken=t,Cs(e,n)},bo.prototype.c=function(e,t){return vo(Ns(e,_o(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},So.prototype.Ka=function(e){return this.Ib=ve(e),this},T(Eo,So),T(To,So),To.prototype.Ca=function(e){return J(this.a,e)||this.a.push(e),this},To.prototype.Qb=function(){return X(this.a)},To.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},T(ko,To),Yr(ko,"PROVIDER_ID","facebook.com"),Yr(ko,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Co,To),Yr(Co,"PROVIDER_ID","github.com"),Yr(Co,"GITHUB_SIGN_IN_METHOD","github.com"),T(xo,To),Yr(xo,"PROVIDER_ID","google.com"),Yr(xo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Po,So),Yr(Po,"PROVIDER_ID","twitter.com"),Yr(Po,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ro.prototype.ka=function(e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Fs,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Ro.prototype.b=function(e,t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{idToken:t,email:this.a,oobCode:this.f}):cu(e,$s,{idToken:t,email:this.a,password:this.f})},Ro.prototype.c=function(e,t){return vo(this.ka(e),t)},Ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Lo,{PROVIDER_ID:"password"}),Xr(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),jo.prototype.ka=function(e){return e.fb(Bo(this))},jo.prototype.b=function(e,t){var n=Bo(this);return n.idToken=t,cu(e,au,n)},jo.prototype.c=function(e,t){var n=Bo(this);return n.operation="REAUTH",vo(e=cu(e,su,n),t)},jo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},qo.prototype.fb=function(e,t){var n=this.a.a;return Nt(t.verify()).then((function(r){if("string"!==typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then((function(e){return function(e,t){return cu(e,Xs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==fo?o.Ha().then((function(t){return function(e,t){return cu(e,Zs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Js,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Xr(qo,{PROVIDER_ID:"phone"}),Xr(qo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Jo,Qo=null;function $o(e){var t="unauthorized-domain",n=void 0,r=Bn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Yo(e,t,n){I.call(this,e,n),(e=t||{}).Jb&&Yr(this,"email",e.Jb),e.ea&&Yr(this,"phoneNumber",e.ea),e.credential&&Yr(this,"credential",e.credential),e.Zb&&Yr(this,"tenantId",e.Zb)}function Xo(e){if(e.code){var t=e.code||"";0==t.indexOf(x)&&(t=t.substring(x.length));var n={credential:zo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Yo(t,n,e.message)}return null}function Zo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(By){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}T($o,I),T(Yo,I),Yo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Yo.prototype.toJSON=function(){return this.w()},Zo.prototype.c=null,T(ta,Zo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Jo=new ta,T(ra,Zo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),ha=new ua("CONFIG",700),fa=new ua("FINE",500);function da(e){return e.c?e.c:e.a?da(e.a):(F("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=da(this).value)for(p(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa,va={},ma=null;function ga(e){var t;if(ma||(ma=new sa(""),va[""]=ma,ma.c=ha),!(t=va[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ga(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,va[e]=t}return t}function ya(e,t){e&&e.log(fa,t,void 0)}function ba(e){this.f=e}function _a(e){Sn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ga("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ba,Zo),ba.prototype.a=function(){return new _a(this.f)},ba.prototype.b=(pa={},function(){return pa}),T(_a,Sn);var wa=0;function Sa(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function Ea(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ta(e)}function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ka(e){Sn.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(e=_a.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ta(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Sa(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ea(this):Ta(this),3==this.readyState&&Sa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ea(this))},e.sc=function(e){this.a&&(this.response=e,Ea(this))},e.Ua=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ea(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(ka,Sn);var Ia="";ka.prototype.b=ga("goog.net.XhrIo");var Ca=/^https?$/i,Na=["POST","PUT"];function xa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Jo.a(),e.C=e.D?ea(e.D):ea(Jo),e.a.onreadystatechange=w(e.Vb,e);try{ya(e.b,ja(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(ak){return ya(e.b,ja(e,"Error opening Xhr: "+ak.message)),void Pa(e,ak)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)H(e,t,void 0);else for(var n=xn(e),r=Nn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Aa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!J(Na,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{La(e),0<e.g&&(e.u=function(e){return Je&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,ja(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=In(e.Ma,e.g,e)),ya(e.b,ja(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(ak){ya(e.b,ja(e,"Send error: "+ak.message)),Pa(e,ak)}}function Aa(e){return"content-type"==e.toLowerCase()}function Pa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Oa(e),Da(e)}function Oa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Fa(e)&&2==Ma(e))ya(e.b,ja(e,"Local request error detected and ignored"));else if(e.i&&4==Fa(e))In(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Fa(e)){ya(e.b,ja(e,"Request complete")),e.c=!1;try{var t,n=Ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Fa(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ma(e)+"]",Oa(e)}}finally{Da(e)}}}function Da(e,t){if(e.a){La(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(By){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+By.message,void 0)}}}function La(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Fa(e){return e.a?e.a.readyState:0}function Ma(e){try{return 2<Fa(e)?e.a.status:-1}catch(lk){return-1}}function ja(e,t){return t+" ["+e.R+" "+e.l+" "+Ma(e)+"]"}function Ua(e){var t=$a;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ba(e,t,n){e.a=!0,e.c=n,e.f=!t,Ha(e)}function qa(e){if(e.a){if(!e.v)throw new Ka(e);e.v=!1}}function Va(e,t,n,r){e.g.push([t,n,r]),e.a&&Ha(e)}function za(e){return W(e.g,(function(e){return p(e[1])}))}function Ha(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Ja[t];n&&(s.clearTimeout(n.a),delete Ja[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ua?(Va(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Wa(t),Ja[t.a]=t,e.h=t.a)}function Ka(){D.call(this)}function Ga(){D.call(this)}function Wa(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=ka.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Da(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Da(this,!0)),ka.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(lk){return ya(this.b,"Can not get response: "+lk.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ga(this),qa(this),Ba(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,Ba(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new wt((function(e,t){r=e,i=t}));return Va(this,r,(function(e){e instanceof Ga?o.cancel():i(e)})),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,T(Ka,D),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",T(Ga,D),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ja[this.a],this.b};var Ja={};function Qa(e){var t={},n=t.document||document,r=Ie(e).toString(),i=vt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ya(i,!0);var e=new es(Za,"Timeout reached for loading script "+r);qa(a),Ba(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ya(i,t.xd||!1,u),qa(a),Ba(a,!0,null))},i.onerror=function(){Ya(i,!0,u);var e=new es(Xa,"Error while loading script "+r);qa(a),Ba(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Ie(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function $a(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ya(e,!0,this.Ma)}}function Ya(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Xa=0,Za=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=ve(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=ve(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=s.XMLHttpRequest||n&&si.Z.INTERNAL.node&&si.Z.INTERNAL.node.XMLHttpRequest)&&!Sr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Sr()?this.f=new ba(self):Tr()?this.f=new ts(n):this.f=new ra,this.b=null}T(es,D),T(ts,Zo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new zr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new zr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=hs("https://securetoken.googleapis.com/v1/token",t),e.h=hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=hs("https://identitytoolkit.googleapis.com/v2/",t))}function hs(e,t){return e=Bn(e),t=Bn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function fs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=Cr(e)!=Ir?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Je||!st||9<st)})()||Sr()?e=w(e.u,e):(rs||(rs=new wt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[vs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Va(e,null,t,void 0)}(Qa(Ce(ps,{onload:vs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Sr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ka(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}En(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Pi){e=null}t&&t(e)})),Tn(a,"ready",(function(){u&&clearTimeout(u),Gt(this)})),Tn(a,"timeout",(function(){u&&clearTimeout(u),Gt(this),t&&t(null)})),xa(a,e,n,r,i)};var ps=new be(Ee,"https://apis.google.com/js/client.js?onload=%{onload}"),vs="__fcb"+Math.floor(1e6*Math.random()).toString();function ms(e,t,n,r,i,o,a){var s=Bn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",E().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new wt((function(t,n){ds(e,s.toString(),(function(e){e?e.error?n(hu(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:ir(jr(i)),e.a,e.v.get())}))}function gs(e){if("string"!==typeof(e=e.email)||!yr.test(e))throw new I("invalid-email")}function ys(e){"email"in e&&gs(e)}function bs(e){if(!e[is]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ve(e));throw new I("internal-error")}}function _s(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ns.prototype.zb=function(){return cu(this,Ys,{})},ns.prototype.Bb=function(e,t){return cu(this,Qs,{idToken:e,email:t})},ns.prototype.Cb=function(e,t){return cu(this,$s,{idToken:e,password:t})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function Es(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function Ts(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ks(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;bs(e)}function Is(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Cs(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function Ns(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function xs(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=ns.prototype).Db=function(e,t){var n={idToken:e},r=[];return de(ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,Qs,n)},e.vb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Hs,e)},e.wb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,qs,e)},e.ub=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,Vs,e)},e.Eb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.fb=function(e){return cu(this,ou,e)},e.nb=function(e,t){return cu(this,Ws,{oobCode:e,newPassword:t})},e.Ra=function(e){return cu(this,Ps,{oobCode:e})},e.jb=function(e){return cu(this,As,{oobCode:e})};var As={endpoint:"setAccountInfo",A:xs,Z:"email",B:!0},Ps={endpoint:"resetPassword",A:xs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},Os={endpoint:"signupNewUser",A:function(e){if(gs(e),!e.password)throw new I("weak-password")},G:bs,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},Ds={endpoint:"deleteAccount",N:["idToken"]},Ls={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},Fs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:gs,G:bs,V:!0,B:!0},Ms={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:gs,G:bs,V:!0},js={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:Ss,G:bs,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:bs,B:!0,Na:!0},Bs={endpoint:"getAccountInfo"},qs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");gs(e)},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");gs(e)},Z:"email",B:!0},Ks={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Gs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Ws={endpoint:"resetPassword",A:xs,Z:"email",B:!0},Js={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Qs={endpoint:"setAccountInfo",N:["idToken"],A:ys,V:!0},$s={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(ys(e),!e.password)throw new I("weak-password")},G:bs,V:!0},Ys={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Xs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Es,Ya:Ts,G:ks,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Es,Ya:Ts,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);bs(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Es(e),!e.idToken)throw new I("internal-error")},Ya:Ts,G:ks,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:bs,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(gs(e),!e.password)throw new I("wrong-password")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:_s,G:bs,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");_s(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xo(e);bs(e)}},su={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_s,G:bs,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.N))return xt(new I("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return Nt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ms(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function lu(e){return hu({error:{errors:[{message:e}],code:400,message:e}})}function hu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=Mr(e)),new I("internal-error",t)}function fu(e){this.b=e,this.a=null,this.rb=function(e){return(mu||(mu=new wt((function(e,t){function n(){Vr(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:pu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},Nt(Qa(r=Ce(du,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw mu=null,e})))).then((function(){return new wt((function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),vu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var du=new be(Ee,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new zr(3e4,6e4),vu=new zr(5e3,15e3),mu=null;function gu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=qn((e=Bn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=qn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return si.Z.app(e).auth().Ga()}catch(lk){return[]}}function _u(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wu(e){var t=hr();return function(e){return cu(e,Ks,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Bn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new $o(hr())}))}function Su(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new gu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new fu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Nt(n)}return n.status="ERROR",Nt(n)}))}(e)}))),e.m}function Eu(e){return e.l||(e.C=e.c?xr(e.c,bu(e.b)):null,e.l=new ns(e.g,O(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function Tu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new yu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.yb(l).toString()}function ku(e){if(this.a=e||si.Z.INTERNAL.reactNative&&si.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(e){this.b=e,this.a={},this.f=w(this.c,this)}gu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},yu.prototype.yb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=Bn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=si.Z.app(this.c).auth().la()}catch(_i){n=null}for(var r in t.ob=n,jn(e,"providerId",this.a.providerId),t=jr((n=this.a).Ib))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),pe(t)||jn(e,"customParameters",Mr(t))}if("function"===typeof this.a.Qb&&((n=this.a.Qb()).length&&jn(e,"scopes",n.join(","))),this.l?jn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?jn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&jn(e,a,this.b[a]);return this.h?jn(e,"tid",this.h):Zn(e.b,"tid"),this.f?jn(e,"eid",this.f):Zn(e.b,"eid"),(a=bu(this.c)).length&&jn(e,"fw",a.join(",")),e.toString()},(e=_u.prototype).Ob=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Su(e).then((function(){return function(e,t){return e.rb.then((function(){return new wt((function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new wt((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Ar();return!Fr(e)&&!qr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return xt(new I("popup-blocked"));if(a&&!Fr())return this.ma().o((function(t){vr(e),i(t)})),r(),Nt();this.a||(this.a=wu(Eu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(Ho(n),a)||fr(Tu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=wu(Eu(this)));var i=this;return this.a.then((function(){Ho(t),fr(Tu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Su(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){$(this.h,(function(t){return t==e}))},(e=ku.prototype).get=function(e){return Nt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return Nt(this.a.setItem(e,Mr(t)))},e.U=function(e){return Nt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Cu,Nu=[];function xu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Au(e){this.a=e}function Pu(e){this.c=e,this.b=!1,this.a=[]}function Ou(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return xt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new wt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ru(e,c),t})).o((function(t){throw Ru(e,c),t}))}function Ru(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,(function(e){return e==t}))}}function Du(){if(!ju())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Sr()&&self?(this.v=function(){var e=Sr()?self:null;if(H(Nu,(function(n){n.b==e&&(t=n)})),!t){var t=new Iu(e);Nu.push(t)}return t}(),xu(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&H(e.a,(function(e){e(t)})),{keyProcessed:J(t,n.key)}}))})),xu(this.v,"ping",(function(){return Nt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Nt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Nt(null)}().then((function(t){(e.h=t)&&(e.g=new Pu(new Au(t)),Ou(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&J(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Lu(e){return new wt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new wt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Lu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Fu(e){return e.i||(e.i=Lu(e)),e.i}function Mu(e,t){var n=0;return new wt((function r(i,o){Fu(e).then(t).then(i).o((function(t){if(!(3<++n))return Fu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function ju(){try{return!!s.indexedDB}catch(pa){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function Bu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function qu(e){return new wt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Vu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ou(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Nt()}function zu(e){return Fu(e).then((function(e){var t=Uu(Bu(e,!1));return t.getAll?qu(t.getAll()):new wt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Hu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Nt().then((function(){if(ju()){var e=Br(),r="__sak"+e;return Cu||(Cu=new Du),(n=Cu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){H(t.a,(function(t){t(e)}))})),e}))}function Gu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==Er();if(!(e=Ju()||e&&si.Z.INTERNAL.node&&si.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(lk){return!1}}()){if("Node"==Er())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Ju()||si.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ju(){try{var e=s.localStorage,t=Br();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Qu(){this.type="nullStorage"}function $u(){if(!function(){var e="Node"==Er();if(!(e=Yu()||e&&si.Z.INTERNAL.node&&si.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(lk){return!1}}()){if("Node"==Er())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Yu()||si.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yu(){try{var e=s.sessionStorage,t=Br();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Er()]}Iu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,(function(t){i.push(Nt().then((function(){return t(e.origin,e.data.data)})))})),Pt(i).then((function(r){var i=[];H(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),H(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Au.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Pu.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(e=Du.prototype).set=function(e,t){var n=this,r=!1;return Mu(this,(function(t){return qu((t=Uu(Bu(t,!0))).get(e))})).then((function(i){return Mu(n,(function(o){if(o=Uu(Bu(o,!0)),i)return i.value=t,qu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,qu(o.add(a))}))})).then((function(){return n.c[e]=t,Vu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Mu(this,(function(t){return qu(Uu(Bu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Mu(this,(function(r){return n=!0,t.b++,qu(Uu(Bu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Vu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&H(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Hu(e),t()}(this),this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e})),0==this.a.length&&Hu(this)},(e=Ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e}))},(e=Gu.prototype).get=function(e){return Nt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Nt()},e.U=function(e){return delete this.a[e],Nt()},e.ca=function(){},e.ia=function(){},(e=Wu.prototype).get=function(e){var t=this;return Nt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Nt().then((function(){var r=Mr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Nt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&dn(s.window,"storage",e)},(e=Qu.prototype).get=function(){return Nt(null)},e.set=function(){return Nt()},e.U=function(){return Nt()},e.ca=function(){},e.ia=function(){},(e=$u.prototype).get=function(e){var t=this;return Nt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Nt().then((function(){var r=Mr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Nt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Zu,ec,tc={F:Wu,bb:$u},nc={F:Wu,bb:$u},rc={F:ku,bb:Qu},ic={F:Wu,bb:Qu},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(qr(Ar())||!wr()),t=Fr(),n=Or();this.m=e,this.h=t,this.l=n,this.a={},Zu||(Zu=new Xu),e=Zu;try{this.g=!lr()&&Gr()||!s.indexedDB?new e.a.F:new Ku(Sr()?new Gu:new e.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new e.a.bb}catch(r){this.i=new Gu}this.v=new Gu,this.f=w(this.Yb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function hc(e){e.c&&(clearInterval(e.c),e.c=null)}function fc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(uc(this,"local").ca(this.f),this.h||(lr()||!Gr())&&s.indexedDB||!this.l||function(e){hc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Xt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&($(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(uc(this,"local").ia(this.f),hc(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):hc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.mb(t))},Je&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,w(this.mb,this))},e.mb=function(e){this.a[e]&&H(this.a[e],(function(e){e()}))};var dc,pc={name:"authEvent",F:"local"};function vc(){this.a=sc()}function mc(e,t){this.b=gc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(Tc):Tc),this.reset()}T(mc,(function(){this.b=-1}));for(var gc=64,yc=gc-1,bc=[],_c=0;_c<yc;_c++)bc[_c]=0;var wc=Y(128,bc);function Sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|dc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ec(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Sc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Sc(e),i=0)}}e.c=i,e.g+=n}mc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var Tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function kc(){mc.call(this,8,Ic)}T(kc,mc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new vc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nc(e){return new I("invalid-cordova-configuration",e)}function xc(e){var t=new kc;Ec(t,e),e=[];var n=8*t.g;56>t.c?Ec(t,wc,56-t.c):Ec(t,wc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ac(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Pc(e){return e.f||(e.f=e.ma().then((function(){return new wt((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Oc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ur(Un(o=Bn(i),"firebaseError")||null))?C(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ac(e,i)}))}var n=new Ko("unknown",null,null,null,new I("no-auth-event")),r=!1,i=Cn(500).then((function(){return Oc(e).then((function(){r||Ac(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(_i){console.error(_i)}},Qo||(Qo=new Wo),function(e){var t=Qo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Pr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Oc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Go(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Rc(e){this.a=e,this.b=sc()}(e=Cc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?br().then((function(){return new wt((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):xt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",s))throw Nc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",s))throw Nc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",s))throw Nc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",s))throw Nc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Ob=function(e,t){return t(new I("operation-not-supported-in-this-environment")),Nt()},e.Mb=function(){return xt(new I("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return xt(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Nt().then((function(){return Ho(t),Pc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ko(t,r,null,o,new I("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",s);if("string"!==typeof u)throw new I("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return xt(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=xc(o),l.sessionId=o;var h=Tu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Pr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");t=Ar(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new wt((function(e,t){u=function(){var t=Pr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},l=function(){Hr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Oc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Pc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ko("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Sa=function(e){$(this.b,(function(t){return t==e}))};var Dc={name:"pendingRedirect",F:"session"};function Lc(e){return lc(e.b,Dc,e.a)}function Fc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Yc,this.C=new nl,this.g=new Rc(Qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mc(this.D,this.v,this.m,N,this.J)}function Mc(e,t,n,r,i){var o=si.Z.SDK_VERSION||null;return _r()?new Cc(e,t,n,o,r,i):new _u(e,t,n,o,r,i)}function jc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Uc(e){e.a.Xb()&&jc(e).o((function(t){var n=new Ko("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})),e.a.Tb()||Xc(e.b)}function Bc(e,t){J(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Dc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Lc(e.g).then((function(){jc(e).o((function(t){var n=new Ko("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}))})):Uc(e)})).o((function(){Uc(e)}))}function qc(e,t){$(e.h,(function(e){return e==t}))}Fc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Mc(this.D,this.v,this.m,null,this.J),this.i={}},Fc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=E())),t=!0;break}}return Xc(this.b),t};var Vc=new zr(2e3,1e4),zc=new zr(3e4,6e4);function Hc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Gc(e,t,n,r,i){var o;return function(e){return e.b.set(Dc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Kc(t))throw new I("operation-not-supported-in-this-environment");return o=t,Lc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new wt((function(){})):Lc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Wc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Vc.get())}Fc.prototype.qa=function(){return this.b.qa()};var Jc={};function Qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function $c(e,t,n,r){var i=Qc(t,n,r);return Jc[i]||(Jc[i]=new Fc(e,t,n,r)),Jc[i]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Zc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return Nt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return xt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function il(e,t){this.a=t,Yr(this,"verificationId",e)}function ol(e,t,n,r){return new qo(e).fb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=Qi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:e,expirationTime:Kr(1e3*t.exp),authTime:Kr(1e3*t.auth_time),issuedAtTime:Kr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;H(t[ul]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),Nt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):xt(new I("invalid-auth-event")):(tl(this,!1,null,null),Nt())}else xt(new I("invalid-auth-event"))},Yc.prototype.qa=function(){var e=this;return new wt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=Cn(zc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Nt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):xt(new I("invalid-auth-event"))}else xt(new I("invalid-auth-event"))},il.prototype.confirm=function(e){return e=Vo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),Yr(this,"resolver",this.b)}function hl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function fl(){}function dl(e){Yr(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=qo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vl(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function ml(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new ui(r)}catch(ak){}e=t}else e=null;e&&n.push(e)})),gl(this,n)}function gl(e,t){e.b=t,Yr(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Hr()||!e?Nt():new wt((function(n){t=function(){Hr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){bl(e,!0)})).o((function(t){e.i(t)&&bl(e,!1)}))}function _l(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function wl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Sl(e,t){e.b=Ji(t[is]||""),e.a=t.refreshToken,wl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function El(e,t){return function(e,t){return new wt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(hu(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",Xn(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ji(t.access_token),e.a=t.refresh_token,wl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Tl(e,t){this.a=e||null,this.b=t||null,Xr(this,{lastSignInTime:Kr(t||null),creationTime:Kr(e||null)})}function kl(e,t,n,r,i,o){Xr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Il(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=si.Z.SDK_VERSION?xr(si.Z.SDK_VERSION):null;this.a=new ns(this.l,O(N),r),e.emulatorConfig&&ls(this.a,e.emulatorConfig),this.b=new _l(this.a),Dl(this,t[is]),Sl(this.b,t),Yr(this,"refreshToken",this.b.a),Ml(this,n||{}),Sn.call(this),this.R=!1,this.s&&Rr()&&(this.i=$c(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(e){i.wa(e.h)},this.ja=null,this.Aa=function(e){ls(i.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){xl(i,e.f)},this.ba=null,this.O=new ml(this,n),Yr(this,"multiFactor",this.O)}function Cl(e,t){e.ja&&dn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&ln(t,"languageCodeChanged",e.Oa)}function Nl(e,t){e.X&&dn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&ln(t,"emulatorConfigChanged",e.Aa)}function xl(e,t){e.$=t,fs(e.a,si.Z.SDK_VERSION?xr(si.Z.SDK_VERSION,e.$):null)}function Al(e,t){e.ba&&dn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&ln(t,"frameworkChanged",e.Ba)}function Pl(e){try{return si.Z.app(e.m).auth()}catch(lk){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ol(e){e.D||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.aa),ln(e,"tokenChanged",e.aa))}function Rl(e){dn(e,"tokenChanged",e.aa),e.u.stop()}function Dl(e,t){e.za=t,Yr(e,"_lat",t)}function Ll(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Pt(t).then((function(){return e}))}function Fl(e){e.i&&!e.R&&(e.R=!0,Bc(e.i,e))}function Ml(e,t){Xr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Tl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function jl(){}function Ul(e){return Nt().then((function(){if(e.D)throw new I("app-deleted")}))}function Bl(e){return G(e.providerData,(function(e){return e.providerId}))}function ql(e,t){t&&(Vl(e,t.providerId),e.providerData.push(t))}function Vl(e,t){$(e.providerData,(function(e){return e.providerId==t}))}function zl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Yr(e,t,n)}function Hl(e,t){e!=t&&(Xr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Yr(e,"metadata",function(e){return new Tl(e.a,e.b)}(t.metadata)):Yr(e,"metadata",new Tl),H(t.providerData,(function(t){ql(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Yr(e,"refreshToken",e.b.a),gl(e.O,t.O.b))}function Kl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,Bs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||zl(e,"isAnonymous",!1),t}))}))}function Gl(e,t){t[is]&&e.za!=t[is]&&(Sl(e.b,t),e.dispatchEvent(new vl("tokenChanged")),Dl(e,t[is]),zl(e,"refreshToken",e.b.a))}function Wl(e,t){return Kl(e).then((function(){if(J(Bl(e),t))return Ll(e).then((function(){throw new I("provider-already-linked")}))}))}function Jl(e,t,n){return Zr({user:e,credential:zo(t),additionalUserInfo:t=eo(t),operationType:n})}function Ql(e,t){return Gl(e,t),e.reload().then((function(){return e}))}function $l(e,t,n,r,i){if(!Rr())return xt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return xt(e.h);var o=Zi(n.providerId),a=Br(e.uid+":::"),s=null;(!Fr()||wr())&&e.s&&n.isOAuthProvider&&(s=Tu(e.s,e.l,e.m,t,n,null,a,si.Z.SDK_VERSION||null,null,null,e.tenantId));var u=mr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Xl(e),!i)return e.I().then((function(){}))})).then((function(){return Hc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new wt((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Wc(e.i,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?Zr(e):null})).o((function(e){throw u&&vr(u),e})),Zl(e,r,i)}function Yl(e,t,n,r,i){if(!Rr())return xt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return xt(e.h);var o=null,a=Br(e.uid+":::");return r=r().then((function(){if(Xl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ll(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(nh,e.w(),t.a)),t})).then((function(){return Gc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return rh(e.ha);throw o})).then((function(){if(o)throw o})),Zl(e,r,i)}function Xl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Zl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),xt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new vl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){Q(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),Pl(e),w(e.jc,e))),n||t}))}function eh(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(t,n,e);return e.providerData&&H(e.providerData,(function(e){e&&ql(i,Zr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function th(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[ul],delete n[cl],ge(n,e),t.g(n)}))},T(ll,I),fl.prototype.sb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Bo(e.a)}),cu(t,js,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Bo(e.a)}),cu(t,Us,n)}))}(this,e,t)},T(dl,fl),T(pl,dl),T(vl,Yt),(e=ml.prototype).yc=function(e){gl(this,function(e){var t=[];return H(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new lo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Gl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return gl(t,r),Gl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_l.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},_l.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?xt(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):Nt(null):Nt({accessToken:this.b.toString(),refreshToken:this.a})},Tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Il,Sn),Il.prototype.wa=function(e){this.ya=e,cs(this.a,e)},Il.prototype.la=function(){return this.ya},Il.prototype.Ga=function(){return X(this.$)},Il.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Yr(Il.prototype,"providerId","firebase"),(e=Il.prototype).reload=function(){var e=this;return Zl(this,Ul(this).then((function(){return Kl(e).then((function(){return Ll(e)})).then(jl)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return Zl(this,Ul(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.za&&(Dl(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),zl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");Ml(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,(function(e){return new kl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)ql(this,t[n]);zl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vl("userReloaded",{hd:e}))},e.Lc=function(e){return Qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Zl(this,e.c(this.a,this.uid).then((function(e){return Gl(t,e),n=Jl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Zl(this,Wl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Jl(t,e,"link"),Ql(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Zl(this,Wl(this,"phone").then((function(){return ol(Pl(n),e,t,w(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Zl(this,Nt().then((function(){return ol(Pl(n),e,t,w(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Zl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Zl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Gl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Zl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ul(this);var t=this;return Zl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Gl(t,e),zl(t,"displayName",e.displayName||null),zl(t,"photoURL",e.photoUrl||null),H(t.providerData,(function(e){"password"===e.providerId&&(Yr(e,"displayName",t.displayName),Yr(e,"photoURL",t.photoURL))})),Ll(t)})).then(jl))},e.cd=function(e){var t=this;return Zl(this,Kl(this).then((function(n){return J(Bl(t),e)?function(e,t,n){return cu(e,Ls,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return H(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),H(Bl(t),(function(e){n[e]||Vl(t,e)})),n[qo.PROVIDER_ID]||Yr(t,"phoneNumber",null),Ll(t)})):Ll(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return Zl(this,this.I().then((function(t){return cu(e.a,Ds,{idToken:t})})).then((function(){e.dispatchEvent(new vl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");Cl(e,null),Nl(e,null),Al(e,null),e.J=[],e.D=!0,Rl(e),Yr(e,"refreshToken",null),e.i&&qc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):null},e.Ec=function(e){var t=this;return $l(this,"linkViaPopup",e,(function(){return Wl(t,e.providerId).then((function(){return Ll(t)}))}),!1)},e.Nc=function(e){return $l(this,"reauthViaPopup",e,(function(){return Nt()}),!0)},e.Fc=function(e){var t=this;return Yl(this,"linkViaRedirect",e,(function(){return Wl(t,e.providerId)}),!1)},e.Oc=function(e){return Yl(this,"reauthViaRedirect",e,(function(){return Nt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Cs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Jl(i,e,"link"),Ql(i,e)})).then((function(){return o})),Zl(this,n)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Nt().then((function(){return vo(Ns(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Jl(i,e,"reauthenticate"),Gl(i,e),i.h=null,i.reload()})).then((function(){return o}));return Zl(this,a,!0)},e.ub=function(e){var t=this,n=null;return Zl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Hi(new Di(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Zl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Hi(new Di(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Zl(this,e=vo(Nt(e),n.uid).then((function(e){return t=Jl(n,e,"reauthenticate"),Gl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),H(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.O.w()),e};var nh={name:"redirectUser",F:"session"};function rh(e){return lc(e.b,nh,e.a)}function ih(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=sh("local"),n=sh("session"),r=sh("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(s.localStorage.getItem(r))}catch(_i){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ah,e.a).then((function(e){return e?sh(e):t}))}))}))})).then((function(t){return e.c=t,oh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sh("local"),this.a,w(this.g,this))}function oh(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,sh(oc[n]),e.a));return r.push(lc(e.b,ah,e.a)),function(e){return new wt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],S(o,s),a);else t(i)}))}(r)}ih.prototype.g=function(){var e=this,t=sh("local");hh(this,(function(){return Nt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return oh(e,"local").then((function(){e.c=t}))}))}))};var ah={name:"persistence",F:"session"};function sh(e){return{name:"authUser",F:e}}function uh(e,t){return hh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ch(e){return hh(e,(function(){return lc(e.b,e.c,e.a)}))}function lh(e,t,n){return hh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),eh(e||{})}))}))}function hh(e,t){return e.f=e.f.then(t,t),e.f}function fh(e){if(this.l=!1,Yr(this,"settings",new rl),Yr(this,"app",e),!wh(this).options||!wh(this).options.apiKey)throw new I("invalid-api-key");e=si.Z.SDK_VERSION?xr(si.Z.SDK_VERSION):null,this.a=new ns(wh(this).options&&wh(this).options.apiKey,O(N),e),this.R=[],this.s=[],this.O=[],this.hb=si.Z.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=si.Z.INTERNAL.createSubscribe(w(this.Ac,this)),bh(this,null),this.i=new ih(wh(this).options.apiKey+":"+wh(this).name),this.D=new th(wh(this).options.apiKey+":"+wh(this).name),this.$=kh(this,function(e){var t=wh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(nh,e.a).then((function(e){return e&&t&&(e.authDomain=t),eh(e||{})}))}(e.D,wh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),rh(e.D)}));return kh(e,t)}(e).then((function(){return lh(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return uh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ch(e.i)}))):null})).then((function(t){bh(e,t||null)}));return kh(e,n)}(this)),this.h=kh(this,function(e){return e.$.then((function(){return gh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(sh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=wh(e).options.authDomain,n=wh(e).options.apiKey;t&&Rr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=$c(t,n,wh(e).name,e.P),Bc(e.b,e),Sh(e)&&Fl(Sh(e)),e.m){Fl(e.m);var r=e.m;r.wa(e.la()),Cl(r,e),xl(r=e.m,e.J),Al(r,e),ls((r=e.m).a,e.P),Nl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,Sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=Bn(this.P.url);e=Zr({protocol:e.c,host:e.a,port:e.g,options:Zr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function dh(e){Yt.call(this,"languageCodeChanged"),this.h=e}function ph(e){Yt.call(this,"emulatorConfigChanged"),this.c=e}function vh(e){Yt.call(this,"frameworkChanged"),this.f=e}function mh(e){return e.Oa||xt(new I("auth-domain-config-required"))}function gh(e){if(!Rr())return xt(new I("operation-not-supported-in-this-environment"));var t=mh(e).then((function(){return e.b.qa()})).then((function(e){return e?Zr(e):null}));return kh(e,t)}function yh(e,t){var n={};return n.apiKey=wh(e).options.apiKey,n.authDomain=wh(e).options.authDomain,n.appName=wh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new Il(e,t);return n&&(i.ha=n),r&&xl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Sh(e)&&t.uid==Sh(e).uid?(Hl(Sh(e),t),e.da(t)):(bh(e,t),Fl(t),e.da(t))})).then((function(){Th(e)}))}function bh(e,t){Sh(e)&&(function(e,t){$(e.S,(function(e){return e==t}))}(Sh(e),e.Ba),dn(Sh(e),"tokenChanged",e.ya),dn(Sh(e),"userDeleted",e.za),dn(Sh(e),"userInvalidated",e.Aa),Rl(Sh(e))),t&&(t.S.push(e.Ba),ln(t,"tokenChanged",e.ya),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Ol(t)),Yr(e,"currentUser",t),t&&(t.wa(e.la()),Cl(t,e),xl(t,e.J),Al(t,e),ls(t.a,e.P),Nl(t,e))}function _h(e,t){var n=null,r=null;return kh(e,t.then((function(t){return n=zo(t),r=eo(t),yh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return Zr({user:Sh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wh(e){return e.app}function Sh(e){return e.currentUser}function Eh(e){return Sh(e)&&Sh(e)._lat||null}function Th(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Eh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](Eh(e))}}function kh(e,t){return e.R.push(t),t.oa((function(){Q(e.R,t)})),t}function Ih(){}function Ch(){this.a={},this.b=1e12}ih.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Er()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!ju()&&"none"!==e)throw n;break;default:if(!Or()&&"none"!==e)throw n}}(e),hh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,oh(n,e)})).then((function(){if(n.c=sh(e),t)return n.b.set(n.c,t,n.a)})):Nt()}))},T(fh,Sn),T(dh,Yt),T(ph,Yt),T(vh,Yt),(e=fh.prototype).xb=function(e){return kh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new dh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,ls(this.a,this.P),this.dispatchEvent(new ph(this.P))}},e.Gc=function(e){this.J.push(e),fs(this.a,si.Z.SDK_VERSION?xr(si.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new vh(this.J))},e.Ga=function(){return X(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:wh(this).options.apiKey,authDomain:wh(this).options.authDomain,appName:wh(this).name,currentUser:Sh(this)&&Sh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return _h(i,Is(i.a,o))}))},e.Xc=function(e){if(!Rr())return xt(new I("operation-not-supported-in-this-environment"));var t=this,n=Zi(e.providerId),r=Br(),i=null;(!Fr()||wr())&&wh(this).options.authDomain&&e.isOAuthProvider&&(i=Tu(wh(this).options.authDomain,wh(this).options.apiKey,wh(this).name,"signInViaPopup",e,null,r,si.Z.SDK_VERSION||null,null,null,this.T(),this.P));var o=mr(i,n&&n.ua,n&&n.ta);return n=mh(this).then((function(n){return Hc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new wt((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Wc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?Zr(e):null})).o((function(e){throw o&&vr(o),e})),kh(this,n)},e.Yc=function(e){if(!Rr())return xt(new I("operation-not-supported-in-this-environment"));var t=this,n=mh(this).then((function(){return function(e){return hh(e,(function(){return e.b.set(ah,e.c.F,e.a)}))}(t.i)})).then((function(){return Gc(t.b,"signInViaRedirect",e,void 0,t.T())}));return kh(this,n)},e.qa=function(){var e=this;return gh(this).then((function(t){return e.b&&Zc(e.b.b),t})).o((function(t){throw e.b&&Zc(e.b.b),t}))},e.dd=function(e){if(!e)return xt(new I("null-user"));if(this.S!=e.tenantId)return xt(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=wh(this).options.apiKey,n.authDomain=wh(this).options.authDomain,n.appName=wh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Il(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&xl(t,r),Hl(t,e),t}(e,n,t.D,t.Ga());return kh(this,this.h.then((function(){if(wh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Sh(t)&&e.uid==Sh(t).uid?(Hl(Sh(t),e),t.da(e)):(bh(t,r),Fl(r),t.da(r))})).then((function(){Th(t)})))},e.Ab=function(){var e=this;return kh(this,this.h.then((function(){return e.b&&Zc(e.b.b),Sh(e)?(bh(e,null),ch(e.i).then((function(){Th(e)}))):Nt()})))},e.Zc=function(){var e=this;return lh(this.i,wh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Sh(e)&&t){n=Sh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Hl(Sh(e),t),Sh(e).I();(Sh(e)||t)&&(bh(e,t),t&&(Fl(t),t.ha=e.D),e.b&&Bc(e.b,e),Th(e))}}))},e.da=function(e){return uh(this.i,e)},e.mc=function(){Th(this),this.da(Sh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return _h(t,Nt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Sh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),kh(e,e.h.then((function(){!e.l&&J(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(Eh(e)))})))}(this,(function(){e.next(Sh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Sh(r)):"function"===typeof e.next&&e.next(Sh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof e?e(Sh(r)):"function"===typeof e.next&&e.next(Sh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return kh(this,this.h.then((function(){return Sh(t)?Sh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return _h(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return zl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return _h(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return _h(n,cu(n.a,Os,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return _h(t,e.ka(t.a))}))},e.Sc=function(e){return Qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=Sh(e);if(t&&t.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return _h(e,e.a.zb()).then((function(t){var n=t.user;return zl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Sh(this)&&Sh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Sh(this)&&Ol(Sh(this))},e.Pc=function(e){var t=this;H(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Sh(this)&&Rl(Sh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),kh(this,this.h.then((function(){t.l||J(t.s,e)&&e(Eh(t))})))},e.removeAuthTokenListener=function(e){$(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(sh("local"),e.a,this.ja),this.b&&(qc(this.b,this),Zc(this.b.b)),Promise.resolve()},e.hc=function(e){return kh(this,function(e,t){return cu(e,Rs,{identifier:t,continueUri:Dr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Mo(e)},e.wb=function(e,t){var n=this;return kh(this,Nt().then((function(){var e=new Di(t);if(!e.c)throw new I("argument-error",Mi+" must be true when sending sign in link to email");return Hi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return kh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return kh(this,this.a.Ra(e).then((function(e){return new ci(e)})))},e.jb=function(e){return kh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return kh(this,Nt().then((function(){return"undefined"===typeof t||pe(t)?{}:Hi(new Di(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return kh(this,ol(this,e,t,w(this.$a,this)))},e.Vc=function(e,t){var n=this;return kh(this,Nt().then((function(){var r=t||hr(),i=Fo(e,r);if(!(r=Mo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.$a(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Nh=null;function xh(e,t){return(t=Ah(t))&&e.a[t]||null}function Ah(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Ph(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Oh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Rh(){}function Dh(){}Ch.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ph(e,t),this.b++},Ch.prototype.reset=function(e){var t=xh(this,e);e=Ah(e),t&&e&&(t.delete(),delete this.a[e])},Ch.prototype.getResponse=function(e){return(e=xh(this,e))?e.getResponse():null},Ch.prototype.execute=function(e){(e=xh(this,e))&&e.execute()},Ph.prototype.getResponse=function(){return Oh(this),this.b},Ph.prototype.execute=function(){Oh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Ph.prototype.delete=function(){Oh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Yr(Rh,"FACTOR_ID","phone"),Dh.prototype.g=function(){return Nh||(Nh=new Ch),Nt(Nh)},Dh.prototype.c=function(){};var Lh=null;function Fh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Mh=new be(Ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),jh=new zr(3e4,6e4);Fh.prototype.g=function(e){var t=this;return new wt((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),jh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[t.a]},Nt(Qa(Ce(Mh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Fh.prototype.c=function(){this.b--};var Uh=null;function Bh(e,t,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Lh||(Lh=new Dh),a=Lh):(Uh||(Uh=new Fh),a=Uh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[zh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hh],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[qh];this.a[qh]=function(e){if(Kh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Pr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Vh];this.a[Vh]=function(){if(Kh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Pr(l,s);"function"===typeof e&&e()}}}var qh="callback",Vh="expired-callback",zh="sitekey",Hh="size";function Kh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Gh(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Wh(e){if(e.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jh(e,t,n){var r=!1;try{this.b=n||si.Z.app()}catch(ak){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(ak){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(ak){}o=si.Z.SDK_VERSION?xr(si.Z.SDK_VERSION,o):null,Bh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(_i){e=null}return e}),o,O(N),r)}function Qh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=$h.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=$h[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=Bh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Gh(this,Nt().then((function(){if(Dr()&&!Sr())return br();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Gs,{})})).then((function(t){e.a[zh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Wh(this);var e=this;return Gh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Wh(this);var e=this;return Gh(this,this.render().then((function(t){return new wt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){$(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Wh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Wh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Jh,Bh);var $h="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Xh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Zh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function ef(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function tf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function nf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function rf(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function of(e){return v(e)&&"string"===typeof e.uid}function af(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function sf(e,t){for(var n in t){var r=t[n].name;e[r]=lf(r,e[n],t[n].j)}}function uf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Qh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function cf(e,t,n,r){e[t]=lf(t,n,r)}function lf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Qh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}sf(fh.prototype,{jb:{name:"applyActionCode",j:[Yh("code")]},Ra:{name:"checkActionCode",j:[Yh("code")]},nb:{name:"confirmPasswordReset",j:[Yh("code"),Yh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yh("email"),Yh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Yh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Yh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[af(Zh(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[af(Zh(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Yh("email"),af(Zh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Yh("email"),Zh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Yh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[nf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[nf()]},Tc:{name:"signInWithCustomToken",j:[Yh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Yh("email"),Yh("password")]},Vc:{name:"signInWithEmailLink",j:[Yh("email"),Yh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[af({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Il)}},tf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Yh("url"),Zh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Yh("code")]}}),uf(fh.prototype,{lc:{name:"languageCode",kb:af(Yh(),tf(),"languageCode")},ti:{name:"tenantId",kb:af(Yh(),tf(),"tenantId")}}),fh.Persistence=oc,fh.Persistence.LOCAL="local",fh.Persistence.SESSION="session",fh.Persistence.NONE="none",sf(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[nf()]},qb:{name:"linkWithCredential",j:[nf()]},Dc:{name:"linkWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[nf()]},tb:{name:"reauthenticateWithCredential",j:[nf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[af(Zh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},cd:{name:"unlink",j:[Yh("provider")]},Bb:{name:"updateEmail",j:[Yh("email")]},Cb:{name:"updatePassword",j:[Yh("password")]},ed:{name:"updatePhoneNumber",j:[nf("phone")]},Db:{name:"updateProfile",j:[Zh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Yh("email"),af(Zh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]}}),sf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sf(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sf(wt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),uf(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Xh("appVerificationDisabledForTesting")}}),sf(il.prototype,{confirm:{name:"confirm",j:[Yh("verificationCode")]}}),cf(po,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wo,Do,Uo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[af(Yh(),Zh(),"json")]),cf(Lo,"credential",(function(e,t){return new Ro(e,t)}),[Yh("email"),Yh("password")]),sf(Ro.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(ko.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Zh("customOAuthParameters")]}}),cf(ko,"credential",Io,[af(Yh(),Zh(),"token")]),cf(Lo,"credentialWithLink",Fo,[Yh("email"),Yh("emailLink")]),sf(Co.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Zh("customOAuthParameters")]}}),cf(Co,"credential",No,[af(Yh(),Zh(),"token")]),sf(xo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Zh("customOAuthParameters")]}}),cf(xo,"credential",Ao,[af(Yh(),af(Zh(),tf()),"idToken"),af(Yh(),tf(),"accessToken",!0)]),sf(Po.prototype,{Ka:{name:"setCustomParameters",j:[Zh("customOAuthParameters")]}}),cf(Po,"credential",Oo,[af(Yh(),Zh(),"token"),Yh("secret",!0)]),sf(To.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},credential:{name:"credential",j:[af(Yh(),af(Zh(),tf()),"optionsOrIdToken"),af(Yh(),tf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Zh("customOAuthParameters")]}}),sf(bo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(mo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),cf(qo,"credential",Vo,[Yh("verificationId"),Yh("verificationCode")]),sf(qo.prototype,{fb:{name:"verifyPhoneNumber",j:[af(Yh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?rf(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?rf(e.session,fo)&&of(e.multiFactorHint):e.session&&e.multiFactorUid?rf(e.session,fo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),sf(jo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(I.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(Yo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf($o.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(ll.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),sf(ml.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Yh("displayName",!0)]},bd:{name:"unenroll",j:[af({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:of},Yh(),"multiFactorInfoIdentifier")]}}),sf(Jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),cf(Ti,"parseLink",Ri,[Yh("link")]),cf(Rh,"assertion",(function(e){return new pl(e)}),[nf("phone")]),function(){if("undefined"===typeof si.Z||!si.Z.INTERNAL||!si.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fh,AuthCredential:po,Error:I};cf(e,"EmailAuthProvider",Lo,[]),cf(e,"FacebookAuthProvider",ko,[]),cf(e,"GithubAuthProvider",Co,[]),cf(e,"GoogleAuthProvider",xo,[]),cf(e,"TwitterAuthProvider",Po,[]),cf(e,"OAuthProvider",To,[Yh("providerId")]),cf(e,"SAMLAuthProvider",Eo,[Yh("providerId")]),cf(e,"PhoneAuthProvider",qo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof fh)}}]),cf(e,"RecaptchaVerifier",Jh,[af(Yh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Zh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof si.Z.app.App)}}]),cf(e,"ActionCodeURL",Ti,[]),cf(e,"PhoneMultiFactorGenerator",Rh,[]),si.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new fh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),si.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),si.Z.registerVersion("@firebase/auth","0.16.4"),si.Z.INTERNAL.extendNamespace({User:Il})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(96);var ui=n(9388),ci=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();function li(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var hi=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,fi.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),fi=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?di(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new hi(i,s,r);return u},e}();function di(e,t){return e.replace(pi,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var pi=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vi),void 0===r.error&&(r.error=vi),void 0===r.complete&&(r.complete=vi);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function vi(){}function mi(e){return e&&e._delegate?e._delegate:e}var gi=n(9386),yi=function(e,t){return yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yi(e,t)};function bi(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var _i,wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Si=Si||{},Ei=wi||self;function Ti(){}function ki(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ii(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ci="closure_uid_"+(1e9*Math.random()>>>0),Ni=0;function xi(e,t,n){return e.call.apply(e.bind,arguments)}function Ai(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pi(e,t,n){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xi:Ai).apply(null,arguments)}function Oi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ri(){return Date.now()}function Di(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Li(){this.j=this.j,this.i=this.i}Li.prototype.j=!1,Li.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,Ci)&&e[Ci]||(e[Ci]=++Ni)})(this)},Li.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Fi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Mi=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function ji(e){return Array.prototype.concat.apply([],arguments)}function Ui(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bi(e){return/^[\s\xa0]*$/.test(e)}var qi,Vi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zi(e,t){return-1!=e.indexOf(t)}function Hi(e,t){return e<t?-1:e>t?1:0}e:{var Ki=Ei.navigator;if(Ki){var Gi=Ki.userAgent;if(Gi){qi=Gi;break e}}qi=""}function Wi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ji(e){var t={};for(var n in e)t[n]=e[n];return t}var Qi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $i(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Qi.length;o++)n=Qi[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yi(e){return Yi[" "](e),e}Yi[" "]=Ti;var Xi,Zi=zi(qi,"Opera"),eo=zi(qi,"Trident")||zi(qi,"MSIE"),to=zi(qi,"Edge"),no=to||eo,ro=zi(qi,"Gecko")&&!(zi(qi.toLowerCase(),"webkit")&&!zi(qi,"Edge"))&&!(zi(qi,"Trident")||zi(qi,"MSIE"))&&!zi(qi,"Edge"),io=zi(qi.toLowerCase(),"webkit")&&!zi(qi,"Edge");function oo(){var e=Ei.document;return e?e.documentMode:void 0}e:{var ao="",so=function(){var e=qi;return ro?/rv:([^\);]+)(\)|;)/.exec(e):to?/Edge\/([\d\.]+)/.exec(e):eo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):io?/WebKit\/(\S+)/.exec(e):Zi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(so&&(ao=so?so[1]:""),eo){var uo=oo();if(null!=uo&&uo>parseFloat(ao)){Xi=String(uo);break e}}Xi=ao}var co,lo={};function ho(e){return function(e,t){var n=lo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Vi(String(Xi)).split("."),r=Vi(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Hi(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Hi(0==a[2].length,0==s[2].length)||Hi(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(Ei.document&&eo){var fo=oo();co=fo||(parseInt(Xi,10)||void 0)}else co=void 0;var po=co,vo=!eo||9<=Number(po),mo=eo&&!ho("9"),go=function(){if(!Ei.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ei.addEventListener("test",Ti,t),Ei.removeEventListener("test",Ti,t)}catch(n){}return e}();function yo(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function bo(e,t){if(yo.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ro){e:{try{Yi(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_o[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}yo.prototype.b=function(){this.defaultPrevented=!0},Di(bo,yo);var _o={2:"touch",3:"pen",4:"mouse"};bo.prototype.b=function(){bo.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,mo)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(lk){}};var wo="closure_listenable_"+(1e6*Math.random()|0),So=0;function Eo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++So,this.Y=this.Z=!1}function To(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ko(e){this.src=e,this.a={},this.b=0}function Io(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Fi(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(To(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Co(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ko.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Co(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Eo(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var No="closure_lm_"+(1e6*Math.random()|0),xo={};function Ao(e,t,n,r,i){if(r&&r.once)return Oo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ao(e,t[o],n,r,i);return null}return n=Bo(n),e&&e[wo]?e.va(t,n,Ii(r)?!!r.capture:!!r,i):Po(e,t,n,!1,r,i)}function Po(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ii(i)?!!i.capture:!!i;if(a&&!vo)return null;var s=jo(e);if(s||(e[No]=s=new ko(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Mo,t=vo?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)go||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Lo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Oo(e,t[o],n,r,i);return null}return n=Bo(n),e&&e[wo]?e.wa(t,n,Ii(r)?!!r.capture:!!r,i):Po(e,t,n,!0,r,i)}function Ro(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ro(e,t[o],n,r,i);else r=Ii(r)?!!r.capture:!!r,n=Bo(n),e&&e[wo]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=Co(o=e.a[t],n,r,i))&&(To(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=jo(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Co(t,n,r,i)),(n=-1<e?t[e]:null)&&Do(n))}function Do(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[wo])Io(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Lo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jo(t))?(Io(n,e),0==n.b&&(n.src=null,t[No]=null)):To(e)}}}function Lo(e){return e in xo?xo[e]:xo[e]="on"+e}function Fo(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Do(e),n.call(r,t)}function Mo(e,t){if(e.Y)return!0;if(!vo){if(!t)e:{t=["window","event"];for(var n=Ei,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Fo(e,t=new bo(t,this))}return Fo(e,new bo(t,this))}function jo(e){return(e=e[No])instanceof ko?e:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(e){return"function"===typeof e?e:(e[Uo]||(e[Uo]=function(t){return e.handleEvent(t)}),e[Uo])}function qo(){Li.call(this),this.c=new ko(this),this.J=this,this.C=null}function Vo(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new yo(t,e);else if(t instanceof yo)t.target=t.target||e;else{var i=t;$i(t=new yo(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=zo(a,r,!0,t)&&i}if(i=zo(a=t.a=e,r,!0,t)&&i,i=zo(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=zo(a=t.a=n[o],r,!1,t)&&i}function zo(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Io(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Di(qo,Li),qo.prototype[wo]=!0,(_i=qo.prototype).addEventListener=function(e,t,n,r){Ao(this,e,t,n,r)},_i.removeEventListener=function(e,t,n,r){Ro(this,e,t,n,r)},_i.G=function(){if(qo.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)To(n[r]);delete t.a[e],t.b--}}this.C=null},_i.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},_i.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ho=Ei.JSON.stringify;function Ko(){this.b=this.a=null}var Go,Wo=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Qo}),(function(e){e.reset()}));function Jo(){var e=Zo,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Qo(){this.next=this.b=this.a=null}function $o(e){Ei.setTimeout((function(){throw e}),0)}function Yo(e,t){Go||function(){var e=Ei.Promise.resolve(void 0);Go=function(){e.then(ea)}}(),Xo||(Go(),Xo=!0),Zo.add(e,t)}Ko.prototype.add=function(e,t){var n=Wo.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Qo.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Qo.prototype.reset=function(){this.next=this.b=this.a=null};var Xo=!1,Zo=new Ko;function ea(){for(var e;e=Jo();){try{e.a.call(e.b)}catch(n){$o(n)}var t=Wo;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Xo=!1}function ta(e,t){qo.call(this),this.b=e||1,this.a=t||Ei,this.f=Pi(this.Za,this),this.g=Ri()}function na(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function ra(e,t,n){if("function"===typeof e)n&&(e=Pi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pi(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ei.setTimeout(e,t||0)}function ia(e){e.a=ra((function(){e.a=null,e.c&&(e.c=!1,ia(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Di(ta,qo),(_i=ta.prototype).aa=!1,_i.M=null,_i.Za=function(){if(this.aa){var e=Ri()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Vo(this,"tick"),this.aa&&(na(this),this.start()))}},_i.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ri())},_i.G=function(){ta.X.G.call(this),na(this),delete this.a};var oa=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}yi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:ia(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Ei.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Li);function aa(e){Li.call(this),this.b=e,this.a={}}Di(aa,Li);var sa=[];function ua(e,t,n,r){Array.isArray(n)||(n&&(sa[0]=n.toString()),n=sa);for(var i=0;i<n.length;i++){var o=Ao(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ca(e){Wi(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Do(e)}),e),e.a={}}function la(){this.a=!0}function ha(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ho(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}aa.prototype.G=function(){aa.X.G.call(this),ca(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},la.prototype.info=function(){};var fa={},da=null;function pa(){return da=da||new qo}function va(e){yo.call(this,fa.Fa,e)}function ma(e){var t=pa();Vo(t,new va(t,e))}function ga(e,t){yo.call(this,fa.STAT_EVENT,e),this.stat=t}function ya(e){var t=pa();Vo(t,new ga(t,e))}function ba(e){yo.call(this,fa.Ga,e)}function _a(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ei.setTimeout((function(){e()}),t)}fa.Fa="serverreachability",Di(va,yo),fa.STAT_EVENT="statevent",Di(ga,yo),fa.Ga="timingevent",Di(ba,yo);var wa={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Sa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ea(){}function Ta(e){var t;return(t=e.a)||(t=e.a={}),t}function ka(){}Ea.prototype.a=null;var Ia,Ca={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Na(){yo.call(this,"d")}function xa(){yo.call(this,"c")}function Aa(){}function Pa(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new aa(this),this.P=Oa,e=no?125:void 0,this.R=new ta(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Di(Na,yo),Di(xa,yo),Di(Aa,Ea),Ia=new Aa;var Oa=45e3,Ra={},Da={};function La(e,t,n){e.H=1,e.i=rs(Ya(t)),e.j=n,e.I=!0,Fa(e,null)}function Fa(e,t){e.u=Ri(),Ua(e),e.l=Ya(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),ms(n.b,"t",r),e.D=0,e.a=lu(e.g,e.g.C?t:null),0<e.O&&(e.F=new oa(Pi(e.Ca,e,e.a),e.O)),ua(e.J,e.a,"readystatechange",e.Xa),t=e.B?Ji(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),ma(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Ma(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=ja(e,n);if(i==Da){4==t&&(e.h=4,ya(14),r=!1),ha(e.c,e.f,null,"[Incomplete Response]");break}if(i==Ra){e.h=4,ya(15),ha(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}ha(e.c,e.f,i,null),Ha(e,i)}4==t&&0==n.length&&(e.h=1,ya(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),nu(t),t.F=!0,ya(11))):(ha(e.c,e.f,n,"[Invalid Chunked Response]"),za(e),Va(e))}function ja(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Da:(n=Number(t.substring(n,r)),isNaN(n)?Ra:(r+=1)+n>t.length?Da:(t=t.substr(r,n),e.D=r+n,t))}function Ua(e){e.T=Ri()+e.P,Ba(e,e.P)}function Ba(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=_a(Pi(e.Va,e),t)}function qa(e){e.o&&(Ei.clearTimeout(e.o),e.o=null)}function Va(e){0==e.g.v||e.A||ou(e.g,e)}function za(e){qa(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,na(e.R),ca(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Ha(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Es(n.b,e)))if(n.I=e.N,!e.C&&Es(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(ty){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;iu(n),Ws(n)}tu(n),ya(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=_a(Pi(n.Sa,n),6e3));if(1>=Ss(n.b)&&n.ea){try{n.ea()}catch(ty){}n.ea=void 0}}else su(n,11)}else if((e.C||n.a==e)&&iu(n),!Bi(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(zi(l,"spdy")||zi(l,"quic")||zi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ts(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ns(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ri()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=cu(u,u.C?u.ga:null,u.fa),d.C){ks(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(qa(p),Ua(p)),u.a=d}else eu(u);0<n.g.length&&$s(n)}else"stop"!=i[0]&&"close"!=i[0]||su(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?su(n,7):Gs(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ma(4)}catch(ty){}}function Ka(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ki(e)||"string"===typeof e)Mi(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(ki(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(ki(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ga(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ga)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wa(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ja(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ja(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ja(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(_i=Pa.prototype).setTimeout=function(e){this.P=e},_i.Xa=function(e){e=e.target;var t=this.F;t&&3==Vs(e)?t.f():this.Ca(e)},_i.Ca=function(e){try{if(e==this.a)e:{var t=Vs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!no&&!this.a.$())){this.A||4!=t||7==n||ma(8==n||0>=r?3:2),qa(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,ya(12),za(this),Va(this);break e}ha(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ha(this,u)}this.I?(Ma(this,t,o),no&&this.b&&3==t&&(ua(this.J,this.R,"tick",this.Wa),this.R.start())):(ha(this.c,this.f,o,null),Ha(this,o)),4==t&&za(this),this.b&&!this.A&&(4==t?ou(this.g,this):(this.b=!1,Ua(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ya(12)):(this.h=0,ya(13)),za(this),Va(this)}}}catch(c){}},_i.Wa=function(){if(this.a){var e=Vs(this.a),t=this.a.$();this.D<t.length&&(qa(this),Ma(this,e,t),this.b&&4!=e&&Ua(this))}},_i.cancel=function(){this.A=!0,za(this)},_i.Va=function(){this.o=null;var e=Ri();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(ma(3),ya(17)),za(this),this.h=2,Va(this)):Ba(this,this.T-e)},(_i=Ga.prototype).K=function(){Wa(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},_i.L=function(){return Wa(this),this.a.concat()},_i.get=function(e,t){return Ja(this.b,e)?this.b[e]:t},_i.set=function(e,t){Ja(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},_i.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Qa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $a(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof $a){this.a=void 0!==t?t:e.a,Xa(this,e.f),this.j=e.j,Za(this,e.c),es(this,e.h),this.g=e.g,t=e.b;var n=new fs;n.c=t.c,t.a&&(n.a=new Ga(t.a),n.b=t.b),ts(this,n),this.i=e.i}else e&&(n=String(e).match(Qa))?(this.a=!!t,Xa(this,n[1]||"",!0),this.j=is(n[2]||""),Za(this,n[3]||"",!0),es(this,n[4]),this.g=is(n[5]||"",!0),ts(this,n[6]||"",!0),this.i=is(n[7]||"")):(this.a=!!t,this.b=new fs(null,this.a))}function Ya(e){return new $a(e)}function Xa(e,t,n){e.f=n?is(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Za(e,t,n){e.c=n?is(t,!0):t}function es(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function ts(e,t,n){t instanceof fs?(e.b=t,function(e,t){t&&!e.f&&(ds(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ps(this,t),ms(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=os(t,ls)),e.b=new fs(t,e.a))}function ns(e,t,n){e.b.set(t,n)}function rs(e){return ns(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ri()).toString(36)),e}function is(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function os(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,as),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function as(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$a.prototype.toString=function(){var e=[],t=this.f;t&&e.push(os(t,ss,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(os(t,ss,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(os(n,"/"==n.charAt(0)?cs:us,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",os(n,hs)),e.join("")};var ss=/[#\/\?@]/g,us=/[#\?:]/g,cs=/[#\?]/g,ls=/[#\?@]/g,hs=/#/g;function fs(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ds(e){e.a||(e.a=new Ga,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ps(e,t){ds(e),t=gs(e,t),Ja(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ja((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Wa(e)))}function vs(e,t){return ds(e),t=gs(e,t),Ja(e.a.b,t)}function ms(e,t,n){ps(e,t),0<n.length&&(e.c=null,e.a.set(gs(e,t),Ui(n)),e.b+=n.length)}function gs(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(_i=fs.prototype).add=function(e,t){ds(this),this.c=null,e=gs(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},_i.forEach=function(e,t){ds(this),this.a.forEach((function(n,r){Mi(n,(function(n){e.call(t,n,r,this)}),this)}),this)},_i.L=function(){ds(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},_i.K=function(e){ds(this);var t=[];if("string"===typeof e)vs(this,e)&&(t=ji(t,this.a.get(gs(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=ji(t,e[n])}return t},_i.set=function(e,t){return ds(this),this.c=null,vs(this,e=gs(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},_i.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},_i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ys=function(e,t){this.b=e,this.a=t};function bs(e){this.g=e||_s,Ei.PerformanceNavigationTiming?e=0<(e=Ei.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ei.ia&&Ei.ia.ya&&Ei.ia.ya()&&Ei.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _s=10;function ws(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Ss(e){return e.b?1:e.a?e.a.size:0}function Es(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Ts(e,t){e.a?e.a.add(t):e.b=t}function ks(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Is(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=bi(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ui(e.c)}function Cs(){}function Ns(){this.a=new Cs}function xs(e,t,n){var r=n||"";try{Ka(e,(function(e,n){var i=e;Ii(e)&&(i=Ho(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(By){throw t.push(r+"type="+encodeURIComponent("_badmap")),By}}function As(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}bs.prototype.cancel=function(){var e,t;if(this.c=Is(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bi(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Cs.prototype.stringify=function(e){return Ei.JSON.stringify(e,void 0)},Cs.prototype.parse=function(e){return Ei.JSON.parse(e,void 0)};var Ps=Ei.JSON.parse;function Os(e){qo.call(this),this.headers=new Ga,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rs,this.D=this.F=!1}Di(Os,qo);var Rs="",Ds=/^https?$/i,Ls=["POST","PUT"];function Fs(e){return"content-type"==e.toLowerCase()}function Ms(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,js(e),Bs(e)}function js(e){e.u||(e.u=!0,Vo(e,"complete"),Vo(e,"error"))}function Us(e){if(e.b&&"undefined"!=typeof Si&&(!e.s[1]||4!=Vs(e)||2!=e.W()))if(e.l&&4==Vs(e))ra(e.za,0,e);else if(Vo(e,"readystatechange"),4==Vs(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Qa)[1]||null;if(!o&&Ei.self&&Ei.self.location){var a=Ei.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ds.test(o?o.toLowerCase():"")}t=i}if(t)Vo(e,"complete"),Vo(e,"success");else{e.h=6;try{var s=2<Vs(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",js(e)}}finally{Bs(e)}}}function Bs(e,t){if(e.a){qs(e);var n=e.a,r=e.s[0]?Ti:null;e.a=null,e.s=null,t||Vo(e,"ready");try{n.onreadystatechange=r}catch(By){}}}function qs(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Ei.clearTimeout(e.m),e.m=null)}function Vs(e){return e.a?e.a.readyState:0}function zs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Wi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ns(e,t,n))}function Hs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ks(e){this.pa=0,this.g=[],this.c=new la,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hs("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hs("baseRetryDelayMs",5e3,e),this.Ra=Hs("retryDelaySeedMs",1e4,e),this.Ma=Hs("forwardChannelMaxRetries",2,e),this.ma=Hs("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new bs(e&&e.concurrentRequestLimit),this.ka=new Ns,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Gs(e){if(Js(e),3==e.v){var t=e.R++,n=Ya(e.B);ns(n,"SID",e.J),ns(n,"RID",t),ns(n,"TYPE","terminate"),Xs(e,n),(t=new Pa(e,e.c,t,void 0)).H=2,t.i=rs(Ya(n)),n=!1,Ei.navigator&&Ei.navigator.sendBeacon&&(n=Ei.navigator.sendBeacon(t.i.toString(),"")),!n&&Ei.Image&&((new Image).src=t.i,n=!0),n||(t.a=lu(t.g,null),t.a.ba(t.i)),t.u=Ri(),Ua(t)}uu(e)}function Ws(e){e.a&&(nu(e),e.a.cancel(),e.a=null)}function Js(e){Ws(e),e.j&&(Ei.clearTimeout(e.j),e.j=null),iu(e),e.b.cancel(),e.h&&("number"===typeof e.h&&Ei.clearTimeout(e.h),e.h=null)}function Qs(e,t){e.g.push(new ys(e.Oa++,t)),3==e.v&&$s(e)}function $s(e){ws(e.b)||e.h||(e.h=!0,Yo(e.Ba,e),e.u=0)}function Ys(e,t){var n;n=t?t.f:e.R++;var r=Ya(e.B);ns(r,"SID",e.J),ns(r,"RID",n),ns(r,"AID",e.P),Xs(e,r),e.i&&e.l&&zs(r,e.i,e.l),n=new Pa(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Zs(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Ts(e.b,n),La(n,r,t)}function Xs(e,t){e.f&&Ka({},(function(e,n){ns(t,n,e)}))}function Zs(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Pi(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{xs(h,a,"req"+c+"_")}catch(l){r&&r(h)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function eu(e){e.a||e.j||(e.T=1,Yo(e.Aa,e),e.o=0)}function tu(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=_a(Pi(e.Aa,e),au(e,e.o)),e.o++,!0)}function nu(e){null!=e.s&&(Ei.clearTimeout(e.s),e.s=null)}function ru(e){e.a=new Pa(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ya(e.la);ns(t,"RID","rpc"),ns(t,"SID",e.J),ns(t,"CI",e.H?"0":"1"),ns(t,"AID",e.P),Xs(e,t),ns(t,"TYPE","xmlhttp"),e.i&&e.l&&zs(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=rs(Ya(t)),n.j=null,n.I=!0,Fa(n,e)}function iu(e){null!=e.m&&(Ei.clearTimeout(e.m),e.m=null)}function ou(e,t){var n=null;if(e.a==t){iu(e),nu(e),e.a=null;var r=2}else{if(!Es(e.b,t))return;n=t.s,ks(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=Ri()-t.u;var i=e.u;Vo(r=pa(),new ba(r,n,t,i)),$s(e)}else eu(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ss(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=_a(Pi(e.Ba,e,t),au(e,e.u)),e.u++,!0))}(e,t)||2==r&&tu(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:su(e,5);break;case 4:su(e,10);break;case 3:su(e,6);break;default:su(e,2)}}function au(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function su(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=Pi(e.Ya,e);n||(n=new $a("//www.google.com/images/cleardot.gif"),Ei.location&&"http"==Ei.location.protocol||Xa(n,"https"),rs(n)),function(e,t){var n=new la;if(Ei.Image){var r=new Image;r.onload=Oi(As,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Oi(As,n,r,"TestLoadImage: error",!1,t),r.onabort=Oi(As,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Oi(As,n,r,"TestLoadImage: timeout",!1,t),Ei.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ya(2);e.v=0,e.f&&e.f.ra(t),uu(e),Js(e)}function uu(e){e.v=0,e.I=-1,e.f&&(0==Is(e.b).length&&0==e.g.length||(e.b.c.length=0,Ui(e.g),e.g.length=0),e.f.qa())}function cu(e,t,n){var r=function(e){return e instanceof $a?Ya(e):new $a(e,void 0)}(n);if(""!=r.c)t&&Za(r,t+"."+r.c),es(r,r.h);else{var i=Ei.location;r=function(e,t,n,r){var i=new $a(null,void 0);return e&&Xa(i,e),t&&Za(i,t),n&&es(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Wi(e.V,(function(e,t){ns(r,t,e)})),t=e.A,n=e.na,t&&n&&ns(r,t,n),ns(r,"VER",e.ha),Xs(e,r),r}function lu(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Os(e.Na)).F=e.C,t}function hu(){}function fu(){if(eo&&!(10<=Number(po)))throw Error("Environmental error: no available transport.")}function du(e,t){qo.call(this),this.a=new Ks(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Bi(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bi(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new mu(this)}function pu(e){Na.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function vu(){xa.call(this),this.status=1}function mu(e){this.a=e}(_i=Os.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ta(this.H):Ta(Ia),this.a.onreadystatechange=Pi(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Ms(this,o)}e=n||"";var i=new Ga(this.headers);r&&Ka(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Fs,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=Ei.FormData&&e instanceof Ei.FormData,!(0<=Fi(Ls,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qs(this),0<this.o&&((this.D=function(e){return eo&&ho(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Pi(this.xa,this)):this.m=ra(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Ms(this,o)}},_i.xa=function(){"undefined"!=typeof Si&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Vo(this,"timeout"),this.abort(8))},_i.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Vo(this,"complete"),Vo(this,"abort"),Bs(this))},_i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Bs(this,!0)),Os.X.G.call(this)},_i.za=function(){this.j||(this.A||this.l||this.g?Us(this):this.Ua())},_i.Ua=function(){Us(this)},_i.W=function(){try{return 2<Vs(this)?this.a.status:-1}catch(e){return-1}},_i.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},_i.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ps(t)}},_i.ua=function(){return this.h},_i.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(_i=Ks.prototype).ha=8,_i.v=1,_i.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new Pa(this,this.c,e,void 0),r=this.l;if(this.O&&(r?$i(r=Ji(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Zs(this,n,t),ns(i=Ya(this.B),"RID",e),ns(i,"CVER",22),this.A&&ns(i,"X-HTTP-Session-Id",this.A),Xs(this,i),this.i&&r&&zs(i,this.i,r),Ts(this.b,n),this.Ia&&ns(i,"TYPE","init"),this.da?(ns(i,"$req",t),ns(i,"SID","null"),n.U=!0,La(n,i,null)):La(n,i,t),this.v=2}}else 3==this.v&&(e?Ys(this,e):0==this.g.length||ws(this.b)||Ys(this))},_i.Aa=function(){if(this.j=null,ru(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=_a(Pi(this.Ta,this),e)}},_i.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ya(10),Ws(this),ru(this))},_i.Sa=function(){null!=this.m&&(this.m=null,Ws(this),tu(this),ya(19))},_i.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),ya(2)):(this.c.info("Failed to ping google.com"),ya(1))},(_i=hu.prototype).ta=function(){},_i.sa=function(){},_i.ra=function(){},_i.qa=function(){},_i.Ja=function(){},fu.prototype.a=function(e,t){return new du(e,t)},Di(du,qo),du.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;ya(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=cu(e,null,e.fa),$s(e)},du.prototype.close=function(){Gs(this.a)},du.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,Qs(this.a,t)}else this.l?((t={}).__data__=Ho(e),Qs(this.a,t)):Qs(this.a,e)},du.prototype.G=function(){this.a.f=null,delete this.f,Gs(this.a),delete this.a,du.X.G.call(this)},Di(pu,Na),Di(vu,xa),Di(mu,hu),mu.prototype.ta=function(){Vo(this.a,"a")},mu.prototype.sa=function(e){Vo(this.a,new pu(e))},mu.prototype.ra=function(e){Vo(this.a,new vu(e))},mu.prototype.qa=function(){Vo(this.a,"b")},fu.prototype.createWebChannel=fu.prototype.a,du.prototype.send=du.prototype.h,du.prototype.open=du.prototype.g,du.prototype.close=du.prototype.close,wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Sa.COMPLETE="complete",ka.EventType=Ca,Ca.OPEN="a",Ca.CLOSE="b",Ca.ERROR="c",Ca.MESSAGE="d",qo.prototype.listen=qo.prototype.va,Os.prototype.listenOnce=Os.prototype.wa,Os.prototype.getLastError=Os.prototype.Qa,Os.prototype.getLastErrorCode=Os.prototype.ua,Os.prototype.getStatus=Os.prototype.W,Os.prototype.getResponseJson=Os.prototype.Pa,Os.prototype.getResponseText=Os.prototype.$,Os.prototype.send=Os.prototype.ba;var gu=function(){return new fu},yu=function(){return pa()},bu=wa,_u=Sa,wu=fa,Su={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Eu=ka,Tu=Os,ku=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ku.o=-1;var Iu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cu=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,ui.ZT)(t,e),t}(Error),Nu=new gi.Yd("@firebase/firestore");function xu(){return Nu.logLevel}function Au(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nu.logLevel<=gi.in.DEBUG){var r=t.map(Ru);Nu.debug.apply(Nu,(0,ui.ev)(["Firestore (8.4.0): "+e],r))}}function Pu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nu.logLevel<=gi.in.ERROR){var r=t.map(Ru);Nu.error.apply(Nu,(0,ui.ev)(["Firestore (8.4.0): "+e],r))}}function Ou(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nu.logLevel<=gi.in.WARN){var r=t.map(Ru);Nu.warn.apply(Nu,(0,ui.ev)(["Firestore (8.4.0): "+e],r))}}function Ru(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Du(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+e;throw Pu(t),new Error(t)}function Lu(e,t){e||Du()}function Fu(e,t){return e}function Mu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ju=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Mu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Uu(e,t){return e<t?-1:e>t?1:0}function Bu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qu(e){return e+"\0"}var Vu=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Cu(Iu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Cu(Iu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Cu(Iu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Cu(Iu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Uu(this.nanoseconds,e.nanoseconds):Uu(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),zu=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Vu(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Hu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ku(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Wu=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Du(),void 0===n?n=e.length-t:n>e.length-t&&Du(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ju=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Wu),Qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Qu.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Cu(Iu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cu(Iu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Cu(Iu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Wu),Yu=function(){function e(e){this.fields=e,e.sort($u.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Bu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Xu=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Uu(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Xu.EMPTY_BYTE_STRING=new Xu("");var Zu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(e){if(Lu(!!e),"string"==typeof e){var t=0,n=Zu.exec(e);if(Lu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:tc(e.seconds),nanos:tc(e.nanos)}}function tc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nc(e){return"string"==typeof e?Xu.fromBase64String(e):Xu.fromUint8Array(e)}function rc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ic(e){var t=e.mapValue.fields.__previous_value__;return rc(t)?ic(t):t}function oc(e){var t=ec(e.mapValue.fields.__local_write_time__.timestampValue);return new Vu(t.seconds,t.nanos)}function ac(e){return null==e}function sc(e){return 0===e&&1/e==-1/0}function uc(e){return"number"==typeof e&&Number.isInteger(e)&&!sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var cc=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Ju.fromString(t))},e.fromName=function(t){return new e(Ju.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ju.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ju.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Ju(t.slice()))},e}();function lc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rc(e)?4:10:Du()}function hc(e,t){var n=lc(e);if(n!==lc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oc(e).isEqual(oc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ec(e.timestampValue),r=ec(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nc(e.bytesValue).isEqual(nc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tc(e.geoPointValue.latitude)===tc(t.geoPointValue.latitude)&&tc(e.geoPointValue.longitude)===tc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tc(e.integerValue)===tc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=tc(e.doubleValue),r=tc(t.doubleValue);return n===r?sc(n)===sc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bu(e.arrayValue.values||[],t.arrayValue.values||[],hc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hu(n)!==Hu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hc(n[i],r[i])))return!1;return!0}(e,t);default:return Du()}}function fc(e,t){return void 0!==(e.values||[]).find((function(e){return hc(e,t)}))}function dc(e,t){var n=lc(e),r=lc(t);if(n!==r)return Uu(n,r);switch(n){case 0:return 0;case 1:return Uu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=tc(e.integerValue||e.doubleValue),r=tc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pc(e.timestampValue,t.timestampValue);case 4:return pc(oc(e),oc(t));case 5:return Uu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=nc(e),r=nc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Uu(n[i],r[i]);if(0!==o)return o}return Uu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Uu(tc(e.latitude),tc(t.latitude));return 0!==n?n:Uu(tc(e.longitude),tc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=dc(n[i],r[i]);if(o)return o}return Uu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Uu(r[a],o[a]);if(0!==s)return s;var u=dc(n[r[a]],i[o[a]]);if(0!==u)return u}return Uu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Du()}}function pc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Uu(e,t);var n=ec(e),r=ec(t),i=Uu(n.seconds,r.seconds);return 0!==i?i:Uu(n.nanos,r.nanos)}function vc(e){return mc(e)}function mc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ec(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?nc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cc.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=mc(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+mc(e.fields[o])}return t+"}"}(e.mapValue):Du();var t,n}function gc(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function yc(e){return!!e&&"integerValue"in e}function bc(e){return!!e&&"arrayValue"in e}function _c(e){return!!e&&"nullValue"in e}function wc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sc(e){return!!e&&"mapValue"in e}var Ec=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field($u.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return hc(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===lc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=Sc(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay($u.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!Sc(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function Tc(e){var t=[];return Ku(e.fields||{},(function(e,n){var r=new $u([e]);if(Sc(n)){var i=Tc(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Yu(t)}var kc=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,zu.min(),Ec.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ec.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ec.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ec.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ec.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ic=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Cc(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ic(e,t,n,r,i,o,a)}function Nc(e){var t=Fu(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+vc(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ac(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=qc(t.startAt)),t.endAt&&(n+="|ub:",n+=qc(t.endAt)),t.h=n}return t.h}function xc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!hc(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kc(e.startAt,t.startAt)&&Kc(e.endAt,t.endAt)}function Ac(e){return cc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Pc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,ui.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Oc(e,n,r):"array-contains"===n?new Fc(e,r):"in"===n?new Mc(e,r):"not-in"===n?new jc(e,r):"array-contains-any"===n?new Uc(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Rc(e,n):new Dc(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(dc(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.m(dc(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Du()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Oc=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=cc.fromName(r.referenceValue),i}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){var t=cc.comparator(e.key,this.key);return this.m(t)},t}(Pc),Rc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Lc("in",n),r}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Pc),Dc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Lc("not-in",n),r}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Pc);function Lc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cc.fromName(e.referenceValue)}))}var Fc=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return bc(t)&&fc(t.arrayValue,this.value)},t}(Pc),Mc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&fc(this.value.arrayValue,t)},t}(Pc),jc=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!fc(this.value.arrayValue,t)},t}(Pc),Uc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,ui.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!bc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return fc(t.value.arrayValue,e)}))},t}(Pc),Bc=function(e,t){this.position=e,this.before=t};function qc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return vc(e)})).join(",")}var Vc=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function zc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Hc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?cc.comparator(cc.fromName(a.referenceValue),n.key):dc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Kc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!hc(e.position[n],t.position[n]))return!1;return!0}var Gc=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Wc(e,t,n,r,i,o,a,s){return new Gc(e,t,n,r,i,o,a,s)}function Jc(e){return new Gc(e)}function Qc(e){return!ac(e.limit)&&"F"===e.limitType}function $c(e){return!ac(e.limit)&&"L"===e.limitType}function Yc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Xc(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Zc(e){return null!==e.collectionGroup}function el(e){var t=Fu(e);if(null===t.p){t.p=[];var n=Xc(t),r=Yc(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Vc(n)),t.p.push(new Vc($u.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Vc($u.keyField(),u))}}}return t.p}function tl(e){var t=Fu(e);if(!t.T)if("F"===t.limitType)t.T=Cc(t.path,t.collectionGroup,el(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=el(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Vc(o.field,a))}var s=t.endAt?new Bc(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Bc(t.startAt.position,!t.startAt.before):null;t.T=Cc(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function nl(e,t,n){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rl(e,t){return xc(tl(e),tl(t))&&e.limitType===t.limitType}function il(e){return Nc(tl(e))+"|lt:"+e.limitType}function ol(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+vc(t.value);var t})).join(", ")+"]"),ac(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+qc(e.startAt)),e.endAt&&(t+=", endAt: "+qc(e.endAt)),"Target("+t+")"}(tl(e))+"; limitType="+e.limitType+")"}function al(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Hc(e.startAt,el(e),t))&&(!e.endAt||!Hc(e.endAt,el(e),t))}(e,t)}function sl(e){return function(t,n){for(var r=!1,i=0,o=el(e);i<o.length;i++){var a=o[i],s=ul(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ul(e,t,n){var r=e.field.isKeyField()?cc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dc(r,i):Du()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Du()}}function cl(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(t)?"-0":t}}function ll(e){return{integerValue:""+e}}function hl(e,t){return uc(t)?ll(t):cl(e,t)}var fl=function(){this._=void 0};function dl(e,t,n){return e instanceof ml?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gl?yl(e,t):e instanceof bl?_l(e,t):function(e,t){var n=vl(e,t),r=Sl(n)+Sl(e.A);return yc(n)&&yc(e.A)?ll(r):cl(e.R,r)}(e,t)}function pl(e,t,n){return e instanceof gl?yl(e,t):e instanceof bl?_l(e,t):n}function vl(e,t){return e instanceof wl?yc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ml=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t}(fl),gl=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,ui.ZT)(t,e),t}(fl);function yl(e,t){for(var n=El(t),r=function(e){n.some((function(t){return hc(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bl=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,ui.ZT)(t,e),t}(fl);function _l(e,t){for(var n=El(t),r=function(e){n=n.filter((function(t){return!hc(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,ui.ZT)(t,e),t}(fl);function Sl(e){return tc(e.integerValue||e.doubleValue)}function El(e){return bc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Tl=function(e,t){this.field=e,this.transform=t},kl=function(e,t){this.version=e,this.transformResults=t},Il=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Cl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Nl=function(){};function xl(e,t,n){e instanceof Dl?function(e,t,n){var r=e.value.clone(),i=Ml(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ll?function(e,t,n){if(Cl(e.precondition,t)){var r=Ml(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Al(e,t,n){e instanceof Dl?function(e,t,n){if(Cl(e.precondition,t)){var r=e.value.clone(),i=jl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Rl(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ll?function(e,t,n){if(Cl(e.precondition,t)){var r=jl(e.fieldTransforms,n,t),i=t.data;i.setAll(Fl(e)),i.setAll(r),t.convertToFoundDocument(Rl(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Cl(e.precondition,t)&&t.convertToNoDocument(zu.min())}(e,t)}function Pl(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=vl(o.transform,a||null);null!=s&&(null==n&&(n=Ec.empty()),n.set(o.field,s))}return n||null}function Ol(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gl&&t instanceof gl||e instanceof bl&&t instanceof bl?Bu(e.elements,t.elements,hc):e instanceof wl&&t instanceof wl?hc(e.A,t.A):e instanceof ml&&t instanceof ml}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Rl(e){return e.isFoundDocument()?e.version:zu.min()}var Dl=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,ui.ZT)(t,e),t}(Nl),Ll=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,ui.ZT)(t,e),t}(Nl);function Fl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ml(e,t,n){var r=new Map;Lu(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,pl(a,s,n[i]))}return r}function jl(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,dl(s,u,t))}return r}var Ul,Bl,ql=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,ui.ZT)(t,e),t}(Nl),Vl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,ui.ZT)(t,e),t}(Nl),zl=function(e){this.count=e};function Hl(e){switch(e){case Iu.OK:return Du();case Iu.CANCELLED:case Iu.UNKNOWN:case Iu.DEADLINE_EXCEEDED:case Iu.RESOURCE_EXHAUSTED:case Iu.INTERNAL:case Iu.UNAVAILABLE:case Iu.UNAUTHENTICATED:return!1;case Iu.INVALID_ARGUMENT:case Iu.NOT_FOUND:case Iu.ALREADY_EXISTS:case Iu.PERMISSION_DENIED:case Iu.FAILED_PRECONDITION:case Iu.ABORTED:case Iu.OUT_OF_RANGE:case Iu.UNIMPLEMENTED:case Iu.DATA_LOSS:return!0;default:return Du()}}function Kl(e){if(void 0===e)return Pu("GRPC error has no .code"),Iu.UNKNOWN;switch(e){case Ul.OK:return Iu.OK;case Ul.CANCELLED:return Iu.CANCELLED;case Ul.UNKNOWN:return Iu.UNKNOWN;case Ul.DEADLINE_EXCEEDED:return Iu.DEADLINE_EXCEEDED;case Ul.RESOURCE_EXHAUSTED:return Iu.RESOURCE_EXHAUSTED;case Ul.INTERNAL:return Iu.INTERNAL;case Ul.UNAVAILABLE:return Iu.UNAVAILABLE;case Ul.UNAUTHENTICATED:return Iu.UNAUTHENTICATED;case Ul.INVALID_ARGUMENT:return Iu.INVALID_ARGUMENT;case Ul.NOT_FOUND:return Iu.NOT_FOUND;case Ul.ALREADY_EXISTS:return Iu.ALREADY_EXISTS;case Ul.PERMISSION_DENIED:return Iu.PERMISSION_DENIED;case Ul.FAILED_PRECONDITION:return Iu.FAILED_PRECONDITION;case Ul.ABORTED:return Iu.ABORTED;case Ul.OUT_OF_RANGE:return Iu.OUT_OF_RANGE;case Ul.UNIMPLEMENTED:return Iu.UNIMPLEMENTED;case Ul.DATA_LOSS:return Iu.DATA_LOSS;default:return Du()}}(Bl=Ul||(Ul={}))[Bl.OK=0]="OK",Bl[Bl.CANCELLED=1]="CANCELLED",Bl[Bl.UNKNOWN=2]="UNKNOWN",Bl[Bl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bl[Bl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bl[Bl.NOT_FOUND=5]="NOT_FOUND",Bl[Bl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bl[Bl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bl[Bl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bl[Bl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bl[Bl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bl[Bl.ABORTED=10]="ABORTED",Bl[Bl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bl[Bl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bl[Bl.INTERNAL=13]="INTERNAL",Bl[Bl.UNAVAILABLE=14]="UNAVAILABLE",Bl[Bl.DATA_LOSS=15]="DATA_LOSS";var Gl=function(){function e(e,t){this.comparator=e,this.root=t||Jl.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jl.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jl.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Wl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Wl(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Wl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Wl(this.root,e,this.comparator,!0)},e}(),Wl=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Jl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Du();if(this.right.isRed())throw Du();var e=this.left.check();if(e!==this.right.check())throw Du();return e+(this.isRed()?0:1)},e}();Jl.EMPTY=null,Jl.RED=!0,Jl.BLACK=!1,Jl.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Du()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Jl(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Ql=function(){function e(e){this.comparator=e,this.data=new Gl(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new $l(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new $l(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),$l=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Yl=new Gl(cc.comparator);function Xl(){return Yl}var Zl=new Gl(cc.comparator);function eh(){return Zl}var th=new Gl(cc.comparator);function nh(){return th}var rh=new Ql(cc.comparator);function ih(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=rh,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var oh=new Ql(Uu);function ah(){return oh}var sh=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,uh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(zu.min(),r,ah(),Xl(),ih())},e}(),uh=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Xu.EMPTY_BYTE_STRING,n,ih(),ih(),ih())},e}(),ch=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},lh=function(e,t){this.targetId=e,this.V=t},hh=function(e,t,n,r){void 0===n&&(n=Xu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},fh=function(){function e(){this.S=0,this.D=vh(),this.C=Xu.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=ih(),t=ih(),n=ih();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Du()}})),new uh(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=vh()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),dh=function(){function e(e){this.W=e,this.G=new Map,this.H=Xl(),this.J=ph(),this.Y=new Ql(Uu)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:Du()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ac(i))if(0===n){var o=new cc(i.path);this.tt(t,o,kc.newNoDocument(o,zu.min()))}else Lu(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ac(o.target)){var a=new cc(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,kc.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=ih();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new sh(e,n,this.Y,this.H,r);return this.H=Xl(),this.J=ph(),this.Y=new Ql(Uu),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new fh,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Ql(Uu),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Au("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new fh),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ph(){return new Gl(cc.comparator)}function vh(){return new Gl(cc.comparator)}var mh={asc:"ASCENDING",desc:"DESCENDING"},gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yh=function(e,t){this.databaseId=e,this.I=t};function bh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function _h(e,t){return e.I?t.toBase64():t.toUint8Array()}function wh(e,t){return bh(e,t.toTimestamp())}function Sh(e){return Lu(!!e),zu.fromTimestamp(function(e){var t=ec(e);return new Vu(t.seconds,t.nanos)}(e))}function Eh(e,t){return function(e){return new Ju(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Th(e){var t=Ju.fromString(e);return Lu(Jh(t)),t}function kh(e,t){return Eh(e.databaseId,t.path)}function Ih(e,t){var n=Th(t);if(n.get(1)!==e.databaseId.projectId)throw new Cu(Iu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Cu(Iu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cc(Ah(n))}function Ch(e,t){return Eh(e.databaseId,t)}function Nh(e){var t=Th(e);return 4===t.length?Ju.emptyPath():Ah(t)}function xh(e){return new Ju(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ah(e){return Lu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ph(e,t,n){return{name:kh(e,t),fields:n.toProto().mapValue.fields}}function Oh(e,t,n){var r=Ih(e,t.name),i=Sh(t.updateTime),o=new Ec({mapValue:{fields:t.fields}}),a=kc.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Rh(e,t){var n;if(t instanceof Dl)n={update:Ph(e,t.key,t.value)};else if(t instanceof ql)n={delete:kh(e,t.key)};else if(t instanceof Ll)n={update:Ph(e,t.key,t.data),updateMask:Wh(t.fieldMask)};else{if(!(t instanceof Vl))return Du();n={verify:kh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ml)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wl)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Du()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Du()}(e,t.precondition)),n}function Dh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Il.updateTime(Sh(e.updateTime)):void 0!==e.exists?Il.exists(e.exists):Il.none()}(t.currentDocument):Il.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Lu("REQUEST_TIME"===t.setToServerValue),n=new ml;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new gl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new bl(i)}else"increment"in t?n=new wl(e,t.increment):Du();var o=$u.fromServerFormat(t.fieldPath);return new Tl(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ih(e,t.update.name),o=new Ec({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Yu(t.map((function(e){return $u.fromServerFormat(e)})))}(t.updateMask);return new Ll(i,o,a,n,r)}return new Dl(i,o,n,r)}if(t.delete){var s=Ih(e,t.delete);return new ql(s,n)}if(t.verify){var u=Ih(e,t.verify);return new Vl(u,n)}return Du()}function Lh(e,t){return{documents:[Ch(e,t.path)]}}function Fh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ch(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ch(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(wc(e.value))return{unaryFilter:{field:zh(e.field),op:"IS_NAN"}};if(_c(e.value))return{unaryFilter:{field:zh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wc(e.value))return{unaryFilter:{field:zh(e.field),op:"IS_NOT_NAN"}};if(_c(e.value))return{unaryFilter:{field:zh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zh(e.field),op:Vh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zh(e.field),direction:qh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ac(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Uh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Uh(t.endAt)),n}function Mh(e){var t=Nh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=jh(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Vc(Hh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ac(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Bh(n.startAt));var l=null;return n.endAt&&(l=Bh(n.endAt)),Wc(t,i,s,a,u,"F",c,l)}function jh(e){return e?void 0!==e.unaryFilter?[Gh(e)]:void 0!==e.fieldFilter?[Kh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return jh(e)})).reduce((function(e,t){return e.concat(t)})):Du():[]}function Uh(e){return{before:e.before,values:e.position}}function Bh(e){var t=!!e.before,n=e.values||[];return new Bc(n,t)}function qh(e){return mh[e]}function Vh(e){return gh[e]}function zh(e){return{fieldPath:e.canonicalString()}}function Hh(e){return $u.fromServerFormat(e.fieldPath)}function Kh(e){return Pc.create(Hh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Du()}}(e.fieldFilter.op),e.fieldFilter.value)}function Gh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hh(e.unaryFilter.field);return Pc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hh(e.unaryFilter.field);return Pc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hh(e.unaryFilter.field);return Pc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hh(e.unaryFilter.field);return Pc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Du()}}function Wh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Yh(t)),t=$h(e.get(n),t);return Yh(t)}function $h(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Yh(e){return e+"\x01\x01"}function Xh(e){var t=e.length;if(Lu(t>=2),2===t)return Lu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ju.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Du(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Du()}o=a+2}return new Ju(r)}var Zh=function(e,t){this.seconds=e,this.nanoseconds=t},ef=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ef.store="owner",ef.key="owner";var tf=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};tf.store="mutationQueues",tf.keyPath="userId";var nf=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};nf.store="mutations",nf.keyPath="batchId",nf.userMutationsIndex="userMutationsIndex",nf.userMutationsKeyPath=["userId","batchId"];var rf=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Qh(t)]},e.key=function(e,t,n){return[e,Qh(t),n]},e}();rf.store="documentMutations",rf.PLACEHOLDER=new rf;var of=function(e,t){this.path=e,this.readTime=t},af=function(e,t){this.path=e,this.version=t},sf=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sf.store="remoteDocuments",sf.readTimeIndex="readTimeIndex",sf.readTimeIndexPath="readTime",sf.collectionReadTimeIndex="collectionReadTimeIndex",sf.collectionReadTimeIndexPath=["parentPath","readTime"];var uf=function(e){this.byteSize=e};uf.store="remoteDocumentGlobal",uf.key="remoteDocumentGlobalKey";var cf=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};cf.store="targets",cf.keyPath="targetId",cf.queryTargetsIndexName="queryTargetsIndex",cf.queryTargetsKeyPath=["canonicalId","targetId"];var lf=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};lf.store="targetDocuments",lf.keyPath=["targetId","path"],lf.documentTargetsIndex="documentTargetsIndex",lf.documentTargetsKeyPath=["path","targetId"];var hf=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};hf.key="targetGlobalKey",hf.store="targetGlobal";var ff=function(e,t){this.collectionId=e,this.parent=t};ff.store="collectionParents",ff.keyPath=["collectionId","parent"];var df=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};df.store="clientMetadata",df.keyPath="clientId";var pf=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};pf.store="bundles",pf.keyPath="bundleId";var vf=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};vf.store="namedQueries",vf.keyPath="name";var mf=(0,ui.ev)((0,ui.ev)([],(0,ui.ev)((0,ui.ev)([],(0,ui.ev)((0,ui.ev)([],(0,ui.ev)((0,ui.ev)([],[tf.store,nf.store,rf.store,sf.store,cf.store,ef.store,hf.store,lf.store]),[df.store])),[uf.store])),[ff.store])),[pf.store,vf.store]),gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yf=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),bf=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},_f=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Du(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),wf=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new bf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Tf(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=xf(t.target.error);n.ft.reject(new Tf(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Tf(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Au("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new If(t)},e}(),Sf=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(li())&&Pu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Au("SimpleDb","Removing database:",e),Cf(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=li(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Au("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Tf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Cu(Iu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Tf(e,n))},i.onupgradeneeded=function(e){Au("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Au("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,ui.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,ui.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=wf.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),_f.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Au("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ef=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Cf(this.Pt.delete())},e}(),Tf=function(e){function t(t,n){var r=this;return(r=e.call(this,Iu.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,ui.ZT)(t,e),t}(Cu);function kf(e){return"IndexedDbTransactionError"===e.name}var If=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Au("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Au("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cf(n)},e.prototype.add=function(e){return Au("SimpleDb","ADD",this.store.name,e,e),Cf(this.store.add(e))},e.prototype.get=function(e){var t=this;return Cf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Au("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Au("SimpleDb","DELETE",this.store.name,e),Cf(this.store.delete(e))},e.prototype.count=function(){return Au("SimpleDb","COUNT",this.store.name),Cf(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){Au("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new _f((function(n,r){t.onerror=function(e){var t=xf(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new _f((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Ef(i),a=t(i.primaryKey,i.value,o);if(a instanceof _f){var s=a.catch((function(e){return o.done(),_f.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return _f.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Cf(e){return new _f((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xf(e.target.error);n(t)}}))}var Nf=!1;function xf(e){var t=Sf._t(li());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Cu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Nf||(Nf=!0,setTimeout((function(){throw r}),0)),r}}return e}var Af=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,ui.ZT)(t,e),t}(yf);function Pf(e,t){var n=Fu(e);return Sf.It(n.Mt,t)}var Of=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xl(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Al(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Al(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zu.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ih())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Bu(this.mutations,e.mutations,(function(e,t){return Ol(e,t)}))&&Bu(this.baseMutations,e.baseMutations,(function(e,t){return Ol(e,t)}))},e}(),Rf=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Lu(t.mutations.length===r.length);for(var i=nh(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Df=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=zu.min()),void 0===o&&(o=zu.min()),void 0===a&&(a=Xu.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Lf=function(e){this.Lt=e};function Ff(e,t){if(t.document)return Oh(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=cc.fromSegments(t.noDocument.path),r=qf(t.noDocument.readTime),i=kc.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=cc.fromSegments(t.unknownDocument.path);return r=qf(t.unknownDocument.version),kc.newUnknownDocument(o,r)}return Du()}function Mf(e,t,n){var r=jf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:kh(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:bh(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new sf(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Bf(t.version);return a=t.hasCommittedMutations,new sf(null,new of(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Bf(t.version);return new sf(new af(c,l),null,null,!0,r,i)}return Du()}function jf(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Uf(e){var t=new Vu(e[0],e[1]);return zu.fromTimestamp(t)}function Bf(e){var t=e.toTimestamp();return new Zh(t.seconds,t.nanoseconds)}function qf(e){var t=new Vu(e.seconds,e.nanoseconds);return zu.fromTimestamp(t)}function Vf(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Dh(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Dh(e.Lt,t)})),s=Vu.fromMillis(t.localWriteTimeMs);return new Of(t.batchId,s,n,a)}function zf(e){var t,n,r=qf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?qf(e.lastLimboFreeSnapshotVersion):zu.min();return void 0!==e.query.documents?(Lu(1===(n=e.query).documents.length),t=tl(Jc(Nh(n.documents[0])))):t=function(e){return tl(Mh(e))}(e.query),new Df(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xu.fromBase64String(e.resumeToken))}function Hf(e,t){var n,r=Bf(t.snapshotVersion),i=Bf(t.lastLimboFreeSnapshotVersion);n=Ac(t.target)?Lh(e.Lt,t.target):Fh(e.Lt,t.target);var o=t.resumeToken.toBase64();return new cf(t.targetId,Nc(t.target),r,o,t.sequenceNumber,i,n)}function Kf(e){var t=Mh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nl(t,t.limit,"L"):t}var Gf=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Wf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:qf(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Wf(e).put({bundleId:(n=t).id,createTime:Bf(Sh(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Jf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Kf(t.bundledQuery),readTime:qf(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Jf(e).put(function(e){return{name:e.name,readTime:Bf(Sh(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Wf(e){return Pf(e,pf.store)}function Jf(e){return Pf(e,vf.store)}var Qf=function(){function e(){this.Bt=new $f}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),_f.resolve()},e.prototype.getCollectionParents=function(e,t){return _f.resolve(this.Bt.getEntries(t))},e}(),$f=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ql(Ju.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ql(Ju.comparator)).toArray()},e}(),Yf=function(){function e(){this.qt=new $f}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Qh(i)};return Xf(e).put(o)}return _f.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qu(t),""],!1,!0);return Xf(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Xh(o.parent))}return n}))},e}();function Xf(e){return Pf(e,ff.store)}var Zf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ed=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function td(e,t,n){var r=e.store(nf.store),i=e.store(rf.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Lu(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=rf.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return _f.waitFor(o).next((function(){return c}))}function nd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Du();t=e.noDocument}return JSON.stringify(t).length}ed.DEFAULT_COLLECTION_PERCENTILE=10,ed.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ed.DEFAULT=new ed(41943040,ed.DEFAULT_COLLECTION_PERCENTILE,ed.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ed.DISABLED=new ed(-1,0,0);var rd=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Lu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return od(e).Ot({index:nf.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ad(e),a=od(e);return a.add({}).next((function(s){Lu("number"==typeof s);for(var u=new Of(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Rh(e.Lt,t)})),i=n.mutations.map((function(t){return Rh(e.Lt,t)}));return new nf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Ql((function(e,t){return Uu(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=rf.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,rf.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),_f.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return od(e).get(t).next((function(e){return e?(Lu(e.userId===n.userId),Vf(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?_f.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return od(e).Ot({index:nf.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Lu(t.batchId>=r),o=Vf(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return od(e).Ot({index:nf.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return od(e).Nt(nf.userMutationsIndex,n).next((function(e){return e.map((function(e){return Vf(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=rf.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ad(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Xh(u);if(s===n.userId&&t.path.isEqual(l))return od(e).get(c).next((function(e){if(!e)throw Du();Lu(e.userId===n.userId),o.push(Vf(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ql(Uu),i=[];return t.forEach((function(t){var o=rf.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ad(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Xh(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),_f.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=rf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ql(Uu);return ad(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Xh(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(od(e).get(t).next((function(e){if(null===e)throw Du();Lu(e.userId===n.userId),r.push(Vf(n.R,e))})))})),_f.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return td(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),_f.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _f.resolve();var r=IDBKeyRange.lowerBound(rf.prefixForUser(t.userId)),i=[];return ad(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Xh(e[1]);i.push(o)}else r.done()})).next((function(){Lu(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return id(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return sd(e).get(this.userId).next((function(e){return e||new tf(t.userId,-1,"")}))},e}();function id(e,t,n){var r=rf.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ad(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function od(e){return Pf(e,nf.store)}function ad(e){return Pf(e,rf.store)}function sd(e){return Pf(e,tf.store)}var ud=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),cd=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new ud(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return zu.fromTimestamp(new Vu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ld(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Lu(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return ld(e).Ot((function(a,s){var u=zf(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return _f.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return ld(e).Ot((function(e,n){var r=zf(n);t(r)}))},e.prototype.Xt=function(e){return hd(e).get(hf.key).next((function(e){return Lu(null!==e),e}))},e.prototype.Zt=function(e,t){return hd(e).put(hf.key,t)},e.prototype.te=function(e,t){return ld(e).put(Hf(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Nc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ld(e).Ot({range:r,index:cf.queryTargetsIndexName},(function(e,n,r){var o=zf(n);xc(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=fd(e);return t.forEach((function(t){var a=Qh(t.path);i.push(o.put(new lf(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),_f.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=fd(e);return _f.forEach(t,(function(t){var o=Qh(t.path);return _f.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=fd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fd(e),i=ih();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Xh(e[1]),o=new cc(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Qh(t.path),r=IDBKeyRange.bound([n],[qu(n)],!1,!0),i=0;return fd(e).Ot({index:lf.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return ld(e).get(t).next((function(e){return e?zf(e):null}))},e}();function ld(e){return Pf(e,cf.store)}function hd(e){return Pf(e,hf.store)}function fd(e){return Pf(e,lf.store)}function dd(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){if(e.code!==Iu.FAILED_PRECONDITION||e.message!==gf)throw e;return Au("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function pd(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Uu(n,i);return 0===a?Uu(r,o):a}var vd=function(){function e(e){this.ne=e,this.buffer=new Ql(pd),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),md=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Au("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,ui.mG)(t,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return kf(t=n.sent())?(Au("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,dd(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),gd=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return _f.resolve(ku.o);var r=new vd(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Au("LruGarbageCollector","Garbage collection skipped; disabled"),_f.resolve(Zf)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Au("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zf):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Au("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),xu()<=gi.in.DEBUG&&Au("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),_f.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),yd=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new gd(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return bd(e,n)},e.prototype.removeReference=function(e,t,n){return bd(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return bd(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return sd(e).$t((function(r){return id(e,r,t).next((function(e){return e&&(n=!0),_f.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),fd(e).delete([0,Qh(a.path)])}))}));i.push(u)}})).next((function(){return _f.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return bd(e,t)},e.prototype.we=function(e,t){var n,r=fd(e),i=ku.o;return r.Ot({index:lf.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==ku.o&&t(new cc(Xh(n)),i),i=s,n=a):i=ku.o})).next((function(){i!==ku.o&&t(new cc(Xh(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function bd(e,t){return fd(e).put(function(e,t){return new lf(0,Qh(e.path),t)}(t,e.currentSequenceNumber))}var _d=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ku(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Gu(this.inner)},e}(),wd=function(){function e(){this.changes=new _d((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:zu.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:kc.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_f.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Sd=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return kd(e).put(Id(t),n)},e.prototype.removeEntry=function(e,t){var n=kd(e),r=Id(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return kd(e).get(Id(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return kd(e).get(Id(t)).next((function(e){return{document:n.ye(t,e),size:nd(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Xl();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Xl(),i=new Gl(cc.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,nd(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return _f.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return kd(e).Ot({range:r},(function(e,t,r){for(var a=cc.fromSegments(e);o&&cc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Xl(),o=t.path.length+1,a={};if(n.isEqual(zu.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=jf(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=sf.collectionReadTimeIndex}return kd(e).Ot(a,(function(e,n,a){if(e.length===o){var s=Ff(r.R,n);t.path.isPrefixOf(s.key.path)?al(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Ed(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Td(e).get(uf.key).next((function(e){return Lu(!!e),e}))},e.prototype.me=function(e,t){return Td(e).put(uf.key,t)},e.prototype.ye=function(e,t){if(t){var n=Ff(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(zu.min()))return n}return kc.newInvalidDocument(e)},e}(),Ed=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new _d((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,ui.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ql((function(e,t){return Uu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Mf(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=nd(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Mf(t.Ie.R,kc.newNoDocument(o,zu.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),_f.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(wd);function Td(e){return Pf(e,uf.store)}function kd(e){return Pf(e,sf.store)}function Id(e){return e.path.toArray()}var Cd=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Lu(n<r&&n>=0&&r<=11);var o=new wf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ef.store)}(e),function(e){e.createObjectStore(tf.store,{keyPath:tf.keyPath}),e.createObjectStore(nf.store,{keyPath:nf.keyPath,autoIncrement:!0}).createIndex(nf.userMutationsIndex,nf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(rf.store)}(e),Nd(e),function(e){e.createObjectStore(sf.store)}(e));var a=_f.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(lf.store),e.deleteObjectStore(cf.store),e.deleteObjectStore(hf.store)}(e),Nd(e)),a=a.next((function(){return function(e){var t=e.store(hf.store),n=new hf(0,0,zu.min().toTimestamp(),0);return t.put(hf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(nf.store).Nt().next((function(n){e.deleteObjectStore(nf.store),e.createObjectStore(nf.store,{keyPath:nf.keyPath,autoIncrement:!0}).createIndex(nf.userMutationsIndex,nf.userMutationsKeyPath,{unique:!0});var r=t.store(nf.store),i=n.map((function(e){return r.put(e)}));return _f.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(df.store,{keyPath:df.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(uf.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(sf.store);t.createIndex(sf.readTimeIndex,sf.readTimeIndexPath,{unique:!1}),t.createIndex(sf.collectionReadTimeIndex,sf.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(pf.store,{keyPath:pf.keyPath})}(e),function(e){e.createObjectStore(vf.store,{keyPath:vf.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(sf.store).Ot((function(e,n){t+=nd(n)})).next((function(){var n=new uf(t);return e.store(uf.store).put(uf.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(tf.store),r=e.store(nf.store);return n.Nt().next((function(n){return _f.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(nf.userMutationsIndex,i).next((function(r){return _f.forEach(r,(function(r){Lu(r.userId===n.userId);var i=Vf(t.R,r);return td(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(lf.store),n=e.store(sf.store);return e.store(hf.store).get(hf.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Ju(n),a=function(e){return[0,Qh(e)]}(o);r.push(t.get(a).next((function(n){return n?_f.resolve():function(n){return t.put(new lf(0,Qh(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return _f.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(ff.store,{keyPath:ff.keyPath});var n=t.store(ff.store),r=new $f,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qh(i)})}};return t.store(sf.store).Ot({kt:!0},(function(e,t){var n=new Ju(e);return i(n.popLast())})).next((function(){return t.store(rf.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Xh(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(cf.store);return n.Ot((function(e,r){var i=zf(r),o=Hf(t.R,i);return n.put(o)}))},e}();function Nd(e){e.createObjectStore(lf.store,{keyPath:lf.keyPath}).createIndex(lf.documentTargetsIndex,lf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(cf.store,{keyPath:cf.keyPath}).createIndex(cf.queryTargetsIndexName,cf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(hf.store)}var xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ad=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Cu(Iu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yd(this,i),this.Le=n+"main",this.R=new Lf(u),this.Be=new Sf(this.Le,11,new Cd(this.R)),this.qe=new cd(this.referenceDelegate,this.R),this.Ut=new Yf,this.Ue=function(e,t){return new Sd(e,t)}(this.R,this.Ut),this.Qe=new Gf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Pu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Cu(Iu.FAILED_PRECONDITION,xd);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ku(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,ui.mG)(t,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,ui.mG)(t,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,ui.mG)(t,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Od(t).put(new df(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(kf(t))return Au("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Au("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Pd(e).get(ef.key).next((function(e){return _f.resolve(t.tn(e))}))},e.prototype.en=function(e){return Od(e).delete(this.clientId)},e.prototype.nn=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Pf(e,df.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return _f.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?_f.resolve(!0):Pd(e).get(ef.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Cu(Iu.FAILED_PRECONDITION,xd);return!1}}return!(!t.networkEnabled||!t.inForeground)||Od(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Au("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e=this;return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ef.store,df.store],(function(t){var n=new Af(t,ku.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Od(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return rd.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Au("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,mf,(function(o){return i=new Af(o,r.Ne?r.Ne.next():ku.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Pu("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Cu(Iu.FAILED_PRECONDITION,gf);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Pd(e).get(ef.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Cu(Iu.FAILED_PRECONDITION,xd)}))},e.prototype.Ze=function(e){var t=new ef(this.clientId,this.allowTabSynchronization,Date.now());return Pd(e).put(ef.key,t)},e.yt=function(){return Sf.yt()},e.prototype.Xe=function(e){var t=this,n=Pd(e);return n.get(ef.key).next((function(e){return t.tn(e)?(Au("IndexedDbPersistence","Releasing primary lease."),n.delete(ef.key)):_f.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Pu("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return Au("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Pu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pu("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Pd(e){return Pf(e,ef.store)}function Od(e){return Pf(e,df.store)}function Rd(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Dd=function(e,t){this.progress=e,this.wn=t},Ld=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return cc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Zc(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new cc(t)).next((function(e){var t=eh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=eh();return this.Ut.getCollectionParents(e,i).next((function(a){return _f.forEach(a,(function(a){var s=function(e,t){return new Gc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=kc.newInvalidDocument(c),r=r.insert(c,l)),Al(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){al(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=ih(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ll&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Fd=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=ih(),i=ih(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Md=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(zu.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Qc(t)||$c(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(xu()<=gi.in.DEBUG&&Au("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ol(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Ql(sl(e));return t.forEach((function(t,r){al(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return xu()<=gi.in.DEBUG&&Au("QueryEngine","Using full collection scan to execute query:",ol(t)),this.Sn.getDocumentsMatchingQuery(e,t,zu.min())},e}(),jd=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Gl(Uu),this.kn=new _d((function(e){return Nc(e)}),xc),this.On=zu.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Ld(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Ud(e,t,n,r){return new jd(e,t,n,r)}function Bd(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return n=Fu(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Ld(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=ih(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function qd(e,t){var n=Fu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=_f.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Lu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Vd(e){var t=Fu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function zd(e,t){var n=Fu(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Lu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Xl();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Hd(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(zu.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return _f.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Hd(e,t,n,r,i){var o=ih();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Xl();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(zu.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Au("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Kd(e,t){var n=Fu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Gd(e,t){var n=Fu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,_f.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Df(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Wd(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:r=Fu(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!kf(a=s.sent()))throw a;return Au("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Jd(e,t,n){var r=Fu(e),i=zu.min(),o=ih();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fu(e),i=r.kn.get(n);return void 0!==i?_f.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,tl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:zu.min(),n?o:ih())})).next((function(e){return{documents:e,Bn:o}}))}))}function Qd(e,t){var n=Fu(e),r=Fu(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function $d(e){var t=Fu(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Fu(e),i=Xl(),o=jf(n),a=kd(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:sf.readTimeIndex,range:s},(function(e,t){var n=Ff(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Uf(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Yd(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){return[2,(t=Fu(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=kd(e),n=zu.min();return t.Ot({index:sf.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Uf(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Xd(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,ui.Jh)(this,(function(p){switch(p.label){case 0:for(i=Fu(e),o=ih(),a=Xl(),s=nh(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Gd(i,function(e){return tl(Jc(Ju.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Hd(e,f,a,zu.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Zd(e,t,n){return void 0===n&&(n=ih()),(0,ui.mG)(this,void 0,void 0,(function(){var r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return[4,Gd(e,tl(Kf(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fu(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Sh(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(Xu.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var ep=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return _f.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:Sh(n.createTime)}),_f.resolve()},e.prototype.getNamedQuery=function(e,t){return _f.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Kf(e.bundledQuery),readTime:Sh(e.readTime)}}(t)),_f.resolve()},e}(),tp=function(){function e(){this.Wn=new Ql(np.Gn),this.zn=new Ql(np.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new np(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new np(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new cc(new Ju([])),r=new np(n,e),i=new np(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new cc(new Ju([])),n=new np(t,e),r=new np(t,e+1),i=ih();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new np(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),np=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return cc.comparator(e.key,t.key)||Uu(e.ns,t.ns)},e.Hn=function(e,t){return Uu(e.ns,t.ns)||cc.comparator(e.key,t.key)},e}(),rp=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Ql(np.Gn)}return e.prototype.checkEmpty=function(e){return _f.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Of(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new np(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return _f.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return _f.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return _f.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return _f.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return _f.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new np(t,0),i=new np(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),_f.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ql(Uu);return t.forEach((function(e){var t=new np(e,0),i=new np(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),_f.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;cc.isDocumentKey(i)||(i=i.child(""));var o=new np(new cc(i),0),a=new Ql(Uu);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),_f.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Lu(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return _f.forEach(t.mutations,(function(i){var o=new np(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new np(t,0),r=this.rs.firstAfterOrEqual(n);return _f.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,_f.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),ip=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Gl(cc.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return _f.resolve(n?n.document.clone():kc.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Xl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():kc.newInvalidDocument(e))})),_f.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Xl(),i=new cc(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||al(t,c)&&(r=r.insert(c.key,c.clone()))}return _f.resolve(r)},e.prototype.fs=function(e,t){return _f.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new op(this)},e.prototype.getSize=function(e){return _f.resolve(this.size)},e}(),op=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,ui.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),_f.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(wd),ap=function(){function e(e){this.persistence=e,this.ds=new _d((function(e){return Nc(e)}),xc),this.lastRemoteSnapshotVersion=zu.min(),this.highestTargetId=0,this.ws=0,this._s=new tp,this.targetCount=0,this.ys=ud.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),_f.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return _f.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return _f.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),_f.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),_f.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new ud(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,_f.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),_f.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,_f.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_f.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return _f.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return _f.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),_f.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_f.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),_f.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return _f.resolve(n)},e.prototype.containsKey=function(e,t){return _f.resolve(this._s.containsKey(t))},e}(),sp=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ku(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ap(this),this.Ut=new Qf,this.Ue=function(e,t){return new ip(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Lf(t),this.Qe=new ep(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new rp(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Au("MemoryPersistence","Starting transaction:",e);var i=new up(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return _f.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),up=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,ui.ZT)(t,e),t}(yf),cp=function(){function e(e){this.persistence=e,this.As=new tp,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Du()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),_f.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),_f.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),_f.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _f.forEach(this.vs,(function(r){var i=cc.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return _f.or([function(){return _f.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),lp=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function hp(e,t){return"firestore_clients_"+e+"_"+t}function fp(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function dp(e,t){return"firestore_targets_"+e+"_"+t}lp.UNAUTHENTICATED=new lp(null),lp.GOOGLE_CREDENTIALS=new lp("google-credentials-uid"),lp.FIRST_PARTY=new lp("first-party-uid");var pp=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Cu(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Pu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),vp=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cu(i.error.code,i.error.message)),o?new e(t,i.state,r):(Pu("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),mp=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ah(),a=0;i&&a<r.activeTargetIds.length;++a)i=uc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Pu("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),gp=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Pu("SharedClientState","Failed to parse online state: "+t),null)},e}(),yp=function(){function e(){this.activeTargetIds=ah()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),bp=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Gl(Uu),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=hp(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new yp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,ui.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(hp(this.persistenceKey,r)))&&(o=mp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(dp(this.persistenceKey,e));if(n){var r=vp.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(dp(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Au("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Au("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Au("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Au("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Pu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,ui.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,ui.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ku.o;if(null!=e)try{var n=JSON.parse(e);Lu("number"==typeof n),t=n}catch(e){Pu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ku.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new pp(this.currentUser,e,t,n),i=fp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=fp(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=dp(this.persistenceKey,e),i=new vp(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return mp.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return pp.Vs(new lp(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return vp.Vs(r,t)},e.prototype.js=function(e){return gp.Vs(e)},e.prototype.ii=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Au("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ah();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),_p=function(){function e(){this.li=new yp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new yp,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),wp=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Sp=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Au("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Au("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Ep={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tp=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),kp=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,ui.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Tu;a.listenOnce(_u.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case bu.NO_ERROR:var t=a.getResponseJson();Au("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bu.TIMEOUT:Au("Connection",'RPC "'+e+'" timed out'),o(new Cu(Iu.DEADLINE_EXCEEDED,"Request time out"));break;case bu.HTTP_ERROR:var n=a.getStatus();if(Au("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Iu).indexOf(t)>=0?t:Iu.UNKNOWN}(r.status);o(new Cu(s,r.message))}else o(new Cu(Iu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Cu(Iu.UNAVAILABLE,"Connection failed."));break;default:Du()}}finally{Au("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=gu(),i=yu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())||"object"===typeof navigator&&"ReactNative"===navigator.product||li().indexOf("Electron/")>=0||function(){var e=li();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||li().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Au("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Tp({Ei:function(e){c?Au("Connection","Not sending because WebChannel is closed:",e):(u||(Au("Connection","Opening WebChannel transport."),s.open(),u=!0),Au("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Eu.EventType.OPEN,(function(){c||Au("Connection","WebChannel transport opened.")})),h(s,Eu.EventType.CLOSE,(function(){c||(c=!0,Au("Connection","WebChannel transport closed"),l.Vi())})),h(s,Eu.EventType.ERROR,(function(e){c||(c=!0,Ou("Connection","WebChannel transport errored:",e),l.Vi(new Cu(Iu.UNAVAILABLE,"The operation could not be completed")))})),h(s,Eu.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Lu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Au("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ul[e];if(void 0!==t)return Kl(t)}(o),u=i.message;void 0===a&&(a=Iu.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Cu(a,u)),s.close()}else Au("Connection","WebChannel received:",n),l.Si(n)}})),h(i,wu.STAT_EVENT,(function(e){e.stat===Su.PROXY?Au("Connection","Detected buffering proxy"):e.stat===Su.NOPROXY&&Au("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Au("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return Au("RestConnection","Received: ",e),e}),(function(t){throw Ou("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",e["X-Firebase-GMPID"]=this.databaseInfo.appId,e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Ep[e];return this.Di+"/v1/"+t+":"+n},e}());function Ip(){return"undefined"!=typeof window?window:null}function Cp(){return"undefined"!=typeof document?document:null}function Np(e){return new yh(e,!0)}var xp=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Au("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ap=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new xp(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Iu.RESOURCE_EXHAUSTED?(Pu(t.toString()),Pu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===Iu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Cu(Iu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,ui.mG)(e,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Au("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Au("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Pp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,ui.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Du()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Lu(void 0===t||"string"==typeof t),Xu.fromBase64String(t||"")):(Lu(void 0===t||t instanceof Uint8Array),Xu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Iu.UNKNOWN:Kl(e.code);return new Cu(t,e.message||"")}(s);n=new hh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ih(e,r.document.name),o=Sh(r.document.updateTime);var s=new Ec({mapValue:{fields:r.document.fields}}),u=(a=kc.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new ch(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ih(e,r.document),o=r.readTime?Sh(r.readTime):zu.min(),s=kc.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ch([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ih(e,r.document),o=r.removedTargetIds||[],n=new ch([],o,i,null);else{if(!("filter"in t))return Du();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new zl(r),o=l.targetId,n=new lh(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return zu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?zu.min():t.readTime?Sh(t.readTime):zu.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=xh(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ac(r)?{documents:Lh(e,r)}:{query:Fh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=_h(e,t.resumeToken):t.snapshotVersion.compareTo(zu.min())>0&&(n.readTime=bh(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Du()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=xh(this.R),t.removeTarget=e,this.cr(t)},t}(Ap),Op=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,ui.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(Lu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Lu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Sh(e.updateTime):Sh(t);return n.isEqual(zu.min())&&(n=Sh(t)),new kl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Sh(e.commitTime);return this.listener.Tr(n,t)}return Lu(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=xh(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rh(t.R,e)}))};this.cr(n)},t}(Ap),Rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,ui.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new Cu(Iu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw e.code===Iu.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw e.code===Iu.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Rr=!1},t}((function(){})),Dp=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Pu(t),this.Vr=!1):Au("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Lp=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,ui.mG)(o,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return Hp(this)?(Au("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return(t=Fu(e)).$r.add(4),[4,Mp(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,Fp(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Dp(n,r)};function Fp(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:if(!Hp(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Mp(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function jp(e,t){var n=Fu(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),zp(n)?Vp(n):ov(n).er()&&Bp(n,t))}function Up(e,t){var n=Fu(e),r=ov(n);n.Or.delete(t),r.er()&&qp(n,t),0===n.Or.size&&(r.er()?r.ir():Hp(n)&&n.Br.set("Unknown"))}function Bp(e,t){e.qr.U(t.targetId),ov(e).mr(t)}function qp(e,t){e.qr.U(t),ov(e).yr(t)}function Vp(e){e.qr=new dh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),ov(e).start(),e.Br.Sr()}function zp(e){return Hp(e)&&!ov(e).tr()&&e.Or.size>0}function Hp(e){return 0===Fu(e).$r.size}function Kp(e){e.qr=void 0}function Gp(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){return e.Or.forEach((function(t,n){Bp(e,t)})),[2]}))}))}function Wp(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(n){return Kp(e),zp(e)?(e.Br.Nr(t),Vp(e)):e.Br.set("Unknown"),[2]}))}))}function Jp(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof hh&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Au("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Qp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ch?e.qr.X(t):t instanceof lh?e.qr.rt(t):e.qr.et(t),n.isEqual(zu.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Vd(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(Xu.EMPTY_BYTE_STRING,n.snapshotVersion)),qp(e,t);var r=new Df(n.target,t,1,n.sequenceNumber);Bp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Au("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Qp(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Qp(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r=this;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:if(!kf(t))throw t;return e.$r.add(1),[4,Mp(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Vd(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,ui.mG)(r,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return Au("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,Fp(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function $p(e,t){return t().catch((function(n){return Qp(e,n,t)}))}function Yp(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:t=Fu(e),n=av(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Hp(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Kd(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=av(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Qp(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Xp(t)&&Zp(t),[2]}}))}))}function Xp(e){return Hp(e)&&!av(e).tr()&&e.kr.length>0}function Zp(e){av(e).start()}function ev(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){return av(e).Ar(),[2]}))}))}function tv(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,ui.Jh)(this,(function(o){for(t=av(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function nv(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Rf.from(r,t,n),[4,$p(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Yp(e)];case 2:return o.sent(),[2]}}))}))}function rv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t&&av(e).pr?[4,function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return Hl(r=t.code)&&r!==Iu.ABORTED?(n=e.kr.shift(),av(e).sr(),[4,$p(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Yp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Xp(e)&&Zp(e),[2]}}))}))}function iv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return n=Fu(e),t?(n.$r.delete(2),[4,Fp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Mp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ov(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Fu(e);return r.br(),new Pp(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Gp.bind(null,e),Ri:Wp.bind(null,e),_r:Jp.bind(null,e)}),e.Mr.push((function(n){return(0,ui.mG)(t,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),zp(e)?Vp(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Kp(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function av(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Fu(e);return r.br(),new Op(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ev.bind(null,e),Ri:rv.bind(null,e),Ir:tv.bind(null,e),Tr:nv.bind(null,e)}),e.Mr.push((function(n){return(0,ui.mG)(t,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Yp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(Au("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var sv=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cu(Iu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function uv(e,t){if(Pu("AsyncQueue",t+": "+e),kf(e))return new Cu(Iu.UNAVAILABLE,t+": "+e);throw e}var cv=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||cc.comparator(t.key,n.key)}:function(e,t){return cc.comparator(e.key,t.key)},this.keyedMap=eh(),this.sortedSet=new Gl(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),lv=function(){function e(){this.Kr=new Gl(cc.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Du():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),hv=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,cv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),fv=function(){this.Wr=void 0,this.listeners=[]},dv=function(){this.queries=new _d((function(e){return il(e)}),rl),this.onlineState="Unknown",this.Gr=new Set};function pv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,ui.Jh)(this,(function(c){switch(c.label){case 0:if(n=Fu(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new fv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=uv(s,"Initialization of query '"+ol(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&yv(n),[2]}}))}))}function vv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ui.Jh)(this,(function(s){return n=Fu(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function mv(e,t){for(var n=Fu(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&yv(n)}function gv(e,t,n){var r=Fu(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function yv(e){e.Gr.forEach((function(e){e.next()}))}var bv=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new hv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=hv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),_v=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),wv=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ih(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Oh(this.R,e.document,!1):kc.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return Sh(e)},e}(),Sv=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Ev(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new wv(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||ih()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return[4,Xd(this.localStore,new wv(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Zd(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Dd(Object.assign({},this.progress),e))]}}))}))},e}();function Ev(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Tv=function(e){this.key=e},kv=function(e){this.key=e},Iv=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=ih(),this.mutatedKeys=ih(),this.lo=sl(e),this.fo=new cv(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new lv,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Qc(this.query)&&i.size===this.query.limit?i.last():null,c=$c(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=al(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Qc(this.query)||$c(this.query))for(;a.size>this.query.limit;){var l=Qc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Du()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new hv(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new lv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=ih(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new kv(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Tv(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=ih();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return hv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Cv=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Nv=function(e){this.key=e,this.bo=!1},xv=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new _d((function(e){return il(e)}),rl),this.Vo=new Map,this.So=new Set,this.Do=new Gl(cc.comparator),this.Co=new Map,this.No=new tp,this.xo={},this.Fo=new Map,this.ko=ud.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function Av(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return n=om(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Gd(n.localStore,tl(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Pv(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&jp(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Pv(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,ui.Jh)(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Jd(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Hv(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Jd(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Iv(t,i.Bn),a=o._o(i.documents),s=uh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Hv(e,n,u.To),c=new Cv(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Ov(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return n=Fu(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!rl(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Up(n.remoteStore,r.targetId),Vv(n,r.targetId)})).catch(dd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Vv(n,r.targetId),[4,Wd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Rv(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:r=am(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Fu(e),i=Vu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ih());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Pl(c,n.get(c.key));null!=l&&a.push(new Ll(c.key,l,Tc(l.toProto().mapValue),Il.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Gl(Uu)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Wv(r,i.changes)];case 3:return s.sent(),[4,Yp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=uv(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Dv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:n=Fu(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,zd(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Lu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Lu(r.bo):e.removedDocuments.size>0&&(Lu(r.bo),r.bo=!1))})),[4,Wv(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,dd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Lv(e,t,n){var r=Fu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&yv(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Fv(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,ui.Jh)(this,(function(c){switch(c.label){case 0:return(r=Fu(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Gl(cc.comparator)).insert(o,kc.newNoDocument(o,zu.min())),s=ih().add(o),u=new sh(zu.min(),new Map,new Ql(Uu),a,s),[4,Dv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Gv(r),[3,4];case 2:return[4,Wd(r.localStore,t,!1).then((function(){return Vv(r,t,n)})).catch(dd)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Mv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:n=Fu(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,qd(n.localStore,t)];case 2:return i=o.sent(),qv(n,r,null),Bv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Wv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jv(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:r=Fu(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Fu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Lu(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),qv(r,t,n),Bv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Wv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Uv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:Hp((n=Fu(e)).remoteStore)||Au("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Fu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=uv(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Bv(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function qv(e,t,n){var r=Fu(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Vv(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||zv(e,t)}))}function zv(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Up(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Gv(e))}function Hv(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Tv?(e.No.addReference(o.key,t),Kv(e,o)):o instanceof kv?(Au("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||zv(e,o.key)):Du()}}function Kv(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Au("SyncEngine","New document in limbo: "+n),e.So.add(r),Gv(e))}function Gv(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new cc(Ju.fromString(t)),r=e.ko.next();e.Co.set(r,new Nv(n)),e.Do=e.Do.insert(n,r),jp(e.remoteStore,new Df(tl(Jc(n.path)),r,2,ku.o))}}function Wv(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return r=Fu(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Fd.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,ui.Jh)(this,(function(h){switch(h.label){case 0:n=Fu(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _f.forEach(t,(function(t){return _f.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return _f.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!kf(r=h.sent()))throw r;return Au("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Jv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return(n=Fu(e)).currentUser.isEqual(t)?[3,3]:(Au("SyncEngine","User change. New user:",t.toKey()),[4,Bd(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new Cu(Iu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Wv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Qv(e,t){var n=Fu(e),r=n.Co.get(t);if(r&&r.bo)return ih().add(r.key);var i=ih(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function $v(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return[4,Jd((n=Fu(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Hv(n,t.targetId,i.To),i)]}}))}))}function Yv(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){return[2,$d((t=Fu(e)).localStore).then((function(e){return Wv(t,e)}))]}))}))}function Xv(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Fu(e),r=Fu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):_f.resolve(null)}))}))}((i=Fu(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Yp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(qv(i,t,r||null),Bv(i,t),function(e,t){Fu(Fu(e)._n).Gt(t)}(i.localStore,t)):Du(),a.label=4;case 4:return[4,Wv(i,o)];case 5:return a.sent(),[3,7];case 6:Au("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Zv(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,ui.Jh)(this,(function(l){switch(l.label){case 0:return om(n=Fu(e)),am(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,em(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,iv(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],jp(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Vv(n,t),Wd(n.localStore,t,!0)})),Up(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,em(n,u)];case 5:return l.sent(),function(e){var t=Fu(e);t.Co.forEach((function(e,n){Up(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Gl(cc.comparator)}(n),n.Oo=!1,[4,iv(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function em(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,v;return(0,ui.Jh)(this,(function(m){switch(m.label){case 0:n=Fu(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Gd(n.localStore,tl(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,$v(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Qd(n.localStore,s)];case 8:return v=m.sent(),[4,Gd(n.localStore,v)];case 9:return u=m.sent(),[4,Pv(n,tm(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function tm(e){return Wc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nm(e){var t=Fu(e);return Fu(Fu(t.localStore).persistence).fn()}function rm(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return(i=Fu(e)).Oo?(Au("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$d(i.localStore)];case 3:return o=s.sent(),a=sh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Wv(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Wd(i.localStore,t,!0)];case 6:return s.sent(),Vv(i,t,r),[3,8];case 7:Du(),s.label=8;case 8:return[2]}}))}))}function im(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,ui.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=om(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Au("SyncEngine","Adding an already active target "+a),[3,5]):[4,Qd(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Gd(r.localStore,s)];case 3:return u=d.sent(),[4,Pv(r,tm(s),u.targetId,!1)];case 4:d.sent(),jp(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Wd(r.localStore,e,!1).then((function(){Up(r.remoteStore,e),Vv(r,e)})).catch(dd)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function om(e){var t=Fu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fv.bind(null,t),t.vo._r=mv.bind(null,t.eventManager),t.vo.Mo=gv.bind(null,t.eventManager),t}function am(e){var t=Fu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jv.bind(null,t),t}function sm(e,t,n){var r=Fu(e);(function(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,ui.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Fu(e),r=Sh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qe.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Ev(r)),i=new Sv(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Wv(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Fu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qe.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Ou("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var um=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return this.R=Np(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Ud(this.persistence,new Md,e.initialUser,this.R)},e.prototype.qo=function(e){return new sp(cp.bs,this.R)},e.prototype.Bo=function(e){return new _p},e.prototype.terminate=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),cm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,ui.ZT)(t,e),t.prototype.initialize=function(t){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Yd(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,am(this.Ko.syncEngine)];case 4:return n.sent(),[4,Yp(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Ud(this.persistence,new Md,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new md(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Rd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ed.withCacheSize(this.cacheSizeBytes):ed.DEFAULT;return new Ad(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ip(),Cp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new _p},t}(um),lm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,ui.ZT)(t,e),t.prototype.initialize=function(t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof bp?(this.sharedClientState.syncEngine={ui:Xv.bind(null,n),ai:rm.bind(null,n),hi:im.bind(null,n),fn:nm.bind(null,n),ci:Yv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,ui.mG)(r,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return[4,Zv(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Ip();if(!bp.yt(t))throw new Cu(Iu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bp(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(cm),hm=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n=this;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Lv(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jv.bind(null,this.syncEngine),[4,iv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new dv},e.prototype.createDatastore=function(e){var t,n=Np(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new kp(t));return function(e,t,n){return new Rp(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Lv(a.syncEngine,e,0)},o=Sp.yt()?new Sp:new wp,new Lp(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new xv(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t=Fu(e),Au("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Mp(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function fm(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,ui.mG)(this,void 0,void 0,(function(){var r;return(0,ui.Jh)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var dm=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),pm=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new bf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new _v(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),vm=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Cu(Iu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return n=Fu(e),r=xh(n.R)+"/documents",i={documents:t.map((function(e){return kh(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Lu(!!t.found),t.found.name,t.found.updateTime;var n=Ih(e,t.found.name),r=Sh(t.found.updateTime),i=new Ec({mapValue:{fields:t.found.fields}});return kc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Lu(!!t.missing),Lu(!!t.readTime);var n=Ih(e,t.missing),r=Sh(t.readTime);return kc.newNoDocument(n,r)}(e,t):Du()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Lu(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new ql(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=cc.fromPath(n);t.mutations.push(new Vl(r,t.precondition(r)))})),[4,function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return n=Fu(e),r=xh(n.R)+"/documents",i={writes:t.map((function(e){return Rh(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Du();t=zu.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Cu(Iu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Il.updateTime(t):Il.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zu.min()))throw new Cu(Iu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Il.updateTime(t)}return Il.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),mm=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new xp(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,ui.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,ui.Jh)(this,(function(r){return e=new vm(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ac(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Hl(t)}return!1},e}(),gm=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=lp.UNAUTHENTICATED,this.clientId=ju.u(),this.credentialListener=function(){},this.receivedInitialUser=new bf,this.credentials.setChangeListener((function(e){Au("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Cu(Iu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,ui.mG)(e,void 0,void 0,(function(){var e,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=uv(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ym(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Au("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,ui.mG)(i,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return[4,Bd(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function bm(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,_m(e)];case 1:return n=i.sent(),Au("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return(n=Fu(e)).asyncQueue.verifyOperationInProgress(),Au("RemoteStore","RemoteStore received new credentials"),r=Hp(n),n.$r.add(3),[4,Mp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,Fp(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function _m(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Au("FirestoreClient","Using default OfflineComponentProvider"),[4,ym(e,new um)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function wm(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Au("FirestoreClient","Using default OnlineComponentProvider"),[4,bm(e,new hm)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Sm(e){return _m(e).then((function(e){return e.persistence}))}function Em(e){return _m(e).then((function(e){return e.localStore}))}function Tm(e){return wm(e).then((function(e){return e.remoteStore}))}function km(e){return wm(e).then((function(e){return e.syncEngine}))}function Im(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,wm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Av.bind(null,t.syncEngine),n.onUnlisten=Ov.bind(null,t.syncEngine),n)]}}))}))}function Cm(e,t,n){var r=this;void 0===n&&(n={});var i=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(r,void 0,void 0,(function(){var r;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new dm({next:function(o){t.enqueueAndForget((function(){return vv(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Cu(Iu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Cu(Iu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new bv(Jc(n.path),o,{includeMetadataChanges:!0,so:!0});return pv(e,a)},[4,Im(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Nm(e,t,n){var r=this;void 0===n&&(n={});var i=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(r,void 0,void 0,(function(){var r;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new dm({next:function(n){t.enqueueAndForget((function(){return vv(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Cu(Iu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new bv(n,o,{includeMetadataChanges:!0,so:!0});return pv(e,a)},[4,Im(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var xm=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Am=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Pm=new Map,Om=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Rm=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(lp.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Dm=function(){function e(e){var t=this;this.oc=null,this.currentUser=lp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Au("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Lu("string"==typeof n.accessToken),new Om(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return Lu(null===e||"string"==typeof e),new lp(e)},e}(),Lm=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=lp.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),Fm=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new Lm(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(lp.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Mm(e,t,n){if(!n)throw new Cu(Iu.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function jm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Um(e,t,n,r){if(!0===t&&!0===r)throw new Cu(Iu.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Bm(e){if(!cc.isDocumentKey(e))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function qm(e){if(cc.isDocumentKey(e))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Vm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Du()}function zm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Cu(Iu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vm(e);throw new Cu(Iu.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Hm(e,t){if(t<=0)throw new Cu(Iu.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Km=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Cu(Iu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Cu(Iu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Um("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Gm=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,e instanceof Am?(this._databaseId=e,this._credentials=new Rm):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Cu(Iu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Am(e.options.projectId)}(e),this._credentials=new Dm(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Cu(Iu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Cu(Iu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Rm;switch(e.type){case"gapi":var t=e.client;return Lu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Fm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Cu(Iu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Pm.get(this))&&(Au("ComponentProvider","Removing Datastore"),Pm.delete(this),e.terminate()),Promise.resolve();var e},e}(),Wm=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Jm=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Qm=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Jc(r))||this)._path=r,i.type="collection",i}return(0,ui.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wm(this.firestore,null,new cc(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Jm);function $m(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=mi(e),Mm("collection","path",t),e instanceof Gm)return qm(n=Ju.fromString.apply(Ju,(0,ui.ev)([t],r))),new Qm(e,null,n);if(!(e instanceof Wm||e instanceof Qm))throw new Cu(Iu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qm(n=Ju.fromString.apply(Ju,(0,ui.ev)([e.path],r)).child(Ju.fromString(t))),new Qm(e.firestore,null,n)}function Ym(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=mi(e),1===arguments.length&&(t=ju.u()),Mm("doc","path",t),e instanceof Gm)return Bm(n=Ju.fromString.apply(Ju,(0,ui.ev)([t],r))),new Wm(e,null,new cc(n));if(!(e instanceof Wm||e instanceof Qm))throw new Cu(Iu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bm(n=e._path.child(Ju.fromString.apply(Ju,(0,ui.ev)([t],r)))),new Wm(e.firestore,e instanceof Qm?e._converter:null,new cc(n))}function Xm(e,t){return e=mi(e),t=mi(t),(e instanceof Wm||e instanceof Qm)&&(t instanceof Wm||t instanceof Qm)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Zm(e,t){return e=mi(e),t=mi(t),e instanceof Jm&&t instanceof Jm&&e.firestore===t.firestore&&rl(e._query,t._query)&&e._converter===t._converter}var eg=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new xp(this,"async_queue_retry"),this.Ec=function(){var t=Cp();t&&Au("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Cp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=Cp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!kf(e=n.sent()))throw e;return Au("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,Pu("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=sv.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&Du()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e;return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function tg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var ng=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new bf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),rg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new eg,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,ui.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||og(this),this._firestoreClient.terminate()},t}(Gm);function ig(e){return e._firestoreClient||og(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function og(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new xm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new gm(e._credentials,e._queue,r)}function ag(e,t,n){var r=this,i=new bf;return e.asyncQueue.enqueue((function(){return(0,ui.mG)(r,void 0,void 0,(function(){var r;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ym(e,n)];case 1:return o.sent(),[4,bm(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Iu.FAILED_PRECONDITION||e.code===Iu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function sg(e){if(e._initialized||e._terminated)throw new Cu(Iu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ug=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $u(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),cg=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Xu.fromBase64String(t))}catch(t){throw new Cu(Iu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Xu.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),lg=function(e){this._methodName=e},hg=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Cu(Iu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Cu(Iu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Uu(this._lat,e._lat)||Uu(this._long,e._long)},e}(),fg=/^__.*__$/,dg=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ll(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dl(e,this.data,t,this.fieldTransforms)},e}(),pg=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ll(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function vg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Du()}}var mg=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return Fg(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(vg(this.Dc)&&fg.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),gg=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Np(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new mg({Dc:e,methodName:t,Lc:n,path:$u.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function yg(e){var t=e._freezeSettings(),n=Np(e._databaseId);return new gg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bg(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);Og("Data must be an object, but it was:",a,r);var s,u,c=Ag(r,a);if(o.merge)s=new Yu(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Rg(t,f[h],n);if(!a.contains(d))throw new Cu(Iu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Mg(l,d)||l.push(d)}s=new Yu(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new dg(new Ec(c),s,u)}var _g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(lg);function wg(e,t,n){return new mg({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Sg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new Tl(e.path,new ml)},t.prototype.isEqual=function(e){return e instanceof t},t}(lg),Eg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,ui.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=wg(this,e,!0),n=this.qc.map((function(e){return xg(e,t)})),r=new gl(n);return new Tl(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(lg),Tg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,ui.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=wg(this,e,!0),n=this.qc.map((function(e){return xg(e,t)})),r=new bl(n);return new Tl(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(lg),kg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,ui.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new wl(e.R,hl(e.R,this.Uc));return new Tl(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(lg);function Ig(e,t,n,r){var i=e.Bc(1,t,n);Og("Data must be an object, but it was:",i,r);var o=[],a=Ec.empty();Ku(r,(function(e,r){var s=Lg(t,e,n);r=mi(r);var u=i.kc(s);if(r instanceof _g)o.push(s);else{var c=xg(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Yu(o);return new pg(a,s,i.fieldTransforms)}function Cg(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[Rg(t,r,n)],u=[i];if(o.length%2!=0)throw new Cu(Iu.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Rg(t,o[c])),u.push(o[c+1]);for(var l=[],h=Ec.empty(),f=s.length-1;f>=0;--f)if(!Mg(l,s[f])){var d=s[f],p=u[f];p=mi(p);var v=a.kc(d);if(p instanceof _g)l.push(d);else{var m=xg(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new Yu(l);return new pg(h,g,a.fieldTransforms)}function Ng(e,t,n,r){return void 0===r&&(r=!1),xg(n,e.Bc(r?4:3,t))}function xg(e,t){if(Pg(e=mi(e)))return Og("Unsupported field value:",t,e),Ag(e,t);if(e instanceof lg)return function(e,t){if(!vg(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=xg(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=mi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hl(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vu.fromDate(e);return{timestampValue:bh(t.R,n)}}if(e instanceof Vu)return n=new Vu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:bh(t.R,n)};if(e instanceof hg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cg)return{bytesValue:_h(t.R,e._byteString)};if(e instanceof Wm){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Eh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Vm(e))}(e,t)}function Ag(e,t){var n={};return Gu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ku(e,(function(e,r){var i=xg(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vu||e instanceof hg||e instanceof cg||e instanceof Wm||e instanceof lg)}function Og(e,t,n){if(!Pg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Vm(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function Rg(e,t,n){if((t=mi(t))instanceof ug)return t._internalPath;if("string"==typeof t)return Lg(e,t);throw Fg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Dg=new RegExp("[~\\*/\\[\\]]");function Lg(e,t,n){if(t.search(Dg)>=0)throw Fg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ug.bind.apply(ug,(0,ui.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw Fg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Fg(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Cu(Iu.INVALID_ARGUMENT,(s+=". ")+e+u)}function Mg(e,t){return e.some((function(e){return e.isEqual(t)}))}var jg=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ug(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(jg);function Bg(e,t){return"string"==typeof t?Lg(e,t):t instanceof ug?t._internalPath:t._delegate._internalPath}var qg=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Vg=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,ui.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(jg),zg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Vg),Hg=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zg(n._firestore,n._userDataWriter,r.key,r,new qg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cu(Iu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new zg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Kg(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Kg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Du()}}function Gg(e,t){return e instanceof Vg&&t instanceof Vg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hg&&t instanceof Hg&&e._firestore===t._firestore&&Zm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Wg(e){if($c(e)&&0===e.explicitOrderBy.length)throw new Cu(Iu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jg=function(){};function Qg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var $g=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return(0,ui.ZT)(t,e),t.prototype._apply=function(e){var t=yg(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ry(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(ny(r,e,h))}s={arrayValue:{values:u}}}else s=ny(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ry(a,o),s=Ng(n,"where",a,"in"===o||"not-in"===o);var f=Pc.create(i,o,s);return function(e,t){if(t.g()){var n=Xc(e);if(null!==n&&!n.isEqual(t.field))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Yc(e);null!==r&&iy(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Cu(Iu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Cu(Iu.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Jm(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Jg),Yg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return(0,ui.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vc(t,n);return function(e,t){if(null===Yc(e)){var n=Xc(e);null!==n&&iy(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Jm(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Jg),Xg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return(0,ui.ZT)(t,e),t.prototype._apply=function(e){return new Jm(e.firestore,e._converter,nl(e._query,this.Gc,this.zc))},t}(Jg),Zg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,ui.ZT)(t,e),t.prototype._apply=function(e){var t=ty(e,this.type,this.Hc,this.Jc);return new Jm(e.firestore,e._converter,function(e,t){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Jg),ey=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,ui.ZT)(t,e),t.prototype._apply=function(e){var t=ty(e,this.type,this.Hc,this.Jc);return new Jm(e.firestore,e._converter,function(e,t){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Jg);function ty(e,t,n,r){if(n[0]=mi(n[0]),n[0]instanceof jg)return function(e,t,n,r,i){if(!r)throw new Cu(Iu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=el(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(gc(t,r.key));else{var c=r.data.field(u.field);if(rc(c))throw new Cu(Iu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Bc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yg(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Cu(Iu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zc(e)&&-1!==c.indexOf("/"))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ju.fromString(c));if(!cc.isDocumentKey(l))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new cc(l);s.push(gc(t,h))}else{var f=Ng(n,r,c);s.push(f)}}return new Bc(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function ny(e,t,n){if("string"==typeof(n=mi(n))){if(""===n)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zc(t)&&-1!==n.indexOf("/"))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ju.fromString(n));if(!cc.isDocumentKey(r))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gc(e,new cc(r))}if(n instanceof Wm)return gc(e,n._key);throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vm(n)+".")}function ry(e,t){if(!Array.isArray(e)||0===e.length)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function iy(e,t,n){if(!n.isEqual(t))throw new Cu(Iu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var oy=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Du()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Ku(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new hg(tc(e.latitude),tc(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ic(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oc(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ec(e);return new Vu(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Ju.fromString(e);Lu(Jh(n));var r=new Am(n.get(1),n.get(3)),i=new cc(n.popFirst(5));return r.isEqual(t)||Pu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function ay(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var sy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,ui.ZT)(t,e),t.prototype.convertBytes=function(e){return new cg(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wm(this.firestore,null,t)},t}(oy),uy=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yg(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=cy(e,this._firestore),i=ay(r._converter,t,n),o=bg(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Il.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=cy(e,this._firestore);return o="string"==typeof(t=mi(t))||t instanceof ug?Cg(this._dataReader,"WriteBatch.update",a._key,t,n,r):Ig(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Il.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=cy(e,this._firestore);return this._mutations=this._mutations.concat(new ql(t._key,Il.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Cu(Iu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function cy(e,t){if((e=mi(e)).firestore!==t)throw new Cu(Iu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ly=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,ui.ZT)(t,e),t.prototype.convertBytes=function(e){return new cg(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wm(this.firestore,null,t)},t}(oy);function hy(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=zm(e,Wm);var o=zm(e.firestore,rg),a=yg(o);return dy(o,[("string"==typeof(t=mi(t))||t instanceof ug?Cg(a,"updateDoc",e._key,t,n,r):Ig(a,"updateDoc",e._key,t)).toMutation(e._key,Il.exists(!0))])}function fy(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=mi(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||tg(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(tg(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Wm)c=zm(e.firestore,rg),l=Jc(e._key.path),u={next:function(t){i[s]&&i[s](py(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=zm(e,Jm);c=zm(d.firestore,rg),l=d._query;var p=new ly(c);u={next:function(e){i[s]&&i[s](new Hg(c,p,d,e))},error:i[s+1],complete:i[s+2]},Wg(e._query)}return function(e,t,n,r){var i=this,o=new dm(r),a=new bv(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(i,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t=pv,[4,Im(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(i,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t=vv,[4,Im(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(ig(c),l,h,u)}function dy(e,t){return function(e,t){var n=this,r=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return n=Rv,[4,km(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(ig(e),t)}function py(e,t,n){var r=n.docs.get(t._key),i=new ly(e);return new Vg(e,i,t._key,r,new qg(n.hasPendingWrites,n.fromCache),t._converter)}var vy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,ui.ZT)(t,e),t.prototype.get=function(t){var n=this,r=cy(t,this._firestore),i=new ly(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Vg(n._firestore,i,r._key,e._document,new qg(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=yg(e)}return e.prototype.get=function(e){var t=this,n=cy(e,this._firestore),r=new sy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Du();var i=e[0];if(i.isFoundDocument())return new jg(t._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new jg(t._firestore,r,n._key,null,n._converter);throw Du()}))},e.prototype.set=function(e,t,n){var r=cy(e,this._firestore),i=ay(r._converter,t,n),o=bg(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=cy(e,this._firestore);return o="string"==typeof(t=mi(t))||t instanceof ug?Cg(this._dataReader,"Transaction.update",a._key,t,n,r):Ig(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=cy(e,this._firestore);return this._transaction.delete(t._key),this},e}());function my(){if("undefined"==typeof Uint8Array)throw new Cu(Iu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gy(){if("undefined"==typeof atob)throw new Cu(Iu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yy=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return gy(),new e(cg.fromBase64String(t))},e.fromUint8Array=function(t){return my(),new e(cg.fromUint8Array(t))},e.prototype.toBase64=function(){return gy(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return my(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),by=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){sg(e=zm(e,rg));var n=ig(e),r=e._freezeSettings(),i=new hm;return ag(n,i,new cm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){sg(e=zm(e,rg));var t=ig(e),n=e._freezeSettings(),r=new hm;return ag(t,r,new lm(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Cu(Iu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bf;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,ui.mG)(t,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return Sf.yt()?(t=e+"main",[4,Sf.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Rd(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),_y=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Am||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=zm(e,Gm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&Ou("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,ui.mG)(t,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,Sm(e)];case 1:return t=r.sent(),[4,Tm(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Fu(e);return t.$r.delete(0),Fp(t)}(n))]}}))}))}))}(ig(zm(this._delegate,rg)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,ui.mG)(t,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,Sm(e)];case 1:return t=r.sent(),[4,Tm(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return(t=Fu(e)).$r.add(0),[4,Mp(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ig(zm(this._delegate,rg)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Um("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(t,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return t=Uv,[4,km(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ig(zm(this._delegate,rg)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new dm(t);return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Fu(e).Gr.add(t),t.next()},[4,Im(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Fu(e).Gr.delete(t)},[4,Im(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(ig(e=zm(e,rg)),tg(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new Cu(Iu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Dy(this,$m(this._delegate,e))}catch(e){throw Iy(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ky(this,Ym(this._delegate,e))}catch(e){throw Iy(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Py(this,function(e,t){if(e=zm(e,Gm),Mm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jm(e,null,function(e){return new Gc(Ju.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Iy(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return wm(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new mm(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(ig(e),(function(n){return t(new vy(e,n))}))}(this._delegate,(function(n){return e(new Sy(t,n))}))},e.prototype.batch=function(){var e=this;return ig(this._delegate),new Ey(new uy(this._delegate,(function(t){return dy(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Cu(Iu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Cu(Iu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),wy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,ui.ZT)(t,e),t.prototype.convertBytes=function(e){return new yy(new cg(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ky.Zc(t,this.firestore,null)},t}(oy);var Sy=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}return e.prototype.get=function(e){var t=this,n=Ly(e);return this._delegate.get(n).then((function(e){return new xy(t._firestore,new Vg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},e.prototype.set=function(e,t,n){var r=Ly(e);return n?(jm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ly(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,ui.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Ly(e);return this._delegate.delete(t),this},e}(),Ey=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Ly(e);return n?(jm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ly(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,ui.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Ly(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ty=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new zg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ay(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wy(t),n),i.set(n,o)),o},e}();Ty.eu=new WeakMap;var ky=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new Cu(Iu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wm(n._delegate,r,new cc(t)))},e.Zc=function(t,n,r){return new e(n,new Wm(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Dy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Dy(this.firestore,$m(this._delegate,e))}catch(e){throw Iy(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=mi(e))instanceof Wm&&Xm(this._delegate,e)},e.prototype.set=function(e,t){t=jm("DocumentReference.set",t);try{return function(e,t,n){e=zm(e,Wm);var r=zm(e.firestore,rg),i=ay(e._converter,t,n);return dy(r,[bg(yg(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,Il.none())])}(this._delegate,e,t)}catch(e){throw Iy(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?hy(this._delegate,e):hy.apply(void 0,(0,ui.ev)([this._delegate,e,t],n))}catch(e){throw Iy(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dy(zm((e=this._delegate).firestore,rg),[new ql(e._key,Il.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Cy(t),i=Ny(t,(function(t){return new xy(e.firestore,new Vg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return fy(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zm(e,Wm);var t=zm(e.firestore,rg),n=ig(t),r=new ly(t);return function(e,t){var n=this,r=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Fu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Cu(Iu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=uv(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Em(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Vg(t,r,e._key,n,new qg(null!==n&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zm(e,Wm);var t=zm(e.firestore,rg);return Cm(ig(t),e._key,{source:"server"}).then((function(n){return py(t,e,n)}))}(this._delegate):function(e){e=zm(e,Wm);var t=zm(e.firestore,rg);return Cm(ig(t),e._key).then((function(n){return py(t,e,n)}))}(this._delegate)).then((function(e){return new xy(t.firestore,new Vg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ty.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Iy(e,t,n){return e.message=e.message.replace(t,n),e}function Cy(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!tg(r))return r}return{}}function Ny(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tg(e[0])?e[0]:tg(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ky(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Gg(this._delegate,e._delegate)},e}(),Ay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ui.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(xy),Py=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Qg(this._delegate,function(e,t,n){var r=t,i=Bg("where",e);return new $g(i,r,n)}(t,n,r)))}catch(t){throw Iy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Qg(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Bg("orderBy",e);return new Yg(r,n)}(t,n)))}catch(t){throw Iy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Qg(this._delegate,function(e){return Hm("limit",e),new Xg("limit",e,"F")}(t)))}catch(t){throw Iy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Qg(this._delegate,function(e){return Hm("limitToLast",e),new Xg("limitToLast",e,"L")}(t)))}catch(t){throw Iy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zg("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Iy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zg("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Iy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ey("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Iy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Qg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ey("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Iy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Zm(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zm(e,Jm);var t=zm(e.firestore,rg),n=ig(t),r=new ly(t);return function(e,t){var n=this,r=new bf;return e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Jd(e,t,!0)];case 1:return s=u.sent(),r=new Iv(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=uv(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Em(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Hg(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zm(e,Jm);var t=zm(e.firestore,rg),n=ig(t),r=new ly(t);return Nm(n,e._query,{source:"server"}).then((function(n){return new Hg(t,r,e,n)}))}(this._delegate):function(e){e=zm(e,Jm);var t=zm(e.firestore,rg),n=ig(t),r=new ly(t);return Wg(e._query),Nm(n,e._query).then((function(n){return new Hg(t,r,e,n)}))}(this._delegate)).then((function(e){return new Ry(t.firestore,new Hg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Cy(t),i=Ny(t,(function(t){return new Ry(e.firestore,new Hg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fy(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ty.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Oy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ay(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ry=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Py(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ay(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Oy(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ay(n._firestore,r))}))},e.prototype.isEqual=function(e){return Gg(this._delegate,e._delegate)},e}(),Dy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,ui.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ky(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ky(this.firestore,void 0===e?Ym(this._delegate):Ym(this._delegate,e))}catch(e){throw Iy(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=zm(e.firestore,rg),r=Ym(e),i=ay(e._converter,t);return dy(n,[bg(yg(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,Il.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ky(t.firestore,e)}))},t.prototype.isEqual=function(e){return Xm(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ty.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(Py);function Ly(e){return zm(e,Wm)}var Fy=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ug.bind.apply(ug,(0,ui.ev)([void 0],e)))}return e.documentId=function(){return new e($u.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=mi(e))instanceof ug&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),My=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Sg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new _g("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Eg("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tg("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new kg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function jy(e){return function(e,t){var n=ig(e=zm(e,rg)),r=new ng;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new pm(e,t)}(function(e,t){if(e instanceof Uint8Array)return fm(e,t);if(e instanceof ArrayBuffer)return fm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Np(t));e.asyncQueue.enqueueAndForget((function(){return(0,ui.mG)(i,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return t=sm,[4,km(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Uy(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,ui.mG)(n,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Fu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,Em(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(ig(t=zm(t,rg)),n).then((function(e){return e?new Jm(t,null,e.query):null}))).then((function(e){return e?new Py(r,e):null}))}var By,qy,Vy=n(7556),zy={Firestore:_y,GeoPoint:hg,Timestamp:Vu,Blob:yy,Transaction:Sy,WriteBatch:Ey,DocumentReference:ky,DocumentSnapshot:xy,Query:Py,QueryDocumentSnapshot:Ay,QuerySnapshot:Ry,CollectionReference:Dy,FieldPath:Fy,FieldValue:My,setLogLevel:function(e){var t;t=e,Nu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Vy.wA("firestore",(function(e){return function(e,t){return new _y(e,new rg(e,t),new by)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},zy)))})(By=si.Z),By.registerVersion("@firebase/firestore","2.2.4"),(qy=_y).prototype.loadBundle=jy,qy.prototype.namedQuery=Uy;var Hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ky=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,ui.ZT)(t,e),t}(Error);var Gy=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e;return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(By){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Wy(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Jy=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return Wy(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?Wy(e,(function(e){return t.decode(e)})):e},e}();var Qy=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new Jy,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Gy(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(By){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,ui.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Ky("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([$y(c,this.postJSON(r,i,o)),l,$y(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Ky("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Hy[s])return new Ky("internal","internal");r=Hy[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(By){}return"ok"===r?null:new Ky(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new Ky("internal","Response is not valid JSON object.");if("undefined"===typeof(d=h.json.data)&&(d=h.json.result),"undefined"===typeof d)throw new Ky("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function $y(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Qy};e.INTERNAL.registerComponent(new Vy.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("messaging");return new Qy(i,o,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(si.Z,fetch.bind(self)),si.Z.registerVersion("@firebase/functions","0.6.7");var Yy=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();var Xy=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Zy.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),Zy=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?eb(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Xy(i,s,r);return u},e}();function eb(e,t){return e.replace(tb,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var tb=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=nb),void 0===r.error&&(r.error=nb),void 0===r.complete&&(r.complete=nb);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function nb(){}var rb,ib=n(6494),ob="0.4.25",ab=1e4,sb="w:0.4.25",ub="FIS_v2",cb=36e5,lb=((rb={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rb["not-registered"]="Firebase Installation is not registered.",rb["installation-not-found"]="Firebase Installation not found.",rb["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',rb["app-offline"]="Could not process request. Application offline.",rb["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",rb),hb=new Zy("installations","Installations",lb);function fb(e){return e instanceof Xy&&e.code.includes("request-failed")}function db(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function pb(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function vb(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,hb.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function mb(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gb(e,t){var n=t.refreshToken,r=mb(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function yb(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function bb(e,t){var n=t.fid;return(0,ui.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return t=db(e),r=mb(e),i={fid:n,authVersion:ub,appId:e.appId,sdkVersion:sb},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,yb((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:pb(s.authToken)}];case 3:return[4,vb("Create Installation",a)];case 4:throw u.sent()}}))}))}function _b(e){return new Promise((function(t){setTimeout(t,e)}))}var wb=/^[cdef][\w-]{21}$/;function Sb(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,ui.ev)([],(0,ui.CR)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return wb.test(t)?t:""}catch(Eg){return""}}function Eb(e){return e.appName+"!"+e.appId}var Tb=new Map;function kb(e,t){var n=Eb(e);Ib(n,t),function(e,t){var n=Nb();n&&n.postMessage({key:e,fid:t});xb()}(n,t)}function Ib(e,t){var n,r,i=Tb.get(e);if(i)try{for(var o=(0,ui.XA)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Cb=null;function Nb(){return!Cb&&"BroadcastChannel"in self&&((Cb=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Ib(e.data.key,e.data.fid)}),Cb}function xb(){0===Tb.size&&Cb&&(Cb.close(),Cb=null)}var Ab,Pb="firebase-installations-store",Ob=null;function Rb(){return Ob||(Ob=(0,ib.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Pb)}))),Ob}function Db(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return n=Eb(e),[4,Rb()];case 1:return r=s.sent(),i=r.transaction(Pb,"readwrite"),[4,(o=i.objectStore(Pb)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||kb(e,t.fid),[2,t]}}))}))}function Lb(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return t=Eb(e),[4,Rb()];case 1:return n=i.sent(),[4,(r=n.transaction(Pb,"readwrite")).objectStore(Pb).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Fb(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return n=Eb(e),[4,Rb()];case 1:return r=u.sent(),i=r.transaction(Pb,"readwrite"),[4,(o=i.objectStore(Pb)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||kb(e,s.fid),[2,s]}}))}))}function Mb(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,Fb(e,(function(n){var r=function(e){return Bb(e||{fid:Sb(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(hb.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,bb(e,t)];case 1:return n=i.sent(),[2,Db(e,n)];case 2:return fb(r=i.sent())&&409===r.customData.serverCode?[4,Lb(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Db(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:jb(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function jb(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ub(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,_b(100)];case 3:return o.sent(),[4,Ub(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Mb(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Ub(e){return Fb(e,(function(e){if(!e)throw hb.create("installation-not-found");return Bb(e)}))}function Bb(e){return 1===(t=e).registrationStatus&&t.registrationTime+ab<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function qb(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,ui.mG)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,ui.Jh)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return db(e)+"/"+n+"/authTokens:generate"}(n,t),i=gb(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:sb}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,yb((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,pb(c)];case 3:return[4,vb("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Vb(e,t){return void 0===t&&(t=!1),(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return[4,Fb(e.appConfig,(function(r){if(!Hb(r))throw hb.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cb}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,zb(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,_b(100)];case 3:return i.sent(),[4,zb(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Vb(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw hb.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,ui.pi)((0,ui.pi)({},e),{authToken:t})}(r);return n=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,qb(e,t)];case 1:return n=o.sent(),i=(0,ui.pi)((0,ui.pi)({},t),{authToken:n}),[4,Db(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!fb(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Lb(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,ui.pi)((0,ui.pi)({},t),{authToken:{requestStatus:0}}),[4,Db(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function zb(e){return Fb(e,(function(e){if(!Hb(e))throw hb.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+ab<Date.now()?(0,ui.pi)((0,ui.pi)({},e),{authToken:{requestStatus:0}}):e}))}function Hb(e){return void 0!==e&&2===e.registrationStatus}function Kb(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,Mb(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Gb(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return db(e)+"/"+n}(e,t),r=gb(e,t),i={method:"DELETE",headers:r},[4,yb((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,vb("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Wb(e,t){var n=e.appConfig;return function(e,t){Nb();var n=Eb(e),r=Tb.get(n);r||(r=new Set,Tb.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Eb(e),r=Tb.get(n);r&&(r.delete(t),0===r.size&&Tb.delete(n),xb())}(n,t)}}function Jb(e){return hb.create("missing-app-config-values",{valueName:e})}(Ab=si.Z).INTERNAL.registerComponent(new Vy.wA("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Jb("App Configuration");if(!e.name)throw Jb("App Name");try{for(var r=(0,ui.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Jb(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,Mb(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Vb(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,Kb(e.appConfig)];case 1:return n.sent(),[4,Vb(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,Fb(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw hb.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw hb.create("app-offline");case 3:return[4,Gb(t,n)];case 4:return r.sent(),[4,Lb(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return Wb(r,e)}};return i}),"PUBLIC")),Ab.registerVersion("@firebase/installations",ob);var Qb=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();var $b=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Yb.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),Yb=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Xb(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new $b(i,s,r);return u},e}();function Xb(e,t){return e.replace(Zb,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Zb=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=e_),void 0===r.error&&(r.error=e_),void 0===r.complete&&(r.complete=e_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function e_(){}var t_,n_,r_=n(8365),i_=((t_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',t_["only-available-in-window"]="This method is available in a Window context.",t_["only-available-in-sw"]="This method is available in a service worker context.",t_["permission-default"]="The notification permission was not granted and dismissed instead.",t_["permission-blocked"]="The notification permission was not granted and blocked instead.",t_["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",t_["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",t_["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",t_["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",t_["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",t_["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",t_["token-update-no-token"]="FCM returned no token when updating the user to push.",t_["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",t_["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",t_["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",t_["invalid-vapid-key"]="The public VAPID key must be a string.",t_["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",t_),o_=new Yb("messaging","Messaging",i_),a_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",s_="google.c.a.c_id";function u_(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,ui.ev)([],(0,ui.CR)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c_(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(n_||(n_={}));var l_="fcm_token_details_db",h_="fcm_token_object_Store";function f_(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(l_))return[2,null];o.label=2;case 2:return r=null,[4,(0,r_.openDb)(l_,5,(function(t){return(0,ui.mG)(i,void 0,void 0,(function(){var n,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(h_)?[4,(n=t.transaction.objectStore(h_)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:u_(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:u_(o.auth),p256dh:u_(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:u_(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,r_.deleteDb)(l_)];case 4:return o.sent(),[4,(0,r_.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,r_.deleteDb)("undefined")];case 6:return o.sent(),[2,d_(r)?r:null]}}))}))}function d_(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var p_="firebase-messaging-store",v_=null;function m_(){return v_||(v_=(0,r_.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(p_)}))),v_}function g_(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return t=__(e),[4,m_()];case 1:return[4,i.sent().transaction(p_).objectStore(p_).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,f_(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,y_(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function y_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return n=__(e),[4,m_()];case 1:return r=o.sent(),[4,(i=r.transaction(p_,"readwrite")).objectStore(p_).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function b_(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return t=__(e),[4,m_()];case 1:return n=i.sent(),[4,(r=n.transaction(p_,"readwrite")).objectStore(p_).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function __(e){return e.appConfig.appId}function w_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return[4,k_(e)];case 1:n=u.sent(),r=I_(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(T_(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),o_.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,o_.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw o_.create("token-subscribe-no-token");return[2,o.token]}}))}))}function S_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return[4,k_(e)];case 1:n=u.sent(),r=I_(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(T_(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),o_.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,o_.create("token-update-failed",{errorInfo:s});if(!o.token)throw o_.create("token-update-no-token");return[2,o.token]}}))}))}function E_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return[4,k_(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(T_(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,o_.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),o_.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function T_(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function k_(e){var t=e.appConfig,n=e.installations;return(0,ui.mG)(this,void 0,void 0,(function(){var e;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function I_(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==a_&&(o.web.applicationPubKey=i),o}function C_(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw o_.create("permission-blocked");return[4,P_(t,n)];case 1:return r=s.sent(),[4,g_(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:u_(r.getKey("auth")),p256dh:u_(r.getKey("p256dh"))},i?[3,3]:[2,A_(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,E_(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,A_(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,x_({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function N_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,g_(e)];case 1:return(n=i.sent())?[4,E_(e,n.token)]:[3,4];case 2:return i.sent(),[4,b_(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function x_(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,S_(t,e)];case 1:return r=a.sent(),i=(0,ui.pi)((0,ui.pi)({},e),{token:r,createTime:Date.now()}),[4,y_(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,N_(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function A_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,w_(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,y_(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function P_(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:c_(t)})]}}))}))}function O_(e){return"object"===typeof e&&!!e&&s_ in e}function R_(e){return new Promise((function(t){setTimeout(t,e)}))}var D_=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw o_.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,ui.mG)(this,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,g_(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:a_,r.label=2;case 2:return[2,C_(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return N_(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw o_.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw o_.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw o_.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw o_.create("only-available-in-window")},e.prototype.onMessage=function(){throw o_.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw o_.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,j_()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,M_(n,t)]:(r=!1,t.notification?[4,U_(L_(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,R_(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,ui.mG)(this,void 0,void 0,(function(){var r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,N_(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,g_(this.firebaseDependencies)];case 3:return r=i.sent(),[4,N_(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,C_(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:a_)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return O_(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,F_(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,R_(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=n_.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function L_(e){var t,n=(0,ui.pi)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function F_(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return[4,j_()];case 1:t=u.sent();try{for(n=(0,ui.XA)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function M_(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=n_.PUSH_RECEIVED;try{for(var i=(0,ui.XA)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function j_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function U_(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var B_=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===n_.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),O_(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw o_.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,C_(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=a_),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw o_.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),o_.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,N_(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e;return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?o_.create("permission-blocked"):o_.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw o_.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw o_.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw o_.create("invalid-sw-registration");if(this.swRegistration)throw o_.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw o_.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw o_.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case n_.NOTIFICATION_CLICKED:return"notification_open";case n_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function q_(e){return o_.create("missing-app-config-values",{valueName:e})}var V_={isSupported:z_};function z_(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}si.Z.INTERNAL.registerComponent(new Vy.wA("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw q_("App Configuration Object");if(!e.name)throw q_("App Name");var r=e.options;try{for(var i=(0,ui.XA)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw q_(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!z_())throw o_.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new D_(r):new B_(r)}),"PUBLIC").setServiceProps(V_));var H_=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();var K_=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,G_.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),G_=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?W_(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new K_(i,s,r);return u},e}();function W_(e,t){return e.replace(J_,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var J_=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Q_),void 0===r.error&&(r.error=Q_),void 0===r.complete&&(r.complete=Q_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function Q_(){}function $_(e){return e&&e._delegate?e._delegate:e}var Y_="firebasestorage.googleapis.com",X_=function(e){function t(n,r){var i=e.call(this,Z_(n),"Firebase Storage: "+r+" ("+Z_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return(0,ui.ZT)(t,e),t.prototype._codeEquals=function(e){return Z_(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(K_);function Z_(e){return"storage/"+e}function ew(){return new X_("unknown","An unknown error occurred, please check the error payload for server response.")}function tw(){return new X_("canceled","User canceled the upload/download.")}function nw(){return new X_("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rw(e){return new X_("invalid-argument",e)}function iw(){return new X_("app-deleted","The Firebase app was deleted.")}function ow(e){return new X_("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aw(e,t){return new X_("invalid-format","String does not match format '"+e+"': "+t)}function sw(e){throw new X_("internal-error","Internal error: "+e)}var uw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},cw=function(e,t){this.data=e,this.contentType=t||null};function lw(e,t){switch(e){case uw.RAW:return new cw(hw(t));case uw.BASE64:case uw.BASE64URL:return new cw(fw(e,t));case uw.DATA_URL:return new cw(function(e){var t=new dw(e);return t.base64?fw(uw.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(By){throw aw(uw.DATA_URL,"Malformed data URL.")}return hw(t)}(t.rest)}(t),new dw(t).contentType)}throw ew()}function hw(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function fw(e,t){switch(e){case uw.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw aw(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case uw.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw aw(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(By){throw aw(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var dw=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw aw(uw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var pw,vw={STATE_CHANGED:"state_changed"},mw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gw(e){switch(e){case"running":case"pausing":case"canceling":return mw.RUNNING;case"paused":return mw.PAUSED;case"success":return mw.SUCCESS;case"canceled":return mw.CANCELED;default:return mw.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(pw||(pw={}));var yw=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=pw.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=pw.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=pw.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw sw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw sw("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw sw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(By){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw sw("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),bw=function(){function e(){}return e.prototype.createXhrIo=function(){return new yw},e}(),_w=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(By){return new e(t,"")}if(""===r.path)return r;throw new X_("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Y_?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new X_("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),ww=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Sw(e){return"string"===typeof e||e instanceof String}function Ew(e){return Tw()&&e instanceof Blob}function Tw(){return"undefined"!==typeof Blob}function kw(e,t,n,r){if(r<t)throw rw("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw rw("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Iw(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Cw(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Nw=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(By){o(By)}else null!==a?((r=ew()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?iw():tw()):o(r=new X_("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new xw(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,ui.ev)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,ui.ev)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new xw(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===pw.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new xw(a,n))}else{var s=n.getErrorCode()===pw.ABORT;t(!1,new xw(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),xw=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Aw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Pw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Aw();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Tw())return new Blob(e);throw new X_("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ow=function(){function e(e,t){var n=0,r="";Ew(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Ew(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Tw()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Pw.apply(null,r))}var i=t.map((function(e){return Sw(e)?lw(uw.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Rw(e){var t;try{t=JSON.parse(e)}catch(By){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Dw(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Lw(e,t){return t}var Fw=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Lw},Mw=null;function jw(){if(Mw)return Mw;var e=[];e.push(new Fw("bucket")),e.push(new Fw("generation")),e.push(new Fw("metageneration")),e.push(new Fw("name","fullPath",!0));var t=new Fw("name");t.xform=function(e,t){return function(e){return!Sw(e)||e.length<2?e:Dw(e)}(t)},e.push(t);var n=new Fw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Fw("timeCreated")),e.push(new Fw("updated")),e.push(new Fw("md5Hash",null,!0)),e.push(new Fw("cacheControl",null,!0)),e.push(new Fw("contentDisposition",null,!0)),e.push(new Fw("contentEncoding",null,!0)),e.push(new Fw("contentLanguage",null,!0)),e.push(new Fw("contentType",null,!0)),e.push(new Fw("metadata","customMetadata",!0)),Mw=e}function Uw(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new _w(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Bw(e,t,n){var r=Rw(t);return null===r?null:Uw(e,r,n)}function qw(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Vw(e,t,n){var r=Rw(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new _w(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new _w(t,l.name)),r.items.push(s)}return r}(e,t,r)}var zw=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Hw(e){if(!e)throw ew()}function Kw(e,t){return function(n,r){var i=Bw(e,r,t);return Hw(null!==i),i}}function Gw(e,t){return function(n,r){var i=Bw(e,r,t);return Hw(null!==i),function(e,t,n){var r=Rw(t);if(null===r)return null;if(!Sw(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Iw("/b/"+o(r)+"/o/"+o(i),n)+Cw({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Ww(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new X_("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new X_("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new X_("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Jw(e){var t=Ww(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new X_("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Qw(e,t,n){var r=Iw(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new zw(r,"GET",Kw(e,n),i);return o.errorHandler=Jw(t),o}function $w(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Iw(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new zw(a,"GET",function(e,t){return function(n,r){var i=Vw(e,t,r);return Hw(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Ww(t),u}function Yw(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Xw=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Zw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(By){Hw(!1)}return Hw(!!n&&-1!==(t||["active"]).indexOf(n)),n}var eS=262144;function tS(e,t,n,r,i,o,a,s){var u=new Xw(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new X_("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw nw();var v=t.maxUploadRetryTime,m=new zw(n,"POST",(function(e,n){var i,a=Zw(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Kw(t,o)(e,n):null,new Xw(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Ww(e),m}var nS=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function rS(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var iS=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=jw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Yw(t,r,i),s={name:a.fullPath},u=Iw(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=qw(a,n),h=e.maxUploadRetryTime,f=new zw(u,"POST",(function(e){var t;Zw(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(By){Hw(!1)}return Hw(Sw(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Ww(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new zw(n,"POST",(function(e){var t=Zw(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(By){Hw(!1)}n||Hw(!1);var i=Number(n);return Hw(!isNaN(i)),new Xw(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ww(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=eS*this._chunkMultiplier,n=new Xw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=tS(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(By){return e._error=By,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){eS*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=Qw(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Yw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qw(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Ow.getBlob(c,r,l);if(null===h)throw nw();var f={name:u.fullPath},d=Iw(o,e.host),p=e.maxUploadRetryTime,v=new zw(d,"POST",Kw(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Ww(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=tw(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=gw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new nS(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(gw(this._state)){case mw.SUCCESS:rS(this._resolve.bind(null,this.snapshot))();break;case mw.CANCELED:case mw.ERROR:rS(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(gw(this._state)){case mw.RUNNING:case mw.PAUSED:e.next&&rS(e.next.bind(e,this.snapshot))();break;case mw.SUCCESS:e.complete&&rS(e.complete.bind(e))();break;default:e.error&&rS(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),oS=function(){function e(e,t){this._service=e,this._location=t instanceof _w?t:_w.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new _w(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Dw(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new _w(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw ow(e)},e}();function aS(e){var t={prefixes:[],items:[]};return sS(e,t).then((function(){return t}))}function sS(e,t,n){return(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return[4,uS(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,sS(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function uS(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return null!=t&&"number"===typeof t.maxResults&&kw("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=$w(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function cS(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=Iw(t.fullServerUrl(),e.host),o=qw(n,r),a=e.maxOperationRetryTime,s=new zw(i,"PATCH",Kw(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Jw(t),s}(e.storage,e._location,t,jw()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}function lS(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=Iw(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new zw(r,"GET",Gw(e,n),i);return o.errorHandler=Jw(t),o}(e.storage,e._location,jw()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new X_("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function hS(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=Iw(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new zw(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Jw(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}function fS(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _w(e._location.bucket,n);return new oS(e.storage,r)}function dS(e){return/^[A-Za-z]+:\/\//.test(e)}function pS(e,t){if(e instanceof gS){var n=e;if(null==n._bucket)throw new X_("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new oS(n,n._bucket);return null!=t?pS(r,t):r}if(void 0!==t){if(t.includes(".."))throw rw('`path` param cannot contain ".."');return fS(e,t)}return e}function vS(e,t){if(t&&dS(t)){if(e instanceof gS)return new oS(e,t);throw rw("To use ref(service, url), the first argument must be a Storage instance.")}return pS(e,t)}function mS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:_w.makeFromBucketSpec(n,e)}var gS=function(){function e(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Y_,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_w.makeFromBucketSpec(r,this._host):mS(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=_w.makeFromBucketSpec(this._url,e):this._bucket=mS(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){kw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){kw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new oS(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new ww(iw());var r=function(e,t,n,r,i){var o=Cw(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,i),new Nw(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function yS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new iS(e,new Ow(t),n)}(e=$_(e),t,n)}function bS(e){return function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=Qw(e.storage,e._location,jw()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=$_(e))}function _S(e,t){return vS(e=$_(e),t)}var wS=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),SS=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new wS(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new wS(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new wS(e,i,i._ref))}:{next:t.next?function(e){return t.next(new wS(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),ES=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new TS(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new TS(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),TS=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return fS(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new SS(yS(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=uw.RAW),this._throwIfRoot("putString");var r=lw(t,e),i=(0,ui.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new SS(new iS(this._delegate,new Ow(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return aS(e=$_(e))}(this._delegate).then((function(t){return new ES(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return uS(e=$_(e),t)}(this._delegate,e||void 0).then((function(e){return new ES(e,t.storage)}))},e.prototype.getMetadata=function(){return bS(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return cS(e=$_(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return lS(e=$_(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return hS(e=$_(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw ow(e)},e}(),kS=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(dS(e))throw rw("ref() expected a child path but got a URL, use refFromURL instead.");return new TS(_S(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!dS(e))throw rw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_w.makeFromUrl(e,this._delegate.host)}catch(By){throw rw("refFromUrl() expected a valid full URL but got an invalid one.")}return new TS(_S(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function IS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new kS(r,new gS(r,i,new bw,n,si.Z.SDK_VERSION))}!function(e){var t={TaskState:mw,TaskEvent:vw,StringFormat:uw,Storage:gS,Reference:TS};e.INTERNAL.registerComponent(new Vy.wA("storage",IS,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.0")}(si.Z);var CS=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();var NS=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,xS.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),xS=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?AS(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new NS(i,s,r);return u},e}();function AS(e,t){return e.replace(PS,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var PS=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=OS),void 0===r.error&&(r.error=OS),void 0===r.complete&&(r.complete=OS);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function OS(){}var RS,DS,LS,FS="0.4.11",MS=FS,jS="FB-PERF-TRACE-MEASURE",US="_wt_",BS="_fcp",qS="_fid",VS="@firebase/performance/config",zS="@firebase/performance/configexpire",HS="Performance",KS=((RS={})["trace started"]="Trace {$traceName} was started before.",RS["trace stopped"]="Trace {$traceName} is not running.",RS["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",RS["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",RS["no window"]="Window is not available.",RS["no app id"]="App id is not available.",RS["no project id"]="Project id is not available.",RS["no api key"]="Api key is not available.",RS["invalid cc log"]="Attempted to queue invalid cc event",RS["FB not default"]="Performance can only start when Firebase app instance is the default one.",RS["RC response not ok"]="RC response is not ok",RS["invalid attribute name"]="Attribute name {$attributeName} is invalid.",RS["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",RS["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",RS["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",RS),GS=new xS("performance",HS,KS),WS=new gi.Yd(HS);WS.logLevel=gi.in.INFO;var JS,QS=function(){function e(e){if(this.window=e,!e)throw GS.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?"indexedDB"in self&&null!=indexedDB||(WS.info("IndexedDB is not supported by current browswer"),!1):(WS.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===DS&&(DS=new e(LS)),DS},e}();function $S(e,t){var n=e.length-t.length;if(n<0||n>1)throw GS.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var YS,XS,ZS=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=$S("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=$S("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw GS.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw GS.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw GS.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===JS&&(JS=new e),JS},e}();function eE(){return YS}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(XS||(XS={}));var tE=["firebase_","google_","ga_"],nE=new RegExp("^[a-zA-Z]\\w*$");function rE(){var e=QS.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function iE(){switch(QS.getInstance().document.visibilityState){case"visible":return XS.VISIBLE;case"hidden":return XS.HIDDEN;default:return XS.UNKNOWN}}function oE(){var e=QS.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var aE="0.0.1",sE=!0,uE="FIREBASE_INSTALLATIONS_AUTH";function cE(e){var t=function(){var e=QS.getInstance().localStorage;if(!e)return;var t=e.getItem(zS);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(VS);if(!r)return;try{return JSON.parse(r)}catch(Eg){return}}();return t?(hE(t),Promise.resolve()):function(e){return function(){var e=ZS.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ZS.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+ZS.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:uE+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:ZS.getInstance().getAppId(),app_version:MS,sdk_version:aE})});return fetch(r).then((function(e){if(e.ok)return e.json();throw GS.create("RC response not ok")}))})).catch((function(){WS.info(lE)}))}(e).then(hE).then((function(e){return function(e){var t=QS.getInstance().localStorage;if(!e||!t)return;t.setItem(VS,JSON.stringify(e)),t.setItem(zS,String(Date.now()+60*ZS.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var lE="Could not fetch config, will use default configs";function hE(e){if(!e)return e;var t=ZS.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=sE,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=fE(t.tracesSamplingRate),t.logNetworkAfterSampling=fE(t.networkRequestsSamplingRate),e}function fE(e){return Math.random()<=e}var dE,pE=1;function vE(){return pE=2,dE=dE||function(){var e=QS.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=ZS.getInstance().installationsService.getId();return e.then((function(e){YS=e})),e}()})).then((function(e){return cE(e)})).then((function(){return mE()}),(function(){return mE()}))}function mE(){pE=3}var gE,yE=1e4,bE=3,_E=[],wE=!1;function SE(e){setTimeout((function(){if(0!==bE)return _E.length?void function(){var e=_E.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=ZS.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||WS.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=yE;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(_E=(0,ui.ev)((0,ui.ev)([],t),_E),WS.info("Retry transport request later.")),bE=3,SE(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ZS.getInstance().logSource,log_event:t},e).catch((function(){_E=(0,ui.ev)((0,ui.ev)([],e),_E),bE--,WS.info("Tries left: "+bE+"."),SE(yE)}))}():SE(yE)}),e)}function EE(e){if(!e.eventTime||!e.message)throw GS.create("invalid cc log");_E=(0,ui.ev)((0,ui.ev)([],_E),[e])}function TE(e,t){gE||(gE=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];EE({message:e.apply(void 0,t),eventTime:Date.now()})}}(CE)),gE(e,t)}function kE(e){var t=ZS.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&QS.getInstance().requiredApisAvailable()&&(e.isAuto&&iE()!==XS.VISIBLE||(3===pE?IE(e):vE().then((function(){return IE(e)}),(function(){return IE(e)}))))}function IE(e){if(eE()){var t=ZS.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return TE(e,1)}),0)}}function CE(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:NE(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:NE(),trace_metric:t};return JSON.stringify(r)}(e)}function NE(){return{google_app_id:ZS.getInstance().getAppId(),app_instance_id:eE(),web_app_info:{sdk_version:MS,page_url:QS.getInstance().getUrl(),service_worker_status:rE(),visibility_state:iE(),effective_connection_type:oE()},application_process_state:0}}var xE=["_fp",BS,qS];var AE=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=QS.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw GS.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw GS.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),kE(this)},e.prototype.record=function(e,t,n){if(e<=0)throw GS.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw GS.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,ui.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}kE(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(US)&&xE.indexOf(n)>-1)&&n.startsWith("_"))throw GS.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&WS.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!tE.some((function(e){return n.startsWith(e)}))&&!!n.match(nE),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw GS.create("invalid attribute name",{attributeName:e});if(!i)throw GS.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,ui.pi)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=QS.getInstance().getUrl();if(i){var o=new e(US+i,!0),a=Math.floor(1e3*QS.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(BS,Math.floor(1e3*u.startTime)),r&&o.putMetric(qS,Math.floor(1e3*r))}kE(o)}},e.createUserTimingTrace=function(t){kE(new e(t,!1,t))},e}();function PE(e){var t=e;if(t&&void 0!==t.responseStart){var n=QS.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=ZS.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return TE(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function OE(){eE()&&(setTimeout((function(){return function(){var e=QS.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){AE.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),AE.createOobTrace(t,n,e))}))}else AE.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=QS.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){PE(r[n])}e.setupObserver("resource",PE)}()}),0),setTimeout((function(){return function(){for(var e=QS.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){RE(r[n])}e.setupObserver("measure",RE)}()}),0))}function RE(e){var t=e.name;t.substring(0,jS.length)!==jS&&AE.createUserTimingTrace(t)}var DE=function(){function e(e){this.app=e,QS.getInstance().requiredApisAvailable()&&new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})).then((function(e){e&&(wE||(SE(5500),wE=!0),vE().then(OE,OE))})).catch((function(e){WS.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new AE(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return ZS.getInstance().instrumentationEnabled},set:function(e){ZS.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return ZS.getInstance().dataCollectionEnabled},set:function(e){ZS.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw GS.create("FB not default");if("undefined"===typeof window)throw GS.create("no window");return function(e){LS=e}(window),ZS.getInstance().firebaseAppInstance=e,ZS.getInstance().installationsService=t,new DE(e)};e.INTERNAL.registerComponent(new Vy.wA("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",FS)}(si.Z);var LE=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();function FE(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ME(){return"indexedDB"in self&&null!=indexedDB}function jE(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function UE(){return!(!navigator||!navigator.cookieEnabled)}var BE=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,qE.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),qE=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?VE(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new BE(i,s,r);return u},e}();function VE(e,t){return e.replace(zE,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var zE=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=HE),void 0===r.error&&(r.error=HE),void 0===r.complete&&(r.complete=HE);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function HE(){}function KE(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var GE,WE,JE="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(GE||(GE={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(WE||(WE={}));var QE,$E=new gi.Yd("@firebase/analytics");function YE(e,t,n,r,i,o){return(0,ui.mG)(this,void 0,void 0,(function(){var a,s,u,c;return(0,ui.Jh)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),$E.error(c),[3,8];case 8:return e(GE.CONFIG,i,o),[2]}}))}))}function XE(e,t,n,r,i){return(0,ui.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,ui.Jh)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(GE.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),$E.error(f),[3,5];case 5:return[2]}}))}))}function ZE(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,ui.mG)(this,void 0,void 0,(function(){var s;return(0,ui.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==GE.EVENT?[3,2]:[4,XE(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==GE.CONFIG?[3,4]:[4,YE(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(GE.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),$E.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var eT=((QE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",QE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",QE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",QE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",QE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",QE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",QE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",QE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',QE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',QE),tT=new qE("analytics","Analytics",eT),nT=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function rT(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function iT(e){var t;return(0,ui.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,ui.Jh)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:rT(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw tT.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function oT(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=nT),(0,ui.mG)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,ui.Jh)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,aT(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return $E.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,iT(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof BE)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return $E.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?KE(o,r.intervalMillis,30):KE(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),$E.debug("Calling attemptFetch again in "+l+" millis"),[2,oT(e,h,n,r)];case 7:return[2]}}))}))}function aT(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(tT.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var sT=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function uT(e,t,n,r,i,o){return(0,ui.mG)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,ui.Jh)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=nT),(0,ui.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,ui.Jh)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw tT.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw tT.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new sT,setTimeout((function(){return(0,ui.mG)(c,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,oT({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&$E.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return $E.error(e)})),t.push(a),s=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e;return(0,ui.Jh)(this,(function(t){switch(t.label){case 0:return ME()?[3,1]:($E.warn(tT.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,jE()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),$E.warn(tT.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(JE))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=JE+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(GE.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var cT,lT,hT={},fT=[],dT={},pT="dataLayer",vT="gtag",mT=!1;function gT(e){if(mT)throw tT.create("already-initialized");e.dataLayerName&&(pT=e.dataLayerName),e.gtagName&&(vT=e.gtagName)}function yT(e,t){!function(){var e=[];if(FE()&&e.push("This is a browser extension environment."),UE()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=tT.create("invalid-analytics-context",{errorInfo:t});$E.warn(n.message)}}();var n=e.options.appId;if(!n)throw tT.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw tT.create("no-api-key");$E.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=hT[n])throw tT.create("already-exists",{id:n});if(!mT){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(pT);var r=ZE(hT,fT,dT,pT,vT),i=r.wrappedGtag,o=r.gtagCore;lT=i,cT=o,mT=!0}hT[n]=uT(e,fT,dT,t,cT,pT);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,ui.mG)(this,void 0,void 0,(function(){var o,a;return(0,ui.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(GE.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,ui.pi)((0,ui.pi)({},r),{send_to:o}),e(GE.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(lT,hT[n],e,t,r).catch((function(e){return $E.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(GE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(GE.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(lT,hT[n],e,t).catch((function(e){return $E.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i;return(0,ui.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(GE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(GE.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(lT,hT[n],e,t).catch((function(e){return $E.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,ui.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,ui.Jh)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(GE.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(GE.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(lT,hT[n],e,t).catch((function(e){return $E.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(hT[n],e).catch((function(e){return $E.error(e)}))},INTERNAL:{delete:function(){return delete hT[n],Promise.resolve()}}};return a}var bT="analytics";function _T(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:if(FE())return[2,!1];if(!UE())return[2,!1];if(!ME())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,jE()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Vy.wA(bT,(function(e){return yT(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:gT,EventName:WE,isSupported:_T})),e.INTERNAL.registerComponent(new Vy.wA("analytics-internal",(function(e){try{return{logEvent:e.getProvider(bT).getImmediate().logEvent}}catch(By){throw tT.create("interop-component-reg-failed",{reason:By})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.9")}(si.Z);var wT=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();var ST=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ET.prototype.create),o}return(0,ui.ZT)(t,e),t}(Error),ET=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?TT(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new ST(i,s,r);return u},e}();function TT(e,t){return e.replace(kT,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var kT=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=IT),void 0===r.error&&(r.error=IT),void 0===r.complete&&(r.complete=IT);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(By){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(By){"undefined"!==typeof console&&console.error&&console.error(By)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function IT(){}function CT(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var NT,xT=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),AT=((NT={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",NT["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",NT["registration-api-key"]="Undefined API key. Check Firebase app initialization.",NT["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",NT["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",NT["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",NT["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",NT["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",NT["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",NT["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',NT["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',NT["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",NT["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",NT),PT=new ET("remoteconfig","Remote Config",AT);var OT=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b;return(0,ui.Jh)(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return _.sent(),[4,c];case 4:return h=_.sent(),[3,6];case 5:throw f=_.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),PT.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,h.json()];case 8:return y=_.sent(),[3,10];case 9:throw b=_.sent(),PT.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw PT.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var w}))}))},e}(),RT=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),DT=["1","true","t","yes","y","on"],LT=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&DT.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),FT=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=gi.in.DEBUG;break;case"silent":this._logger.logLevel=gi.in.SILENT;break;default:this._logger.logLevel=gi.in.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:e=new RT,setTimeout((function(){return(0,ui.mG)(r,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof ST&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,ui.mG)(this,void 0,void 0,(function(){return(0,ui.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,ui.pi)((0,ui.pi)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new LT("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new LT("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new LT("static"))},e}();function MT(e,t){var n=e.target.error||void 0;return PT.create(t,{originalErrorMessage:n&&n.message})}var jT="app_namespace_store";var UT=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(MT(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(jT,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([jT],"readonly").objectStore(jT),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(MT(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(By){i(PT.create("storage-get",{originalErrorMessage:By&&By.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,ui.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,ui.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([jT],"readwrite").objectStore(jT),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(MT(e,"storage-set"))},u.onsuccess=function(){i()}}catch(By){o(PT.create("storage-set",{originalErrorMessage:By&&By.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,ui.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([jT],"readwrite").objectStore(jT),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(MT(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(By){i(PT.create("storage-delete",{originalErrorMessage:By&&By.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),BT=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,ui.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function qT(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(PT.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var VT,zT=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,ui.mG)(this,void 0,void 0,(function(){var t;return(0,ui.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,ui.mG)(this,void 0,void 0,(function(){var t,i,o;return(0,ui.Jh)(this,(function(a){switch(a.label){case 0:return[4,qT(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof ST)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+CT(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),HT="@firebase/remote-config";(VT=si.Z).INTERNAL.registerComponent(new Vy.wA("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw PT.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw PT.create("registration-project-id");if(!s)throw PT.create("registration-api-key");if(!u)throw PT.create("registration-app-id");n=n||"firebase";var c=new UT(u,r.name,n),l=new BT(c),h=new gi.Yd(HT);h.logLevel=gi.in.ERROR;var f=new OT(i,VT.SDK_VERSION,n,a,s,u),d=new zT(f,c),p=new xT(d,c,l,h),v=new FT(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),VT.registerVersion(HT,"0.1.36");si.Z.registerVersion("firebase","8.4.1","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),si.Z.registerVersion("firebase","8.4.1");var KT=si.Z.initializeApp({apiKey:"AIzaSyCoEb5iqb-g-OJ-14ZXeCNUJYE2C1N-_po",authDomain:"user-form-test-c3cf2.firebaseapp.com",projectId:"user-form-test-c3cf2",storageBucket:"user-form-test-c3cf2.appspot.com",messagingSenderId:"1009135905032",appId:"1:1009135905032:web:dff33b4abdb7fa5e9524bd"}).firestore(),GT=n(184),WT=function(){var e=s((0,r.useState)(""),2),t=e[0],n=e[1],i=s((0,r.useState)(""),2),o=i[0],a=i[1],u=s((0,r.useState)(""),2),c=u[0],l=u[1],h=s((0,r.useState)(""),2),f=h[0],d=h[1],p=s((0,r.useState)(""),2),v=p[0],m=p[1],g=s((0,r.useState)(!1),2),y=g[0],b=g[1],_={name:t,phone:o,email:c,address:f},w=C(),S=function(e){e.preventDefault(),m(function(){var e={};return t.length<4&&(e.name="H\u1ecd t\xean nh\u1eadp ch\u01b0a \u0111\xfang"),!1===/((09|03|07|08|05)+([0-9]{8})\b)/g.test(o)&&(e.phone="Sai \u0111\u1ecbnh d\u1ea1ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),f.length<5&&(e.address="\u0110\u1ecba ch\u1ec9 nh\u1eadp thi\u1ebfu"),!1===/^[A-Za-z0-9]+[A-Za-z0-9]*@[A-Za-z0-9]+(.[A-Za-z0-9]+)$/.test(c)&&(e.email="Sai \u0111\u1ecbnh d\u1ea1ng email"),e}()),b(!0),console.log(_),0===Object.keys(v).length&&y&&(KT.collection("userInfo").add(_),w("/list"))};return(0,GT.jsxs)(ue,{onSubmit:S,children:[(0,GT.jsxs)(Ie,{children:[(0,GT.jsxs)("div",{children:[(0,GT.jsx)(ai,{label:"H\u1ecd T\xean",value:t,onChange:function(e){n(e)}}),(0,GT.jsx)("p",{children:v.name})]}),(0,GT.jsxs)("div",{children:[(0,GT.jsx)(ai,{type:"number",label:"S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i",value:o,onChange:function(e){a(e)}}),(0,GT.jsx)("p",{children:v.phone})]}),(0,GT.jsxs)("div",{children:[(0,GT.jsx)(ai,{label:"Email",value:c,onChange:function(e){l(e)},autoComplete:"email"}),(0,GT.jsx)("p",{children:v.email})]}),(0,GT.jsxs)("div",{children:[(0,GT.jsx)(ai,{label:"\u0110\u1ecba Ch\u1ec9",value:f,onChange:function(e){d(e)}}),(0,GT.jsx)("p",{children:v.address})]})]}),(0,GT.jsx)(zr,{onClick:S,children:"\u0110\u0103ng K\xed"})]})};function JT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QT=n(7441),$T=n(9613),YT=n.n($T);var XT=function(e){function t(e,r,u,c,f){for(var d,p,v,m,_,S=0,E=0,T=0,k=0,I=0,O=0,D=v=d=0,F=0,M=0,j=0,U=0,B=u.length,q=B-1,V="",z="",H="",K="";F<B;){if(p=u.charCodeAt(F),F===q&&0!==E+k+T+S&&(0!==E&&(p=47===E?10:47),k=T=S=0,B++,q++),0===E+k+T+S){if(F===q&&(0<M&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(F)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),v=1,U=++F;F<B;){switch(p=u.charCodeAt(F)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(F+1)){case 42:case 47:e:{for(D=F+1;D<q;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&F+2!==D){F=D+1;break e}break;case 10:if(47===p){F=D+1;break e}}F=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;F++<q&&u.charCodeAt(F)!==p;);}if(0===v)break;F++}if(v=u.substring(U,F),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=P}if(U=(v=t(r,M,v,p,f+1)).length,0<R&&(_=s(3,v,M=n(P,V,j),r,N,C,U,p,f,c),V=M.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,V,j),v,c,f+1);H+=v,v=j=M=D=d=0,V="",p=u.charCodeAt(++F);break;case 125:case 59:if(1<(U=(V=(0<M?V.replace(h,""):V).trim()).length))switch(0===D&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<R&&void 0!==(_=s(1,V,r,e,N,C,z.length,c,f,c))&&0===(U=(V=_.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=V+u.charAt(F);break}default:58!==V.charCodeAt(U-1)&&(z+=i(V,d,p,V.charCodeAt(2)))}j=M=D=d=0,V="",p=u.charCodeAt(++F)}}switch(p){case 13:case 10:47===E?E=0:0===1+d&&107!==c&&0<V.length&&(M=1,V+="\0"),0<R*L&&s(0,V,r,e,N,C,z.length,c,f,c),C=1,N++;break;case 59:case 125:if(0===E+k+T+S){C++;break}default:switch(C++,m=u.charAt(F),p){case 9:case 32:if(0===k+S+E)switch(I){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===k+E+S&&(M=j=1,m="\f"+m);break;case 108:if(0===k+E+S+x&&0<D)switch(F-D){case 2:112===I&&58===u.charCodeAt(F-3)&&(x=I);case 8:111===O&&(x=O)}break;case 58:0===k+E+S&&(D=F);break;case 44:0===E+T+k+S&&(M=1,m+="\r");break;case 34:case 39:0===E&&(k=k===p?0:0===k?p:k);break;case 91:0===k+E+T&&S++;break;case 93:0===k+E+T&&S--;break;case 41:0===k+E+S&&T--;break;case 40:if(0===k+E+S){if(0===d)if(2*I+3*O===533);else d=1;T++}break;case 64:0===E+T+k+S+D+v&&(v=1);break;case 42:case 47:if(!(0<k+S+T))switch(E){case 0:switch(2*p+3*u.charCodeAt(F+1)){case 235:E=47;break;case 220:U=F,E=42}break;case 42:47===p&&42===I&&U+2!==F&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,F+1)),m="",E=0)}}0===E&&(V+=m)}O=I,I=p,F++}if(0<(U=z.length)){if(M=r,0<R&&(void 0!==(_=s(2,z,M,e,N,C,U,c,f,c))&&0===(z=_).length))return K+z+H;if(z=M.join(",")+"{"+z+"}",0!==A*x){switch(2!==A||o(z,2)||(x=0),x){case 111:z=z.replace(b,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}x=0}}return K+z+H}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&o(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(I,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(T,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(S," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<R;++f)switch(h=O[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,N,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(P,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,N,C,o.length,0,0,0))&&(o=i)),"",x=0,C=N=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,E=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,C=1,N=1,x=0,A=1,P=[],O=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=O.length=0;break;default:if("function"===typeof t)O[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},ZT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ek=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},tk=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nk=ek((function(e){return tk.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),rk=n(2110),ik=n.n(rk);function ok(){return(ok=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ak=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},sk=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,QT.typeOf)(e)},uk=Object.freeze([]),ck=Object.freeze({});function lk(e){return"function"==typeof e}function hk(e){return e.displayName||e.name||"Component"}function fk(e){return e&&"string"==typeof e.styledComponentId}var dk="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",pk="undefined"!=typeof window&&"HTMLElement"in window,vk=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function mk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var gk=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&mk(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),yk=new Map,bk=new Map,_k=1,wk=function(e){if(yk.has(e))return yk.get(e);for(;bk.has(_k);)_k++;var t=_k++;return yk.set(e,t),bk.set(t,e),t},Sk=function(e){return bk.get(e)},Ek=function(e,t){t>=_k&&(_k=t+1),yk.set(e,t),bk.set(t,e)},Tk="style["+dk+'][data-styled-version="5.3.3"]',kk=new RegExp("^"+dk+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ik=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Ck=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(kk);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Ek(c,u),Ik(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Nk=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},xk=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(dk))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(dk,"active"),r.setAttribute("data-styled-version","5.3.3");var a=Nk();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Ak=function(){function e(e){var t=this.element=xk(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}mk(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Pk=function(){function e(e){var t=this.element=xk(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ok=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Rk=pk,Dk={isServer:!pk,useCSSOMInjection:!vk},Lk=function(){function e(e,t,n){void 0===e&&(e=ck),void 0===t&&(t={}),this.options=ok({},Dk,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&pk&&Rk&&(Rk=!1,function(e){for(var t=document.querySelectorAll(Tk),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(dk)&&(Ck(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return wk(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ok({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ok(i):r?new Ak(i):new Pk(i),new gk(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(wk(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(wk(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(wk(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=Sk(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=dk+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Fk=/(a)(d)/gi,Mk=function(e){return String.fromCharCode(e+(e>25?39:97))};function jk(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Mk(t%52)+n;return(Mk(t%52)+n).replace(Fk,"$1-$2")}var Uk=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Bk=function(e){return Uk(5381,e)};function qk(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(lk(n)&&!fk(n))return!1}return!0}var Vk=Bk("5.3.3"),zk=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&qk(e),this.componentId=t,this.baseHash=Uk(Vk,t),this.baseStyle=n,Lk.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=sI(this.rules,e,t,n).join(""),a=jk(Uk(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Uk(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=sI(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Uk(c,p+h),l+=p}}if(l){var v=jk(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Hk=/^\s*\/\/.*$/gm,Kk=[":","[",".","#"];function Gk(e){var t,n,r,i,o=void 0===e?ck:e,a=o.options,s=void 0===a?ck:a,u=o.plugins,c=void 0===u?uk:u,l=new XT(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==Kk.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Hk,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||mk(15),Uk(e,t.name)}),5381).toString():"",p}var Wk=r.createContext(),Jk=(Wk.Consumer,r.createContext()),Qk=(Jk.Consumer,new Lk),$k=Gk();function Yk(){return(0,r.useContext)(Wk)||Qk}function Xk(){return(0,r.useContext)(Jk)||$k}function Zk(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],o=Yk(),a=(0,r.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return Gk({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){YT()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(Wk.Provider,{value:a},r.createElement(Jk.Provider,{value:s},e.children))}var eI=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=$k);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return mk(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=$k),this.name+e.hash},e}(),tI=/([A-Z])/,nI=/([A-Z])/g,rI=/^ms-/,iI=function(e){return"-"+e.toLowerCase()};function oI(e){return tI.test(e)?e.replace(nI,iI).replace(rI,"-ms-"):e}var aI=function(e){return null==e||!1===e||""===e};function sI(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=sI(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return aI(e)?"":fk(e)?"."+e.styledComponentId:lk(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:sI(e(t),t,n,r):e instanceof eI?n?(e.inject(n,r),e.getName(r)):e:sk(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!aI(t[a])&&(Array.isArray(t[a])&&t[a].isCss||lk(t[a])?o.push(oI(a)+":",t[a],";"):sk(t[a])?o.push.apply(o,e(t[a],a)):o.push(oI(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ZT?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var uI=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function cI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lk(e)||sk(e)?uI(sI(ak(uk,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:uI(sI(ak(e,n)))}new Set;var lI=function(e,t,n){return void 0===n&&(n=ck),e.theme!==n.theme&&e.theme||t||n.theme},hI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,fI=/(^-|-$)/g;function dI(e){return e.replace(hI,"-").replace(fI,"")}var pI=function(e){return jk(Bk(e)>>>0)};function vI(e){return"string"==typeof e&&!0}var mI=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},gI=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function yI(e,t,n){var r=e[n];mI(t)&&mI(r)?bI(r,t):e[n]=t}function bI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(mI(a))for(var s in a)gI(s)&&yI(e,a[s],s)}return e}var _I=r.createContext();_I.Consumer;var wI={};function SI(e,t,n){var i=fk(e),o=!vI(e),a=t.attrs,s=void 0===a?uk:a,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":dI(e);wI[n]=(wI[n]||0)+1;var r=n+"-"+pI("5.3.3"+n+wI[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,h=void 0===l?function(e){return vI(e)?"styled."+e:"Styled("+hk(e)+")"}(e):l,f=t.displayName&&t.componentId?dI(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new zk(n,f,i?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,h=e.target,f=function(e,t,n){void 0===e&&(e=ck);var r=ok({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in lk(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(lI(t,(0,r.useContext)(_I),s)||ck,t,o),d=f[0],p=f[1],v=function(e,t,n,r){var i=Yk(),o=Xk();return t?e.generateAndInjectStyles(ck,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,d),m=n,g=p.$as||t.$as||p.as||t.as||h,y=vI(g),b=p!==t?ok({},t,{},p):t,_={};for(var w in b)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?_.as=b[w]:(c?c(w,nk,g):!y||nk(w))&&(_[w]=b[w]));return t.style&&p.style!==t.style&&(_.style=ok({},t.style,{},p.style)),_.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),_.ref=m,(0,r.createElement)(g,_)}(v,e,t,g)};return y.displayName=h,(v=r.forwardRef(y)).attrs=d,v.componentStyle=m,v.displayName=h,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):uk,v.styledComponentId=f,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(vI(e)?e:dI(hk(e)));return SI(e,ok({},i,{attrs:d,componentId:o}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?bI({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},o&&ik()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var EI=function(e){return function e(t,n,r){if(void 0===r&&(r=ck),!(0,QT.isValidElementType)(n))return mk(1,String(n));var i=function(){return t(n,r,cI.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ok({},r,{},i))},i.attrs=function(i){return e(t,n,ok({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(SI,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){EI[e]=EI(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=qk(e),Lk.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(sI(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Lk.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Nk();return"<style "+[n&&'nonce="'+n+'"',dk+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?mk(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return mk(2);var n=((t={})[dk]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Nk();return i&&(n.nonce=i),[r.createElement("style",ok({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Lk({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?mk(2):r.createElement(Zk,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return mk(3)}}();var TI,kI,II,CI,NI,xI,AI,PI=EI,OI=function(){var e=s((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){KT.collection("userInfo").onSnapshot((function(e){n(e.docs.map((function(e){return e.data()})))}))}),[]),console.log(t),(0,GT.jsxs)(RI,{children:[(0,GT.jsx)(DI,{children:"DANH S\xc1NH \u0110\u0102NG K\xcd"}),t.map((function(e){return(0,GT.jsxs)(LI,{children:[(0,GT.jsx)(FI,{children:e.name}),(0,GT.jsx)(MI,{children:e.phone}),(0,GT.jsx)(jI,{children:e.email}),(0,GT.jsx)(UI,{children:e.address})]})}))]})},RI=PI.div(TI||(TI=JT(["\n  width: 80%;\n  height: 100vh;\n  margin: 0 auto;\n"]))),DI=PI.h1(kI||(kI=JT(["\n  font-size: 20px;\n  margin: 40px;\n"]))),LI=PI.div(II||(II=JT(["\n  display: flex;\n  flex: 1;\n  color: rgb(50, 150, 150);\n"]))),FI=PI.div(CI||(CI=JT(["\n  text-align: start;\n  padding-right: 20px;\n  width: 25%;\n  font-size: 18px;\n"]))),MI=PI.div(NI||(NI=JT(["\n  width: 25%;\n  text-align: start;\n  font-size: 18px;\n"]))),jI=PI.div(xI||(xI=JT(["\n  width: 25%;\n  text-align: start;\n  font-size: 18px;\n"]))),UI=PI.a(AI||(AI=JT(["\n  width: 25%;\n  text-align: start;\n  padding-left: 80px;\n  cursor: pointer;\n  font-size: 18px;\n"])));var BI=function(){return(0,GT.jsx)(z,{children:(0,GT.jsxs)(T,{children:[(0,GT.jsx)(S,{path:"/",exact:!0,element:(0,GT.jsx)(WT,{})}),(0,GT.jsx)(S,{path:"/list",exact:!0,element:(0,GT.jsx)(OI,{})})]})})},qI=(n(8210),"data-lock-scrolling"),VI="data-lock-scrolling-wrapper",zI=0,HI=function(){function e(){G(this,e),this.scrollLocks=0,this.locked=!1}return K(e,[{key:"registerScrollLock",value:function(){this.scrollLocks+=1,this.handleScrollLocking()}},{key:"unregisterScrollLock",value:function(){this.scrollLocks-=1,this.handleScrollLocking()}},{key:"handleScrollLocking",value:function(){if(!Wt){var e=this.scrollLocks,t=document.body,n=t.firstElementChild;0===e?(t.removeAttribute(qI),n&&n.removeAttribute(VI),window.scroll(0,zI),this.locked=!1):e>0&&!this.locked&&(zI=window.pageYOffset,t.setAttribute(qI,""),n&&(n.setAttribute(VI,""),n.scrollTop=zI),this.locked=!0)}}},{key:"resetScrollPosition",value:function(){zI=0}}]),e}(),KI=function(){function e(t){G(this,e),this.idGeneratorFactory=void 0,this.idGenerators={},this.idGeneratorFactory=t}return K(e,[{key:"nextId",value:function(e){return this.idGenerators[e]||(this.idGenerators[e]=this.idGeneratorFactory(e)),this.idGenerators[e]()}}]),e}();function GI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=1;return function(){return"Polaris".concat(e).concat(t++)}}var WI=/\[(.*?)\]|(\w+)/g;function JI(e,t,n){if(null!=e){for(var r=Array.isArray(t)?t:function(e){var t,n=[];for(;t=WI.exec(e);){var r=s(t,3),i=r[1],o=r[2];n.push(i||o)}return n}(t),i=e,o=0;o<r.length;o++){var a=i[r[o]];if(void 0===a)return n;i=a}return i}}function QI(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=$I(e,a)}return e}function $I(e,t){var n=Array.isArray(e)?ut(e):Ae({},e);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(YI(t[r])&&YI(n[r])?n[r]=$I(n[r],t[r]):n[r]=t[r]);return n}function YI(e){return null!==e&&"object"===typeof e}var XI=/{([^}]*)}/g,ZI=function(){function e(t){G(this,e),this.translation={},this.translation=Array.isArray(t)?QI.apply(void 0,ut(t.slice().reverse())):t}return K(e,[{key:"translate",value:function(e,t){var n=JI(this.translation,e,"");return n?t?n.replace(XI,(function(n){var r=n.substring(1,n.length-1);if(void 0===t[r]){var i=JSON.stringify(t);throw new Error("Error in translation for key '".concat(e,"'. No replacement found for key '").concat(r,"'. The following replacements were passed: '").concat(i,"'"))}return t[r]})):n:""}},{key:"translationKeyExists",value:function(e){return Boolean(JI(this.translation,e))}}]),e}(),eC=(0,r.createContext)(void 0),tC=(0,r.createContext)(void 0),nC=(0,r.createContext)(void 0),rC=function(e){var t=e.children,n=s((0,r.useState)(yn().matches),2),i=n[0],o=n[1],a=(0,r.useCallback)(an()((function(){i!==yn().matches&&o(!i)}),40,{trailing:!0,leading:!0,maxWait:40}),[i]);(0,r.useEffect)((function(){o(yn().matches)}),[]);var u=(0,r.useMemo)((function(){return{isNavigationCollapsed:i}}),[i]);return r.createElement(nC.Provider,{value:u},r.createElement(Pn,{event:"resize",handler:a}),t)};function iC(e,t){return r.createElement("div",{id:"PolarisPortalsContainer",ref:t})}var oC=(0,r.forwardRef)(iC);function aC(e){var t=e.children,n=e.container,i=s((0,r.useState)(null),2),o=i[0],a=i[1],u=null!==n&&void 0!==n?n:o,c=(0,r.useMemo)((function(){return{container:u}}),[u]);return r.createElement(It.Provider,{value:c},t,n?null:r.createElement(oC,{ref:a}))}var sC=(0,r.createContext)(void 0);function uC(e){var t=e.children,n=s((0,r.useState)([]),2),i=n[0],o=n[1],a=(0,r.useCallback)((function(e){o((function(t){return[].concat(ut(t),[e])}))}),[]),u=(0,r.useCallback)((function(e){var t=!0;return o((function(n){var r=ut(n),i=r.indexOf(e);return-1===i?t=!1:r.splice(i,1),r})),t}),[]),c=(0,r.useMemo)((function(){return{trapFocusList:i,add:a,remove:u}}),[a,i,u]);return r.createElement(sC.Provider,{value:c},t)}var cC=function(e){J(n,e);var t=ee(n);function n(e){var r;G(this,n),(r=t.call(this,e)).stickyManager=void 0,r.scrollLockManager=void 0,r.uniqueIdFactory=void 0,r.stickyManager=new _n,r.scrollLockManager=new HI,r.uniqueIdFactory=new KI(GI);var i=r.props,o=i.i18n,a=i.linkComponent;return r.state={link:a,intl:new ZI(o)},r}return K(n,[{key:"componentDidMount",value:function(){null!=document&&this.stickyManager.setContainer(document)}},{key:"componentDidUpdate",value:function(e){var t=e.i18n,n=e.linkComponent,r=this.props,i=r.i18n,o=r.linkComponent;i===t&&o===n||this.setState({link:o,intl:new ZI(i)})}},{key:"render",value:function(){var e=this.props,t=e.theme,n=void 0===t?{}:t,i=e.features,o=void 0===i?{}:i,a=e.children,s=this.state,u=s.intl,c=s.link;return r.createElement(eC.Provider,{value:o},r.createElement(ie.Provider,{value:u},r.createElement(tC.Provider,{value:this.scrollLockManager},r.createElement(En.Provider,{value:this.stickyManager},r.createElement(Se.Provider,{value:this.uniqueIdFactory},r.createElement(Rr.Provider,{value:c},r.createElement(Wn,{theme:n},r.createElement(rC,null,r.createElement(aC,null,r.createElement(uC,null,a))))))))))}}]),n}(r.Component),lC=JSON.parse('{"Polaris":{"ActionMenu":{"Actions":{"moreActions":"More actions"},"RollupActions":{"rollupButton":"View actions"}},"Avatar":{"label":"Avatar","labelWithInitials":"Avatar with initials {initials}"},"Autocomplete":{"spinnerAccessibilityLabel":"Loading","ellipsis":"{content}\u2026"},"Badge":{"PROGRESS_LABELS":{"incomplete":"Incomplete","partiallyComplete":"Partially complete","complete":"Complete"},"STATUS_LABELS":{"info":"Info","success":"Success","warning":"Warning","critical":"Critical","attention":"Attention","new":"New"},"progressAndStatus":"{statusLabel} {progressLabel}"},"Button":{"spinnerAccessibilityLabel":"Loading","connectedDisclosureAccessibilityLabel":"Related actions"},"Common":{"checkbox":"checkbox","undo":"Undo","cancel":"Cancel","newWindowAccessibilityHint":"(opens a new window)","clear":"Clear","close":"Close","submit":"Submit","more":"More"},"ContextualSaveBar":{"save":"Save","discard":"Discard"},"DataTable":{"sortAccessibilityLabel":"sort {direction} by","navAccessibilityLabel":"Scroll table {direction} one column","totalsRowHeading":"Totals","totalRowHeading":"Total"},"DatePicker":{"previousMonth":"Show previous month, {previousMonthName} {showPreviousYear}","nextMonth":"Show next month, {nextMonth} {nextYear}","today":"Today ","start":"Start of range","end":"End of range","months":{"january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December"},"days":{"monday":"Monday","tuesday":"Tuesday","wednesday":"Wednesday","thursday":"Thursday","friday":"Friday","saturday":"Saturday","sunday":"Sunday"},"daysAbbreviated":{"monday":"Mo","tuesday":"Tu","wednesday":"We","thursday":"Th","friday":"Fr","saturday":"Sa","sunday":"Su"}},"DiscardConfirmationModal":{"title":"Discard all unsaved changes","message":"If you discard changes, you\u2019ll delete any edits you made since you last saved.","primaryAction":"Discard changes","secondaryAction":"Continue editing"},"DropZone":{"single":{"overlayTextFile":"Drop file to upload","overlayTextImage":"Drop image to upload","actionTitleFile":"Add file","actionTitleImage":"Add image","actionHintFile":"or drop file to upload","actionHintImage":"or drop image to upload","labelFile":"Upload file","labelImage":"Upload image"},"allowMultiple":{"overlayTextFile":"Drop files to upload","overlayTextImage":"Drop images to upload","actionTitleFile":"Add files","actionTitleImage":"Add images","actionHintFile":"or drop files to upload","actionHintImage":"or drop images to upload","labelFile":"Upload files","labelImage":"Upload images"},"errorOverlayTextFile":"File type is not valid","errorOverlayTextImage":"Image type is not valid"},"EmptySearchResult":{"altText":"Empty search results"},"Frame":{"skipToContent":"Skip to content","navigationLabel":"Navigation","Navigation":{"closeMobileNavigationLabel":"Close navigation"}},"Filters":{"moreFilters":"More filters","moreFiltersWithCount":"More filters ({count})","filter":"Filter {resourceName}","noFiltersApplied":"No filters applied","cancel":"Cancel","done":"Done","clearAllFilters":"Clear all filters","clear":"Clear","clearLabel":"Clear {filterName}"},"IndexProvider":{"defaultItemSingular":"Item","defaultItemPlural":"Items","allItemsSelected":"All {itemsLength}+ {resourceNamePlural} are selected.","selected":"{selectedItemsCount} selected","a11yCheckboxDeselectAllSingle":"Deselect {resourceNameSingular}","a11yCheckboxSelectAllSingle":"Select {resourceNameSingular}","a11yCheckboxDeselectAllMultiple":"Deselect all {itemsLength} {resourceNamePlural}","a11yCheckboxSelectAllMultiple":"Select all {itemsLength} {resourceNamePlural}"},"IndexTable":{"emptySearchTitle":"No {resourceNamePlural} found","emptySearchDescription":"Try changing the filters or search term","onboardingBadgeText":"New","resourceLoadingAccessibilityLabel":"Loading {resourceNamePlural}\u2026","selectAllLabel":"Select all {resourceNamePlural}","selected":"{selectedItemsCount} selected","undo":"Undo","selectAllItems":"Select all {itemsLength}+ {resourceNamePlural}","selectItem":"Select {resourceName}","selectButtonText":"Select"},"Loading":{"label":"Page loading bar"},"Modal":{"iFrameTitle":"body markup","modalWarning":"These required properties are missing from Modal: {missingProps}"},"Page":{"Header":{"rollupActionsLabel":"View actions for {title}"}},"Pagination":{"previous":"Previous","next":"Next","pagination":"Pagination"},"ProgressBar":{"negativeWarningMessage":"Values passed to the progress prop shouldn\u2019t be negative. Resetting {progress} to 0.","exceedWarningMessage":"Values passed to the progress prop shouldn\u2019t exceed 100. Setting {progress} to 100."},"ResourceList":{"sortingLabel":"Sort by","defaultItemSingular":"item","defaultItemPlural":"items","showing":"Showing {itemsCount} {resource}","showingTotalCount":"Showing {itemsCount} of {totalItemsCount} {resource}","loading":"Loading {resource}","selected":"{selectedItemsCount} selected","allItemsSelected":"All {itemsLength}+ {resourceNamePlural} in your store are selected.","allFilteredItemsSelected":"All {itemsLength}+ {resourceNamePlural} in this filter are selected.","selectAllItems":"Select all {itemsLength}+ {resourceNamePlural} in your store","selectAllFilteredItems":"Select all {itemsLength}+ {resourceNamePlural} in this filter","emptySearchResultTitle":"No {resourceNamePlural} found","emptySearchResultDescription":"Try changing the filters or search term","selectButtonText":"Select","a11yCheckboxDeselectAllSingle":"Deselect {resourceNameSingular}","a11yCheckboxSelectAllSingle":"Select {resourceNameSingular}","a11yCheckboxDeselectAllMultiple":"Deselect all {itemsLength} {resourceNamePlural}","a11yCheckboxSelectAllMultiple":"Select all {itemsLength} {resourceNamePlural}","ariaLiveSingular":"{itemsLength} item","ariaLivePlural":"{itemsLength} items","Item":{"actionsDropdownLabel":"Actions for {accessibilityLabel}","actionsDropdown":"Actions dropdown","viewItem":"View details for {itemName}"},"BulkActions":{"actionsActivatorLabel":"Actions","moreActionsActivatorLabel":"More actions","warningMessage":"To provide a better user experience. There should only be a maximum of {maxPromotedActions} promoted actions."},"FilterCreator":{"filterButtonLabel":"Filter","selectFilterKeyPlaceholder":"Select a filter\u2026","addFilterButtonLabel":"Add filter","showAllWhere":"Show all {resourceNamePlural} where:"},"FilterControl":{"textFieldLabel":"Search {resourceNamePlural}"},"FilterValueSelector":{"selectFilterValuePlaceholder":"Select a filter\u2026"},"DateSelector":{"dateFilterLabel":"Select a value","dateValueLabel":"Date","dateValueError":"Match YYYY-MM-DD format","dateValuePlaceholder":"YYYY-MM-DD","SelectOptions":{"PastWeek":"in the last week","PastMonth":"in the last month","PastQuarter":"in the last 3 months","PastYear":"in the last year","ComingWeek":"next week","ComingMonth":"next month","ComingQuarter":"in the next 3 months","ComingYear":"in the next year","OnOrBefore":"on or before","OnOrAfter":"on or after"},"FilterLabelForValue":{"past_week":"in the last week","past_month":"in the last month","past_quarter":"in the last 3 months","past_year":"in the last year","coming_week":"next week","coming_month":"next month","coming_quarter":"in the next 3 months","coming_year":"in the next year","on_or_before":"before {date}","on_or_after":"after {date}"}}},"SkeletonPage":{"loadingLabel":"Page loading"},"Tabs":{"toggleTabsLabel":"More tabs"},"Tag":{"ariaLabel":"Remove {children}"},"TextField":{"characterCount":"{count} characters","characterCountWithMaxLength":"{count} of {limit} characters used"},"TooltipOverlay":{"accessibilityLabel":"Tooltip: {label}"},"TopBar":{"toggleMenuLabel":"Toggle menu","SearchField":{"clearButtonLabel":"Clear","search":"Search"}},"MediaCard":{"popoverButton":"Actions"},"VideoThumbnail":{"playButtonA11yLabel":{"default":"Play video","defaultWithDuration":"Play video of length {duration}","duration":{"hours":{"other":{"only":"{hourCount} hours","andMinutes":"{hourCount} hours and {minuteCount} minutes","andMinute":"{hourCount} hours and {minuteCount} minute","minutesAndSeconds":"{hourCount} hours, {minuteCount} minutes, and {secondCount} seconds","minutesAndSecond":"{hourCount} hours, {minuteCount} minutes, and {secondCount} second","minuteAndSeconds":"{hourCount} hours, {minuteCount} minute, and {secondCount} seconds","minuteAndSecond":"{hourCount} hours, {minuteCount} minute, and {secondCount} second","andSeconds":"{hourCount} hours and {secondCount} seconds","andSecond":"{hourCount} hours and {secondCount} second"},"one":{"only":"{hourCount} hour","andMinutes":"{hourCount} hour and {minuteCount} minutes","andMinute":"{hourCount} hour and {minuteCount} minute","minutesAndSeconds":"{hourCount} hour, {minuteCount} minutes, and {secondCount} seconds","minutesAndSecond":"{hourCount} hour, {minuteCount} minutes, and {secondCount} second","minuteAndSeconds":"{hourCount} hour, {minuteCount} minute, and {secondCount} seconds","minuteAndSecond":"{hourCount} hour, {minuteCount} minute, and {secondCount} second","andSeconds":"{hourCount} hour and {secondCount} seconds","andSecond":"{hourCount} hour and {secondCount} second"}},"minutes":{"other":{"only":"{minuteCount} minutes","andSeconds":"{minuteCount} minutes and {secondCount} seconds","andSecond":"{minuteCount} minutes and {secondCount} second"},"one":{"only":"{minuteCount} minute","andSeconds":"{minuteCount} minute and {secondCount} seconds","andSecond":"{minuteCount} minute and {secondCount} second"}},"seconds":{"other":"{secondCount} seconds","one":"{secondCount} second"}}}}}}');i.render((0,GT.jsx)(cC,{i18n:lC,children:(0,GT.jsx)(r.StrictMode,{children:(0,GT.jsx)(BI,{})})}),document.getElementById("root"))},3837:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(9388),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=o(e[n],t[n]));return e}!function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}();function a(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var s=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,u.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),u=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?c(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",l=new s(i,u,r);return l},e}();function c(e,t){return e.replace(l,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var l=/\{\$([^}]+)}/g;function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function f(e,t){var n=new d(e,t);return n.subscribe.bind(n)}var d=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=p),void 0===r.error&&(r.error=p),void 0===r.complete&&(r.complete=p);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function p(){}var v,m,g=n(7556),y=n(9386),b=((v={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",v["bad-app-name"]="Illegal App name: '{$appName}",v["duplicate-app"]="Firebase App named '{$appName}' already exists",v["app-deleted"]="Firebase App named '{$appName}' already deleted",v["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",v["invalid-log-argument"]="First argument to `onLog` must be null or a function.",v),_=new u("app","Firebase",b),w="@firebase/app",S="[DEFAULT]",E=((m={})[w]="fire-core",m["@firebase/analytics"]="fire-analytics",m["@firebase/auth"]="fire-auth",m["@firebase/database"]="fire-rtdb",m["@firebase/functions"]="fire-fn",m["@firebase/installations"]="fire-iid",m["@firebase/messaging"]="fire-fcm",m["@firebase/performance"]="fire-perf",m["@firebase/remote-config"]="fire-rc",m["@firebase/storage"]="fire-gcs",m["@firebase/firestore"]="fire-fst",m["fire-js"]="fire-js",m["firebase-wrapper"]="fire-js-all",m),T=new y.Yd("@firebase/app"),k=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o(void 0,e),this.container=new g.H0(t.name),this._addComponent(new g.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=S),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=S),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){T.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw _.create("app-deleted",{appName:this.name_})},e}();k.prototype.name&&k.prototype.options||k.prototype.delete||console.log("dc");var I=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=S);var a=o.name;if("string"!==typeof a||!a)throw _.create("bad-app-name",{appName:String(a)});if(h(t,a))throw _.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=E[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void T.warn(u.join(" "))}a(new g.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:y.Ub,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw _.create("invalid-log-argument");(0,y.Am)(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:a,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!h(t,e=e||S))throw _.create("no-app",{appName:e});return t[e]}function a(a){var s=a.name;if(n.has(s))return T.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?r[s]:null;if(n.set(s,a),"PUBLIC"===a.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw _.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==a.serviceProps&&o(u,a.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,a.multipleInstances?e:[])}}for(var c=0,l=Object.keys(t);c<l.length;c++){var h=l[c];t[h]._addComponent(a)}return"PUBLIC"===a.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(k);return t.INTERNAL=(0,r.pi)((0,r.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o(t,e)},createSubscribe:f,ErrorFactory:u,deepExtend:o}),t}(),C=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){T.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var N=self.firebase.SDK_VERSION;N&&N.indexOf("LITE")>=0&&T.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var x=I.initializeApp;I.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a()&&T.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),x.apply(void 0,e)};var A=I;!function(e,t){e.INTERNAL.registerComponent(new g.wA("platform-logger",(function(e){return new C(e)}),"PRIVATE")),e.registerVersion(w,"0.6.20",t),e.registerVersion("fire-js","")}(A);var P=A},7556:function(e,t,n){"use strict";n.d(t,{wA:function(){return h},H0:function(){return p},zt:function(){return d}});var r=n(9388),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};var o=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();var a=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,s.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),s=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?u(o,r):"Error",c=this.serviceName+": "+s+" ("+i+").",l=new a(i,c,r);return l},e}();function u(e,t){return e.replace(c,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var c=/\{\$([^}]+)}/g;!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=l),void 0===r.error&&(r.error=l),void 0===r.complete&&(r.complete=l);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function l(){}var h=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),f="[DEFAULT]",d=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=f);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new o;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:f,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:f})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),s=a[0],u=a[1],c=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=f),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=f),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.instanceIdentifier,o=void 0===i?f:i,a=e.options,s=void 0===a?{}:a,u=this.normalizeInstanceIdentifier(o);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=(0,r.CR)(h.value,2),p=d[0],v=d[1];u===this.normalizeInstanceIdentifier(p)&&v.resolve(c)}}catch(m){t={error:m}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===f?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:f:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var p=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},96:function(e,t,n){"use strict";var r=n(3837),i=n(7556),o=n(9388),a=!1,s=!1,u="${JSCORE_VERSION}",c=function(e,t){if(!e)throw l(t)},l=function(e){return new Error("Firebase Database ("+u+") INTERNAL ASSERT FAILED: "+e)},h=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},d=function(e){try{return f.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var m=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function b(){return!0===a||!0===s}var _=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return(0,o.ZT)(t,e),t}(Error),w=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new _(i,s,r);return u},e}();function S(e,t){return e.replace(E,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var E=/\{\$([^}]+)}/g;function T(e){return JSON.parse(e)}function k(e){return JSON.stringify(e)}var I=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=T(d(o[0])||""),n=T(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function x(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var P=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();!function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}();function O(){}var R=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function D(e,t){return e+" failed: "+t+" argument "}function L(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(D(e,t)+"must be a valid function.")}function F(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(D(e,t)+"must be a valid context object.")}var M=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function j(e){return e&&e._delegate?e._delegate:e}var U=n(9386);e=n.hmd(e);var B=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),k(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:T(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),q=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return C(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),V=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new B(t)}}catch(n){}return new q},z=V("localStorage"),H=V("sessionStorage"),K=new U.Yd("@firebase/database"),G=function(){var e=1;return function(){return e++}}(),W=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,c(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new P;n.update(t);var r=n.digest();return f.encodeByteArray(r)},J=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"===typeof o&&"number"===typeof o.length?r+=e.apply(null,o):r+="object"===typeof o?k(o):o,r+=" "}return r},Q=null,$=!0,Y=function(e,t){c(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(K.logLevel=U.in.VERBOSE,Q=K.log.bind(K),t&&H.set("logging_enabled",!0)):"function"===typeof e?Q=e:(Q=null,H.remove("logging_enabled"))},X=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===$&&($=!1,null===Q&&!0===H.get("logging_enabled")&&Y(!0)),Q){var n=J.apply(null,e);Q(n)}},Z=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];X.apply(void 0,(0,o.ev)([e],(0,o.CR)(t)))}},ee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+J.apply(void 0,(0,o.ev)([],(0,o.CR)(e)));K.error(n)},te=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+J.apply(void 0,(0,o.ev)([],(0,o.CR)(e)));throw K.error(n),new Error(n)},ne=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+J.apply(void 0,(0,o.ev)([],(0,o.CR)(e)));K.warn(n)},re=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ie="[MIN_NAME]",oe="[MAX_NAME]",ae=function(e,t){if(e===t)return 0;if(e===ie||t===oe)return-1;if(t===ie||e===oe)return 1;var n=me(e),r=me(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},se=function(e,t){return e===t?0:e<t?-1:1},ue=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+k(t))},ce=function e(t){if("object"!==typeof t||null===t)return k(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=k(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},le=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function he(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var fe=function(e){c(!re(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(o=0;o<64;o+=8){var h=parseInt(u.substr(o,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var de=new RegExp("^-?(0*)\\d{1,10}$"),pe=-2147483648,ve=2147483647,me=function(e){if(de.test(e)){var t=Number(e);if(t>=pe&&t<=ve)return t}return null},ge=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw ne("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ye=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},be=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(X("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ne(e)},e}(),_e=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),we="5",Se=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ee="websocket",Te="long_polling",ke=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=z.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&z.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Ie(e,t,n){var r;if(c("string"===typeof t,"typeof type must == string"),c("object"===typeof n,"typeof params must == object"),t===Ee)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Te)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return he(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Ce=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),C(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return p(this.counters_)},e}(),Ne={},xe={};function Ae(e){var t=e.toString();return Ne[t]||(Ne[t]=new Ce),Ne[t]}var Pe=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&ge((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Oe="start",Re="close",De=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Z(e),this.stats_=Ae(t),this.urlFn=function(e){return Ie(t,Te,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Pe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(b()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Le((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,o.CR)(e,5),i=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Oe)n.id=a,n.password=s;else{if(i!==Re)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,o.CR)(e,2),i=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=we,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!==typeof location&&location.hostname&&Se.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!b()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=k(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=function(e){var t=h(e);return f.encodeByteArray(t,!0)}(t),r=le(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!b()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=k(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Le=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,b())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=G(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){X("frame writing exception"),s.stack&&X(s.stack),X(s)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||X("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;b()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){X("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Fe="";function Me(e){Fe=e}var je=null;"undefined"!==typeof MozWebSocket?je=MozWebSocket:"undefined"!==typeof WebSocket&&(je=WebSocket);var Ue=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Z(this.connId),this.stats_=Ae(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={};return r.v=we,!b()&&"undefined"!==typeof location&&location.hostname&&Se.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),Ie(e,Ee,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,z.set("previous_websocket_failure",!0);try{if(b()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+Fe+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},o={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a}),this.mySock=new je(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new je(this.connURL,[],i)}}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==je&&!e.forceDisallow_},e.previouslyFailed=function(){return z.isInMemoryStorage||!0===z.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){z.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=T(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(c(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=k(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=le(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Be=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[De,Ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Ue&&Ue.isAvailable(),a=i&&!Ue.previouslyFailed();if(t.webSocketOnly&&(i||ne("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ue];else{var s=this.transports_=[];try{for(var u=(0,o.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),qe=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Z("c:"+this.id+":"),this.transportManager_=new Be(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ye((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=ue("t",e),n=ue("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=ue("t",e),n=ue("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=ue("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ee("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ee("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),we!==n&&ne("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ye((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ye((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(z.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Ve=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ze=function(){function e(e){this.allowedEvents_=e,this.listeners_={},c(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,o.ev)([],(0,o.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){c(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),He=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||y()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,o.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return c("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ze),Ke=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function Ge(){return new Ke("")}function We(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Je(e){return e.pieces_.length-e.pieceNum_}function Qe(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ke(e.pieces_,t)}function $e(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ye(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Xe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ke(t,0)}function Ze(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ke)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ke(n,0)}function et(e){return e.pieceNum_>=e.pieces_.length}function tt(e,t){var n=We(e),r=We(t);if(null===n)return t;if(n===r)return tt(Qe(e),Qe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function nt(e,t){for(var n=Ye(e,0),r=Ye(t,0),i=0;i<n.length&&i<r.length;i++){var o=ae(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function rt(e,t){if(Je(e)!==Je(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function it(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Je(e)>Je(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ot=function(e,t){this.errorPrefix_=t,this.parts_=Ye(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=M(this.parts_[n]);at(this)};function at(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+st(e))}function st(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ut,ct,lt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,o.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return c("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ze),ht=1e3,ft=function(e){function t(n,r,i,o,a,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=Z("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=ht,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!b())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),lt.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&He.getInstance().on("online",c.onOnline_,c),c}return(0,o.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(k(i)),c(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new m,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),c(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),c(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&C(e,"w")){var n=N(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();ne("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||function(e){var t=I(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=I(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),c(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+k(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ee("Unrecognized action received from server: "+k(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;c(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ht,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ht,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ht),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this,s=this.lastSessionId,u=!1,l=null,h=function(){l?l.close():(u=!0,i())};this.realtime_={close:h,sendRequest:function(e){c(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){u?X("getToken() completed but was canceled"):(X("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,l=new qe(o,a.repoInfo_,a.applicationId_,n,r,i,(function(e){ne(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),s))})).then(null,(function(t){a.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&ne(t),h())}))}},t.prototype.interrupt=function(e){X("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){X("Resuming connection for reason: "+e),delete this.interruptReasons_[e],x(this.interruptReasons_)&&(this.reconnectDelay_=ht,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return ce(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Ke(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){X("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=(0,o.XA)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,(0,o.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";b()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Fe.replace(/\./g,"-")]=1,y()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=He.getInstance().currentlyOnline();return x(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Ve),dt=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),pt=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new dt(ie,e),r=new dt(ie,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return dt.MIN},e}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return ut},set:function(e){ut=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return ae(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw l("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return dt.MIN},t.prototype.maxPost=function(){return new dt(oe,ut)},t.prototype.makePost=function(e,t){return c("string"===typeof e,"KeyIndex indexValue must always be a string."),new dt(e,ut)},t.prototype.toString=function(){return".key"},t}(pt),mt=new vt,gt=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),yt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:_t.EMPTY_NODE,this.right=null!=o?o:_t.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return _t.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return _t.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),bt=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new yt(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),_t=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,yt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yt.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new gt(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new gt(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new gt(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new gt(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new bt,e}();function wt(e,t){return ae(e.name,t.name)}function St(e,t){return ae(e,t)}var Et,Tt,kt,It=function(e){return"number"===typeof e?"number:"+fe(e):"string:"+e},Ct=function(e){if(e.isLeafNode()){var t=e.val();c("string"===typeof t||"number"===typeof t||"object"===typeof t&&C(t,".sv"),"Priority must be a string or number.")}else c(e===ct||e.isEmpty(),"priority of unexpected type.");c(e===ct||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Nt=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,c(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ct(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Et},set:function(e){Et=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return et(t)?this:".priority"===We(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=We(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(c(".priority"!==r||1===Je(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+It(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?fe(this.value_):this.value_,this.lazyHash_=W(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(c(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return c(i>=0,"Unknown leaf type: "+n),c(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var xt,At,Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ae(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return dt.MIN},t.prototype.maxPost=function(){return new dt(oe,new Nt("[PRIORITY-POST]",kt))},t.prototype.makePost=function(e,t){var n=Tt(e);return new dt(t,new Nt("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(pt),Ot=new Pt,Rt=Math.log(2),Dt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Rt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Lt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new yt(a,o.node,yt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new yt(a,o.node,yt.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new yt(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,yt.BLACK):(s(h,yt.BLACK),s(h,yt.RED))}return o}(new Dt(e.length));return new _t(r||t,o)},Ft={},Mt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return c(Ft&&Ot,"ChildrenNode.ts has not been loaded"),xt=xt||new e({".priority":Ft},{".priority":Ot})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=N(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof _t?t:null},e.prototype.hasIndex=function(e){return C(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){c(t!==mt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(dt.Wrap),u=s.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=s.getNext();r=a?Lt(i,t.getCompare()):Ft;var l=t.toString(),h=(0,o.pi)({},this.indexSet_);h[l]=t;var f=(0,o.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(A(this.indexes_,(function(e,i){var o=N(r.indexSet_,i);if(c(o,"Missing index implementation for "+i),e===Ft){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(dt.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Lt(a,o.getCompare())}return Ft}var l=n.get(t.name),h=e;return l&&(h=h.remove(new dt(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(A(this.indexes_,(function(e){if(e===Ft)return e;var r=n.get(t.name);return r?e.remove(new dt(t.name,r)):e})),this.indexSet_)},e}(),jt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ct(this.priorityNode_),this.children_.isEmpty()&&c(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return At||(At=new e(new _t(St),null,Mt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||At},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?At:t},e.prototype.getChild=function(e){var t=We(e);return null===t?this:this.getImmediateChild(t).getChild(Qe(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(c(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new dt(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?At:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=We(e);if(null===n)return t;c(".priority"!==We(e)||1===Je(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Qe(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ot,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(Ot,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":W(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new dt(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new dt(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new dt(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,dt.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,dt.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ut?-1:0},e.prototype.withIndex=function(t){if(t===mt||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===mt||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ot),r=t.getIterator(Ot),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===mt?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ut=new(function(e){function t(){return e.call(this,new _t(St),jt.EMPTY_NODE,Mt.Default)||this}return(0,o.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return jt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(jt));Object.defineProperties(dt,{MIN:{value:new dt(ie,jt.EMPTY_NODE)},MAX:{value:new dt(oe,Ut)}}),vt.__EMPTY_NODE=jt.EMPTY_NODE,Nt.__childrenNodeConstructor=jt,ct=Ut,function(e){kt=e}(Ut);function Bt(e,t){if(void 0===t&&(t=null),null===e)return jt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),c(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Nt(e,Bt(t));if(e instanceof Array){var n=jt.EMPTY_NODE;return he(e,(function(t,r){if(C(e,t)&&"."!==t.substring(0,1)){var i=Bt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Bt(t))}var r=[],i=!1;if(he(e,(function(e,t){if("."!==e.substring(0,1)){var n=Bt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new dt(e,n)))}})),0===r.length)return jt.EMPTY_NODE;var o=Lt(r,wt,(function(e){return e.name}),St);if(i){var a=Lt(r,Ot.getCompare());return new jt(o,Bt(t),new Mt({".priority":a},{".priority":Ot}))}return new jt(o,Bt(t),Mt.Default)}!function(e){Tt=e}(Bt);var qt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,c(!et(t)&&".priority"!==We(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,o.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ae(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Bt(e),r=jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new dt(t,r)},t.prototype.maxPost=function(){var e=jt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new dt(oe,e)},t.prototype.toString=function(){return Ye(this.indexPath_,0).join("/")},t}(pt),Vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?ae(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return dt.MIN},t.prototype.maxPost=function(){return dt.MAX},t.prototype.makePost=function(e,t){var n=Bt(e);return new dt(t,n)},t.prototype.toString=function(){return".value"},t}(pt),zt=new Vt,Ht="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var o=new Array(8);for(r=7;r>=0;r--)o[r]=Ht.charAt(n%64),n=Math.floor(n/64);c(0===n,"Cannot push at time == 0");var a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=Ht.charAt(t[r]);return c(20===a.length,"nextPushId: Length should be 20."),a}}(),Gt=function(e){if("2147483647"===e)return"-";var t=me(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return oe;var o=n[i],a=Ht.charAt(Ht.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Wt=function(e){if("-2147483648"===e)return ie;var t=me(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Ht.charAt(Ht.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Jt(e){return{type:"value",snapshotNode:e}}function Qt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $t(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Yt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Xt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){c(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange($t(t,a)):c(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qt(t,n)):o.trackChildChange(Yt(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ot,(function(e,r){t.hasChild(e)||n.trackChildChange($t(e,r))})),t.isLeafNode()||t.forEachChild(Ot,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Yt(t,r,i))}else n.trackChildChange(Qt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?jt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Zt=function(){function e(t){this.indexedFilter_=new Xt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new dt(t,n))||(n=jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=jt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(jt.EMPTY_NODE);var i=this;return t.forEachChild(Ot,(function(e,t){i.matches(new dt(e,t))||(r=r.updateImmediateChild(e,jt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),en=function(){function e(e){this.rangedFilter_=new Zt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new dt(t,n))||(n=jt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(jt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;c(s.numChildren()===this.limit_,"");var u=new dt(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Yt(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange($t(t,f));var v=s.updateImmediateChild(t,jt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Qt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&o(l,u)>=0?(null!=i&&(i.trackChildChange($t(l.name,l.node)),i.trackChildChange(Qt(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,jt.EMPTY_NODE)):e},e}(),tn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return c(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return c(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ie},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return c(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return c(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oe},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return c(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ot},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function nn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function rn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function on(e,t){var n=e.copy();return n.index_=t,n}function an(e){var t,n={};return e.isDefault()||(e.index_===Ot?t="$priority":e.index_===zt?t="$value":e.index_===mt?t="$key":(c(e.index_ instanceof qt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=k(t),e.startSet_&&(n.startAt=k(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+k(e.indexStartName_))),e.endSet_&&(n.endAt=k(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+k(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function sn(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ot&&(t.i=e.index_.toString()),t}var un=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=Z("p:rest:"),i.listens_={},i}return(0,o.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(c(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=an(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),N(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=an(e._queryParams),r=e._path.toString(),i=new m;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(s.status>=200&&s.status<300){try{e=T(s.responseText)}catch(t){ne("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&ne("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},t}(Ve),cn=function(){function e(){this.rootNode_=jt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function ln(){return{value:null,children:new Map}}function hn(e,t,n){if(et(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=We(t);e.children.has(r)||e.children.set(r,ln()),hn(e.children.get(r),t=Qe(t),n)}}function fn(e,t){if(et(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ot,(function(t,n){hn(e,new Ke(t),n)})),fn(e,t)}if(e.children.size>0){var r=We(t);if(t=Qe(t),e.children.has(r))fn(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function dn(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){dn(r,new Ke(t.toString()+"/"+e),n)}))}var pn,vn=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,o.pi)({},e);return this.last_&&he(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),mn=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new vn(e);var n=1e4+2e4*Math.random();ye(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;he(t,(function(t,i){i>0&&C(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ye(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function gn(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(pn||(pn={}));var yn,bn=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=pn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(et(this.path)){if(null!=this.affectedTree.value)return c(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ke(t));return new e(Ge(),n,this.revert)}return c(We(this.path)===t,"operationForChild called for unrelated child."),new e(Qe(this.path),this.affectedTree,this.revert)},e}(),_n=function(){function e(e,t){this.source=e,this.path=t,this.type=pn.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return et(this.path)?new e(this.source,Ge()):new e(this.source,Qe(this.path))},e}(),wn=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=pn.OVERWRITE}return e.prototype.operationForChild=function(t){return et(this.path)?new e(this.source,Ge(),this.snap.getImmediateChild(t)):new e(this.source,Qe(this.path),this.snap)},e}(),Sn=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=pn.MERGE}return e.prototype.operationForChild=function(t){if(et(this.path)){var n=this.children.subtree(new Ke(t));return n.isEmpty()?null:n.value?new wn(this.source,Ge(),n.value):new e(this.source,Ge(),n)}return c(We(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Qe(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),En=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(et(e))return this.isFullyInitialized()&&!this.filtered_;var t=We(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Tn=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function kn(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw l("Should only compare child_ events.");var r=new dt(t.childName,t.snapshotNode),i=new dt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function In(e,t){return{eventCache:e,serverCache:t}}function Cn(e,t,n,r){return In(new En(t,n,r),e.serverCache)}function Nn(e,t,n,r){return In(e.eventCache,new En(t,n,r))}function xn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function An(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Pn=function(){function e(e,t){void 0===t&&(yn||(yn=new _t(se)),t=yn),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return he(t,(function(e,t){n=n.set(new Ke(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Ge(),value:this.value};if(et(e))return null;var n=We(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Qe(e),t);return null!=i?{path:Ze(new Ke(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(et(t))return this;var n=We(t),r=this.children.get(n);return null!==r?r.subtree(Qe(t)):new e(null)},e.prototype.set=function(t,n){if(et(t))return new e(n,this.children);var r=We(t),i=(this.children.get(r)||new e(null)).set(Qe(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(et(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=We(t),r=this.children.get(n);if(r){var i=r.remove(Qe(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(et(e))return this.value;var t=We(e),n=this.children.get(t);return n?n.get(Qe(e)):null},e.prototype.setTree=function(t,n){if(et(t))return n;var r=We(t),i=(this.children.get(r)||new e(null)).setTree(Qe(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Ge(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ze(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Ge(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(et(e))return null;var i=We(e),o=this.children.get(i);return o?o.findOnPath_(Qe(e),Ze(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Ge(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(et(t))return this;this.value&&r(n,this.value);var i=We(t),o=this.children.get(i);return o?o.foreachOnPath_(Qe(t),Ze(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Ge(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ze(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),On=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Pn(null))},e}();function Rn(e,t,n){if(et(t))return new On(new Pn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=tt(i,t);return o=o.updateChild(a,n),new On(e.writeTree_.set(i,o))}var s=new Pn(n),u=e.writeTree_.setTree(t,s);return new On(u)}function Dn(e,t,n){var r=e;return he(n,(function(e,n){r=Rn(r,Ze(t,e),n)})),r}function Ln(e,t){if(et(t))return On.empty();var n=e.writeTree_.setTree(t,new Pn(null));return new On(n)}function Fn(e,t){return null!=Mn(e,t)}function Mn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(tt(n.path,t)):null}function jn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ot,(function(e,n){t.push(new dt(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new dt(e,n.value))})),t}function Un(e,t){if(et(t))return e;var n=Mn(e,t);return new On(null!=n?new Pn(n):e.writeTree_.subtree(t))}function Bn(e){return e.writeTree_.isEmpty()}function qn(e,t){return Vn(Ge(),e.writeTree_,t)}function Vn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(c(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Vn(Ze(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ze(e,".priority"),r)),n}function zn(e,t){return nr(t,e)}function Hn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));c(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&Kn(s,r.path)?i=!1:it(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Wn(e.allWrites,Gn,Ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Ln(e.visibleWrites,r.path):he(r.children,(function(t){e.visibleWrites=Ln(e.visibleWrites,Ze(r.path,t))}));return!0}return!1}function Kn(e,t){if(e.snap)return it(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&it(Ze(e.path,n),t))return!0;return!1}function Gn(e){return e.visible}function Wn(e,t,n){for(var r=On.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)it(n,a)?r=Rn(r,s=tt(n,a),o.snap):it(a,n)&&(s=tt(a,n),r=Rn(r,Ge(),o.snap.getChild(s)));else{if(!o.children)throw l("WriteRecord should have .snap or .children");if(it(n,a))r=Dn(r,s=tt(n,a),o.children);else if(it(a,n))if(et(s=tt(a,n)))r=Dn(r,Ge(),o.children);else{var u=N(o.children,We(s));if(u){var c=u.getChild(Qe(s));r=Rn(r,Ge(),c)}}}}}return r}function Jn(e,t,n,r,i){if(r||i){var o=Un(e.visibleWrites,t);if(!i&&Bn(o))return n;if(i||null!=n||Fn(o,Ge())){return qn(Wn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(it(e.path,t)||it(t,e.path))}),t),n||jt.EMPTY_NODE)}return null}var a=Mn(e.visibleWrites,t);if(null!=a)return a;var s=Un(e.visibleWrites,t);return Bn(s)?n:null!=n||Fn(s,Ge())?qn(s,n||jt.EMPTY_NODE):null}function Qn(e,t,n,r){return Jn(e.writeTree,e.treePath,t,n,r)}function $n(e,t){return function(e,t,n){var r=jt.EMPTY_NODE,i=Mn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ot,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Un(e.visibleWrites,t);return n.forEachChild(Ot,(function(e,t){var n=qn(Un(o,new Ke(e)),t);r=r.updateImmediateChild(e,n)})),jn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return jn(Un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Yn(e,t,n,r){return function(e,t,n,r,i){c(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Ze(t,n);if(Fn(e.visibleWrites,o))return null;var a=Un(e.visibleWrites,o);return Bn(a)?i.getChild(n):qn(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Xn(e,t){return function(e,t){return Mn(e.visibleWrites,t)}(e.writeTree,Ze(e.treePath,t))}function Zn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Un(e.visibleWrites,t),c=Mn(u,Ge());if(null!=c)s=c;else{if(null==n)return[];s=qn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function er(e,t,n){return function(e,t,n,r){var i=Ze(t,n),o=Mn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?qn(Un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function tr(e,t){return nr(Ze(e.treePath,t),e.writeTree)}function nr(e,t){return{treePath:e,writeTree:t}}var rr=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;c("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),c(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Yt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,$t(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Qt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw l("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Yt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),ir=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),or=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new En(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return er(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:An(this.viewCache_),i=Zn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function ar(e,t,n,r,i){var o,a,s=new rr;if(n.type===pn.OVERWRITE){var u=n;u.source.fromUser?o=cr(e,t,u.path,u.snap,r,i,s):(c(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!et(u.path),o=ur(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===pn.MERGE){var h=n;h.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ze(n,r);lr(t,We(c))&&(s=cr(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ze(n,r);lr(t,We(c))||(s=cr(e,s,c,u,i,o,a))})),s}(e,t,h.path,h.children,r,i,s):(c(h.source.fromServer,"Unknown source."),a=h.source.tagged||t.serverCache.isFiltered(),o=fr(e,t,h.path,h.children,r,i,a,s))}else if(n.type===pn.ACK_USER_WRITE){var f=n;o=f.revert?function(e,t,n,r,i,o){var a;if(null!=Xn(r,n))return t;var s=new or(r,t,i),u=t.eventCache.getNode(),l=void 0;if(et(n)||".priority"===We(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=Qn(r,An(t));else{var f=t.serverCache.getNode();c(f instanceof jt,"serverChildren would be complete if leaf node"),h=$n(r,f)}h=h,l=e.filter.updateFullNode(u,h,o)}else{var d=We(n),p=er(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=u.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(u,d,p,Qe(n),s,o):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(u,d,jt.EMPTY_NODE,Qe(n),s,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Qn(r,An(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,a,o))}return a=t.serverCache.isFullyInitialized()||null!=Xn(r,Ge()),Cn(t,l,a,e.filter.filtersNodes())}(e,t,f.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=Xn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(et(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ur(e,t,n,u.getNode().getChild(n),i,o,s,a);if(et(n)){var c=new Pn(null);return u.getNode().forEachChild(mt,(function(e,t){c=c.set(new Ke(e),t)})),fr(e,t,n,c,i,o,s,a)}return t}var l=new Pn(null);return r.foreach((function(e,t){var r=Ze(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),fr(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,s)}else{if(n.type!==pn.LISTEN_COMPLETE)throw l("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=Nn(t,o.getNode(),o.isFullyInitialized()||et(n),o.isFiltered());return sr(e,a,n,r,ir,i)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Jt(xn(t)))}}(t,o,d),{viewCache:o,changes:d}}function sr(e,t,n,r,i,o){var a=t.eventCache;if(null!=Xn(r,n))return t;var s=void 0,u=void 0;if(et(n))if(c(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=An(t),h=$n(r,l instanceof jt?l:jt.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var f=Qn(r,An(t));s=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var d=We(n);if(".priority"===d){c(1===Je(n),"Can't have a priority with additional path components");var p=a.getNode(),v=Yn(r,n,p,u=t.serverCache.getNode());s=null!=v?e.filter.updatePriority(p,v):a.getNode()}else{var m=Qe(n),g=void 0;if(a.isCompleteForChild(d)){u=t.serverCache.getNode();var y=Yn(r,n,a.getNode(),u);g=null!=y?a.getNode().getImmediateChild(d).updateChild(m,y):a.getNode().getImmediateChild(d)}else g=er(r,d,t.serverCache);s=null!=g?e.filter.updateChild(a.getNode(),d,g,m,i,o):a.getNode()}}return Cn(t,s,a.isFullyInitialized()||et(n),e.filter.filtersNodes())}function ur(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(et(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=We(n);if(!c.isCompleteForPath(n)&&Je(n)>1)return t;var d=Qe(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,ir,null)}var v=Nn(t,u,c.isFullyInitialized()||et(n),l.filtersNodes());return sr(e,v,n,i,new or(i,v,o),s)}function cr(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new or(i,t,o);if(et(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Cn(t,u,!0,e.filter.filtersNodes());else{var h=We(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Cn(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=Qe(n),d=c.getNode().getImmediateChild(h),p=void 0;if(et(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===$e(f)&&v.getChild(Xe(f)).isEmpty()?v:v.updateChild(f,r):jt.EMPTY_NODE}if(d.equals(p))s=t;else s=Cn(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function lr(e,t){return e.eventCache.isCompleteForChild(t)}function hr(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function fr(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=et(n)?r:new Pn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=hr(0,t.serverCache.getNode().getImmediateChild(n),r);c=ur(e,c,new Ke(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=hr(0,t.serverCache.getNode().getImmediateChild(n),r);c=ur(e,c,new Ke(n),h,i,o,a,s)}})),c}var dr,pr=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Xt(r.getIndex()),o=(n=r).loadsAllData()?new Xt(n.getIndex()):n.hasLimit()?new en(n):new Zt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(jt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(jt.EMPTY_NODE,s.getNode(),null),l=new En(u,a.isFullyInitialized(),i.filtersNodes()),h=new En(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=In(h,l),this.eventGenerator_=new Tn(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function vr(e,t){var n=An(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!et(t)&&!n.getImmediateChild(We(t)).isEmpty())?n.getChild(t):null}function mr(e){return 0===e.eventRegistrations_.length}function gr(e,t,n){var r=[];if(n){c(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function yr(e,t,n,r){t.type===pn.MERGE&&null!==t.source.queryId&&(c(An(e.viewCache_),"We should always have a full cache before handling merges"),c(xn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=ar(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,c(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),c(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),c(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,br(e,s.changes,s.viewCache.eventCache.getNode(),null)}function br(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),kn(e,i,"child_removed",t,r,n),kn(e,i,"child_added",t,r,n),kn(e,i,"child_moved",o,r,n),kn(e,i,"child_changed",t,r,n),kn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var _r,wr=function(){this.views=new Map};function Sr(e,t,n,r){var i,a,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return c(null!=u,"SyncTree gave us an op for an invalid query."),yr(u,t,n,r)}var l=[];try{for(var h=(0,o.XA)(e.views.values()),f=h.next();!f.done;f=h.next()){u=f.value;l=l.concat(yr(u,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function Er(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Qn(n,i?r:null),u=!1;s?u=!0:r instanceof jt?(s=$n(n,r),u=!1):(s=jt.EMPTY_NODE,u=!1);var c=In(new En(s,u,!1),new En(r,i,!1));return new pr(t,c)}return a}function Tr(e,t,n,r,i,o){var a=Er(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ot,(function(e,t){r.push(Qt(e,t))})),n.isFullyInitialized()&&r.push(Jt(n.getNode())),br(e,r,n.getNode(),t)}(a,n)}function kr(e,t,n,r){var i,a,s=t._queryIdentifier,u=[],l=[],h=Ar(e);if("default"===s)try{for(var f=(0,o.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,o.CR)(d.value,2),v=p[0],m=p[1];l=l.concat(gr(m,n,r)),mr(m)&&(e.views.delete(v),m.query._queryParams.loadsAllData()||u.push(m.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}else(m=e.views.get(s))&&(l=l.concat(gr(m,n,r)),mr(m)&&(e.views.delete(s),m.query._queryParams.loadsAllData()||u.push(m.query)));return h&&!Ar(e)&&u.push(new(c(dr,"Reference.ts has not been loaded"),dr)(t._repo,t._path)),{removed:u,events:l}}function Ir(e){var t,n,r=[];try{for(var i=(0,o.XA)(e.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Cr(e,t){var n,r,i=null;try{for(var a=(0,o.XA)(e.views.values()),s=a.next();!s.done;s=a.next()){var u=s.value;i=i||vr(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function Nr(e,t){if(t._queryParams.loadsAllData())return Pr(e);var n=t._queryIdentifier;return e.views.get(n)}function xr(e,t){return null!=Nr(e,t)}function Ar(e){return null!=Pr(e)}function Pr(e){var t,n;try{for(var r=(0,o.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Or=1,Rr=function(e){this.listenProvider_=e,this.syncPointTree_=new Pn(null),this.pendingWriteTree_={visibleWrites:On.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Dr(e,t,n,r,i){return function(e,t,n,r,i){c(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Rn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Vr(e,new wn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Lr(e,t,n,r){!function(e,t,n,r){c(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Dn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Pn.fromObject(n);return Vr(e,new Sn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Fr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Hn(e.pendingWriteTree_,t)){var i=new Pn(null);return null!=r.snap?i=i.set(Ge(),!0):he(r.children,(function(e){i=i.set(new Ke(e),!0)})),Vr(e,new bn(r.path,i,n))}return[]}function Mr(e,t,n){return Vr(e,new wn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function jr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||xr(o,t))){var s=kr(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Ar(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Ar(t))return[Pr(t)];var r=[];return t&&(r=Ir(t)),he(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,m=Kr(e,p);e.listenProvider_.startListening(Yr(v),Gr(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Yr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Wr(t));e.listenProvider_.stopListening(Yr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Wr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function Ur(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=tt(e,r);i=i||Cr(t,n),o=o||Ar(t)}));var a,s=e.syncPointTree_.get(r);(s?(o=o||Ar(s),i=i||Cr(s,Ge())):(s=new wr,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=jt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Cr(t,Ge());n&&(i=i.updateImmediateChild(e,n))})));var u=xr(s,t);if(!u&&!t._queryParams.loadsAllData()){var l=Wr(t);c(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Or++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Tr(s,t,n,zn(e.pendingWriteTree_,r),i,a);if(!u&&!o){var d=Nr(s,t);f=f.concat(function(e,t,n){var r=t._path,i=Gr(e,t),o=Kr(e,n),a=e.listenProvider_.startListening(Yr(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)c(!Ar(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!et(e)&&t&&Ar(t))return[Pr(t).query];var r=[];return t&&(r=r.concat(Ir(t).map((function(e){return e.query})))),he(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var h=u[l];e.listenProvider_.stopListening(Yr(h),Gr(e,h))}return a}(e,t,d))}return f}function Br(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Cr(n,tt(e,t));if(r)return r}));return Jn(r,t,i,n,!0)}function qr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=tt(e,n);r=r||Cr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Cr(i,Ge()):(i=new wr,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new En(r,!0,!1):null;return function(e){return xn(e.viewCache_)}(Er(i,t,zn(e.pendingWriteTree_,t._path),o?a.getNode():jt.EMPTY_NODE,o))}function Vr(e,t){return zr(t,e.syncPointTree_,null,zn(e.pendingWriteTree_,Ge()))}function zr(e,t,n,r){if(et(e.path))return Hr(e,t,n,r);var i=t.get(Ge());null==n&&null!=i&&(n=Cr(i,Ge()));var o=[],a=We(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=tr(r,a);o=o.concat(zr(s,u,c,l))}return i&&(o=o.concat(Sr(i,e,r,n))),o}function Hr(e,t,n,r){var i=t.get(Ge());null==n&&null!=i&&(n=Cr(i,Ge()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=tr(r,t),u=e.operationForChild(t);u&&(o=o.concat(Hr(u,i,a,s)))})),i&&(o=o.concat(Sr(i,e,r,n))),o}function Kr(e,t){var n=t.query,r=Gr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||jt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Jr(e,n);if(r){var i=Qr(r),o=i.path,a=i.queryId,s=tt(o,t);return $r(e,o,new _n(gn(a),s))}return[]}(e,n._path,r):function(e,t){return Vr(e,new _n({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return jr(e,n,null,i)}}}function Gr(e,t){var n=Wr(t);return e.queryToTagMap.get(n)}function Wr(e){return e._path.toString()+"$"+e._queryIdentifier}function Jr(e,t){return e.tagToQueryMap.get(t)}function Qr(e){var t=e.indexOf("$");return c(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ke(e.substr(0,t))}}function $r(e,t,n){var r=e.syncPointTree_.get(t);return c(r,"Missing sync point for query tag that we're tracking"),Sr(r,n,zn(e.pendingWriteTree_,t),null)}function Yr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(c(_r,"Reference.ts has not been loaded"),_r)(e._repo,e._path):e}var Xr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Zr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ze(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Br(this.syncTree_,this.path_)},e}(),ei=function(e,t,n){return e&&"object"===typeof e?(c(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ti(e[".sv"],t,n):"object"===typeof e[".sv"]?ni(e[".sv"],t):void c(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ti=function(e,t,n){if("timestamp"===e)return n.timestamp;c(!1,"Unexpected server value: "+e)},ni=function(e,t,n){e.hasOwnProperty("increment")||c(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&c(!1,"Unexpected increment value: "+r);var i=t.node();if(c(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!==typeof o?r:o+r},ri=function(e,t,n,r){return oi(t,new Zr(n,e),r)},ii=function(e,t,n){return oi(e,new Xr(t),n)};function oi(e,t,n){var r,i=e.getPriority().val(),o=ei(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ei(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Nt(s,Bt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Nt(o))),u.forEachChild(Ot,(function(e,i){var o=oi(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var ai=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function si(e,t){for(var n=t instanceof Ke?t:new Ke(t),r=e,i=We(n);null!==i;){var o=N(r.node.children,i)||{children:{},childCount:0};r=new ai(i,r,o),i=We(n=Qe(n))}return r}function ui(e){return e.node.value}function ci(e,t){e.node.value=t,pi(e)}function li(e){return e.node.childCount>0}function hi(e,t){he(e.node.children,(function(n,r){t(new ai(n,e,r))}))}function fi(e,t,n,r){n&&!r&&t(e),hi(e,(function(e){fi(e,t,!0,r)})),n&&r&&t(e)}function di(e){return new Ke(null===e.parent?e.name:di(e.parent)+"/"+e.name)}function pi(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===ui(e)&&!li(e)}(n),i=C(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,pi(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,pi(e))}(e.parent,e.name,e)}var vi=/[\[\].#$\/\u0000-\u001F\u007F]/,mi=/[\[\].#$\u0000-\u001F\u007F]/,gi=10485760,yi=function(e){return"string"===typeof e&&0!==e.length&&!vi.test(e)},bi=function(e){return"string"===typeof e&&0!==e.length&&!mi.test(e)},_i=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!re(e)||e&&"object"===typeof e&&C(e,".sv")},wi=function(e,t,n,r){r&&void 0===t||Si(D(e,"value"),t,n)},Si=function e(t,n,r){var i=r instanceof Ke?new ot(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+st(i));if("function"===typeof n)throw new Error(t+"contains a function "+st(i)+" with contents = "+n.toString());if(re(n))throw new Error(t+"contains "+n.toString()+" "+st(i));if("string"===typeof n&&n.length>gi/3&&M(n)>gi)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+st(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(he(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!yi(n)))throw new Error(t+" contains an invalid key ("+n+") "+st(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=M(t),at(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=M(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),o&&a)throw new Error(t+' contains ".value" child '+st(i)+" in addition to actual children.")}},Ei=function(e,t,n,r){if(!r||void 0!==t){var i=D(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];he(t,(function(e,t){var r=new Ke(e);if(Si(i,t,Ze(n,r)),".priority"===$e(r)&&!_i(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ye(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yi(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(nt);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&it(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},Ti=function(e,t,n){if(!n||void 0!==t){if(re(t))throw new Error(D(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_i(t))throw new Error(D(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ki=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(D(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ii=function(e,t,n,r){if((!r||void 0!==n)&&!yi(n))throw new Error(D(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ci=function(e,t,n,r){if((!r||void 0!==n)&&!bi(n))throw new Error(D(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ni=function(e,t){if(".info"===We(t))throw new Error(e+" failed = Can't modify data under /.info/")},xi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!yi(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bi(e)}(n))throw new Error(D(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ai=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(D(e,t)+"must be a boolean.")},Pi=function(){this.eventLists_=[],this.recursionDepth_=0};function Oi(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||rt(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ri(e,t,n){Oi(e,n),Li(e,(function(e){return rt(e,t)}))}function Di(e,t,n){Oi(e,n),Li(e,(function(e){return it(e,t)||it(t,e)}))}function Li(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Fi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Fi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Q&&X("event: "+n.toString()),ge(r)}}}var Mi="repo_interrupt",ji=function(){function e(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ln(),this.transactionQueueTree_=new ai,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Ui(e,t,n){if(e.stats_=Ae(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new un(e.repoInfo_,(function(t,n,r,i){Vi(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return zi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{k(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ft(e.repoInfo_,t,(function(t,n,r,i){Vi(e,t,n,r,i)}),(function(t){zi(e,t)}),(function(t){!function(e,t){he(t,(function(t,n){Hi(e,t,n)}))}(e,t)}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=function(e,t){var n=e.toString();return xe[n]||(xe[n]=t()),xe[n]}(e.repoInfo_,(function(){return new mn(e.stats_,e.server_)})),e.infoData_=new cn,e.infoSyncTree_=new Rr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Mr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Hi(e,"connected",!1),e.serverSyncTree_=new Rr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Di(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Bi(e){var t=e.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qi(e){return(t=(t={timestamp:Bi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Vi(e,t,n,r,i){e.dataUpdateCount++;var o=new Ke(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=A(n,(function(e){return Bt(e)}));a=function(e,t,n,r){var i=Jr(e,r);if(i){var o=Qr(i),a=o.path,s=o.queryId,u=tt(a,t),c=Pn.fromObject(n);return $r(e,a,new Sn(gn(s),u,c))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=Bt(n);a=function(e,t,n,r){var i=Jr(e,r);if(null!=i){var o=Qr(i),a=o.path,s=o.queryId,u=tt(a,t);return $r(e,a,new wn(gn(s),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var c=A(n,(function(e){return Bt(e)}));a=function(e,t,n){var r=Pn.fromObject(n);return Vr(e,new Sn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var l=Bt(n);a=Mr(e.serverSyncTree_,o,l)}var h=o;a.length>0&&(h=to(e,o)),Di(e.eventQueue_,h,a)}function zi(e,t){Hi(e,"connected",t),!1===t&&function(e){Yi(e,"onDisconnectEvents");var t=qi(e),n=ln();dn(e.onDisconnect_,Ge(),(function(r,i){var o=ri(r,i,e.serverSyncTree_,t);hn(n,r,o)}));var r=[];dn(n,Ge(),(function(t,n){r=r.concat(Mr(e.serverSyncTree_,t,n));var i=ao(e,t);to(e,i)})),e.onDisconnect_=ln(),Di(e.eventQueue_,Ge(),r)}(e)}function Hi(e,t,n){var r=new Ke("/.info/"+t),i=Bt(n);e.infoData_.updateSnapshot(r,i);var o=Mr(e.infoSyncTree_,r,i);Di(e.eventQueue_,r,o)}function Ki(e){return e.nextWriteId_++}function Gi(e,t,n,r,i){Yi(e,"set",{path:t.toString(),value:n,priority:r});var o=qi(e),a=Bt(n,r),s=Br(e.serverSyncTree_,t),u=ii(a,s,o),c=Ki(e),l=Dr(e.serverSyncTree_,t,u,c,!0);Oi(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||ne("set at "+t+" failed: "+n);var a=Fr(e.serverSyncTree_,c,!o);Di(e.eventQueue_,t,a),Xi(e,i,n,r)}));var h=ao(e,t);to(e,h),Di(e.eventQueue_,h,[])}function Wi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&fn(e.onDisconnect_,t),Xi(e,n,r,i)}))}function Ji(e,t,n,r){var i=Bt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&hn(e.onDisconnect_,t,i),Xi(e,r,n,o)}))}function Qi(e,t,n){var r;r=".info"===We(t._path)?jr(e.infoSyncTree_,t,n):jr(e.serverSyncTree_,t,n),Ri(e.eventQueue_,t._path,r)}function $i(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Mi)}function Yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),X.apply(void 0,(0,o.ev)([r],(0,o.CR)(t)))}function Xi(e,t,n,r){t&&ge((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Zi(e,t,n){return Br(e.serverSyncTree_,t,n)||jt.EMPTY_NODE}function eo(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||oo(e,t),ui(t)){var n=ro(e,t);c(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Zi(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];c(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=tt(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){Yi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Fr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);oo(e,si(e.transactionQueueTree_,t)),eo(e,e.transactionQueueTree_),Di(e.eventQueue_,t,i);for(s=0;s<o.length;s++)ge(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{ne("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}to(e,t)}}),a)}(e,di(t),n)}else li(t)&&hi(t,(function(t){eo(e,t)}))}function to(e,t){var n=no(e,t),r=di(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u,l=t[a],h=tt(n,l.path),f=!1;if(c(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,s=l.abortReason,i=i.concat(Fr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,s="maxretry",i=i.concat(Fr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Zi(e,l.path,o);l.currentInputSnapshot=d;var p=t[a].update(d.val());if(void 0!==p){Si("transaction failed: Data returned ",p,l.path);var v=Bt(p);"object"===typeof p&&null!=p&&C(p,".priority")||(v=v.updatePriority(d.getPriority()));var m=l.currentWriteId,g=qi(e),y=ii(v,d,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=Ki(e),o.splice(o.indexOf(m),1),i=(i=i.concat(Dr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(Fr(e.serverSyncTree_,m,!0))}else f=!0,s="nodata",i=i.concat(Fr(e.serverSyncTree_,l.currentWriteId,!0))}Di(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},s=0;s<t.length;s++)a(s);oo(e,e.transactionQueueTree_);for(s=0;s<r.length;s++)ge(r[s]);eo(e,e.transactionQueueTree_)}(e,ro(e,n),r),r}function no(e,t){var n,r=e.transactionQueueTree_;for(n=We(t);null!==n&&void 0===ui(r);)r=si(r,n),n=We(t=Qe(t));return r}function ro(e,t){var n=[];return io(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function io(e,t,n){var r=ui(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);hi(t,(function(t){io(e,t,n)}))}function oo(e,t){var n=ui(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ci(t,n.length>0?n:void 0)}hi(t,(function(t){oo(e,t)}))}function ao(e,t){var n=di(no(e,t)),r=si(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){so(e,t)})),so(e,r),fi(r,(function(t){so(e,t)})),n}function so(e,t){var n=ui(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(c(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(c(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Fr(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ci(t,void 0):n.length=o+1,Di(e.eventQueue_,di(t),i);for(a=0;a<r.length;a++)ge(r[a])}}var uo=function(e,t){var n=co(e),r=n.namespace;"firebase.com"===n.domain&&te(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||te("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ne("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ke(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ke(n.pathString)}},co=function(e){var t="",n="",r="",i="",a="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,o.XA)(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):ne("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:a}},lo=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+k(this.snapshot.exportVal())},e}(),ho=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),fo=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return c(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),po=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new m;return Wi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Ni("OnDisconnect.remove",this._path);var e=new m;return Ji(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Ni("OnDisconnect.set",this._path),wi("OnDisconnect.set",e,this._path,!1);var t=new m;return Ji(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Ni("OnDisconnect.setWithPriority",this._path),wi("OnDisconnect.setWithPriority",e,this._path,!1),Ti("OnDisconnect.setWithPriority",t,!1);var n=new m;return function(e,t,n,r,i){var o=Bt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&hn(e.onDisconnect_,t,o),Xi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Ni("OnDisconnect.update",this._path),Ei("OnDisconnect.update",e,this._path,!1);var t=new m;return function(e,t,n,r){if(x(n))return X("onDisconnect().update() called with empty data.  Don't do anything."),void Xi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&he(n,(function(n,r){var i=Bt(r);hn(e.onDisconnect_,Ze(t,n),i)})),Xi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),vo=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return et(this._path)?null:$e(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new bo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=sn(this._queryParams),t=ce(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return sn(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=j(t))instanceof e))return!1;var n=this._repo===t._repo,r=rt(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function mo(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function go(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===mt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ie)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==oe)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ot){if(null!=t&&!_i(t)||null!=n&&!_i(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(c(e.getIndex()instanceof qt||e.getIndex()===zt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yo(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var bo=function(e){function t(t,n){return e.call(this,t,n,new tn,!1)||this}return(0,o.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Xe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(vo),_o=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Ke(t),r=Eo(this.ref,t);return new e(this._node.getChild(n),r,Ot)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Eo(n.ref,r),Ot))}))},e.prototype.hasChild=function(e){var t=new Ke(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function wo(e,t){return(e=j(e))._checkNotDeleted("ref"),void 0!==t?Eo(e._root,t):e._root}function So(e,t){(e=j(e))._checkNotDeleted("refFromURL");var n=uo(t,e._repo.repoInfo_.nodeAdmin);xi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||te("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),wo(e,n.path.toString())}function Eo(e,t){var n,r,i,o;return null===We((e=j(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Ci(n,r,i,o)):Ci("child","path",t,!1),new bo(e._repo,Ze(e._path,t))}function To(e,t){e=j(e),Ni("push",e._path),wi("push",t,e._path,!0);var n,r=Bi(e._repo),i=Kt(r),o=Eo(e,i),a=Eo(e,i);return n=null!=t?Io(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function ko(e){return Ni("remove",e._path),Io(e,null)}function Io(e,t){e=j(e),Ni("set",e._path),wi("set",t,e._path,!1);var n=new m;return Gi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Co(e,t){e=j(e),Ni("setPriority",e._path),Ti("setPriority",t,!1);var n=new m;return Gi(e._repo,Ze(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function No(e,t,n){if(Ni("setWithPriority",e._path),wi("setWithPriority",t,e._path,!1),Ti("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new m;return Gi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function xo(e,t){Ei("update",t,e._path,!1);var n=new m;return function(e,t,n,r){Yi(e,"update",{path:t.toString(),value:n});var i=!0,o=qi(e),a={};if(he(n,(function(n,r){i=!1,a[n]=ri(Ze(t,n),Bt(r),e.serverSyncTree_,o)})),i)X("update() called with empty data.  Don't do anything."),Xi(0,r,"ok",void 0);else{var s=Ki(e),u=Lr(e.serverSyncTree_,t,a,s);Oi(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||ne("update at "+t+" failed: "+n);var a=Fr(e.serverSyncTree_,s,!o),u=a.length>0?to(e,t):t;Di(e.eventQueue_,u,a),Xi(0,r,n,i)})),he(n,(function(n){var r=ao(e,Ze(t,n));to(e,r)})),Di(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ao(e){return function(e,t){var n=qr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Bt(n),i=Mr(e.serverSyncTree_,t._path,r);return Ri(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Yi(e,"get for query "+k(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=j(e))._repo,e).then((function(t){return new _o(t,new bo(e._repo,e._path),e._queryParams.getIndex())}))}var Po=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new lo("value",this,new _o(e.snapshotNode,new bo(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ho(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Oo=function(){function e(e){this.callbacks=e}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,C(this.callbacks,t)},e.prototype.createCancelEvent=function(e,t){return this.callbacks.cancel.hasCancelCallback?new ho(this,e,t):null},e.prototype.createEvent=function(e,t){c(null!=e.childName,"Child events should have a childName.");var n=Eo(new bo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new lo(e.type,this,new _o(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){if("cancel"===e.getEventType()){var t=this.callbacks.cancel;return function(){return t.onCancel(e.error)}}var n=this.callbacks[e.eventType];return function(){return n.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks||!t.callbacks)return!0;var r=Object.keys(t.callbacks),i=Object.keys(this.callbacks),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!t.callbacks[a]||!this.callbacks[s]||t.callbacks[a].matches(this.callbacks[s]))}return i.every((function(e){return t.callbacks[e].matches(n.callbacks[e])}))}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks},e}();function Ro(e,t,n,r,i){var o,a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var s=n,u=function(t,n){s(t,n),Qi(e._repo,e,l)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new fo(n,a||void 0),l="value"===t?new Po(c):new Oo(((o={})[t]=c,o));return function(e,t,n){var r;r=".info"===We(t._path)?Ur(e.infoSyncTree_,t,n):Ur(e.serverSyncTree_,t,n),Ri(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return Qi(e._repo,e,l)}}function Do(e,t,n,r){return Ro(e,"value",t,n,r)}function Lo(e,t,n,r){return Ro(e,"child_added",t,n,r)}function Fo(e,t,n,r){return Ro(e,"child_changed",t,n,r)}function Mo(e,t,n,r){return Ro(e,"child_moved",t,n,r)}function jo(e,t,n,r){return Ro(e,"child_removed",t,n,r)}function Uo(e,t,n){var r=null,i=null,o=n?new fo(n):null;"value"===t?r=new Po(o):t&&(n&&((i={})[t]=o),r=new Oo(i)),Qi(e._repo,e,r)}var Bo=function(){},qo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,o.ZT)(t,e),t.prototype._apply=function(e){wi("endAt",this._value,e._path,!0);var t=rn(e._queryParams,this._value,this._key);if(yo(t),go(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vo(e._repo,e._path,t,e._orderByCalled)},t}(Bo);function Vo(e,t){return Ii("endAt","key",t,!0),new qo(e,t)}var zo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,o.ZT)(t,e),t.prototype._apply=function(e){wi("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===mt?("string"===typeof t&&(t=Wt(t)),r=rn(e,t,n)):r=rn(e,t,null==n?ie:Wt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(yo(t),go(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vo(e._repo,e._path,t,e._orderByCalled)},t}(Bo);function Ho(e,t){return Ii("endBefore","key",t,!0),new zo(e,t)}var Ko=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,o.ZT)(t,e),t.prototype._apply=function(e){wi("startAt",this._value,e._path,!0);var t=nn(e._queryParams,this._value,this._key);if(yo(t),go(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vo(e._repo,e._path,t,e._orderByCalled)},t}(Bo);function Go(e,t){return void 0===e&&(e=null),Ii("startAt","key",t,!0),new Ko(e,t)}var Wo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,o.ZT)(t,e),t.prototype._apply=function(e){wi("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===mt?("string"===typeof t&&(t=Gt(t)),r=nn(e,t,n)):r=nn(e,t,null==n?oe:Gt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(yo(t),go(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vo(e._repo,e._path,t,e._orderByCalled)},t}(Bo);function Jo(e,t){return Ii("startAfter","key",t,!0),new Wo(e,t)}var Qo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,o.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vo(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(Bo);function $o(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qo(e)}var Yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,o.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vo(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(Bo);function Xo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Yo(e)}var Zo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,o.ZT)(t,e),t.prototype._apply=function(e){mo(e,"orderByChild");var t=new Ke(this._path);if(et(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new qt(t),r=on(e._queryParams,n);return go(r),new vo(e._repo,e._path,r,!0)},t}(Bo);function ea(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ci("orderByChild","path",e,!1),new Zo(e)}var ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype._apply=function(e){mo(e,"orderByKey");var t=on(e._queryParams,mt);return go(t),new vo(e._repo,e._path,t,!0)},t}(Bo);function na(){return new ta}var ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype._apply=function(e){mo(e,"orderByPriority");var t=on(e._queryParams,Ot);return go(t),new vo(e._repo,e._path,t,!0)},t}(Bo);function ia(){return new ra}var oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype._apply=function(e){mo(e,"orderByValue");var t=on(e._queryParams,zt);return go(t),new vo(e._repo,e._path,t,!0)},t}(Bo);function aa(){return new oa}var sa=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,o.ZT)(t,e),t.prototype._apply=function(e){if(wi("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qo(this._value,this._key)._apply(new Ko(this._value,this._key)._apply(e))},t}(Bo);function ua(e,t){return Ii("equalTo","key",t,!0),new sa(e,t)}function ca(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=j(e);try{for(var s=(0,o.XA)(r),u=s.next();!u.done;u=s.next()){var c=u.value;a=c._apply(a)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}!function(e){c(!dr,"__referenceConstructor has already been defined"),dr=e}(bo),function(e){c(!_r,"__referenceConstructor has already been defined"),_r=e}(bo);var la={},ha=!1;function fa(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||te("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),X("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,a=uo(i,r),s=a.repoInfo,u=void 0;"undefined"!==typeof process&&(u={NODE_ENV:"production",PUBLIC_URL:"/form-register",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+s.namespace,s=(a=uo(i,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new _e:new be(e.name,e.options,t);xi("Invalid Firebase Database URL",a),et(a.path)||te("Database URL must point to the root of a Firebase Database (not including a child path).");var l=function(e,t,n){var r=la[t.name];r||(r={},la[t.name]=r);var i=r[e.toURLString()];i&&te("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new ji(e,ha,n),r[e.toURLString()]=i,i}(s,e,c);return new da(l,e)}var da=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new bo(this._repo,Ge())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=la[t];n&&n[e.key]===e||te("Database "+t+"("+e.repoInfo_+") has already been deleted."),$i(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&te("Cannot call "+e+" on a deleted database.")},e}();function pa(e,t,n){(e=j(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&te("Cannot call useEmulator() after instance has already been initialized."),function(e,t,n){e.repoInfo_=new ke(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new _e)}(e._repo,t,n)}function va(e){(e=j(e))._checkNotDeleted("goOffline"),$i(e._repo)}function ma(e){var t;(e=j(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Mi)}function ga(e,t){Y(e,t)}var ya={".sv":"timestamp"};var ba=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function _a(e,t,n){var r;if(e=j(e),Ni("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new m,a=Do(e,(function(){}));return function(e,t,n,r,i,o){Yi(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:G(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Zi(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Si("transaction failed: Data returned ",u,a.path),a.status=0;var l=si(e.transactionQueueTree_,t),h=ui(l)||[];h.push(a),ci(l,h);var f=void 0;"object"===typeof u&&null!==u&&C(u,".priority")?(f=N(u,".priority"),c(_i(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Br(e.serverSyncTree_,t)||jt.EMPTY_NODE).getPriority().val();var d=qi(e),p=Bt(u,f),v=ii(p,s,d);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=Ki(e);var m=Dr(e.serverSyncTree_,t,v,a.currentWriteId,a.applyLocally);Di(e.eventQueue_,t,m),eo(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new _o(r,new bo(e._repo,e._path),Ot),o.resolve(new ba(n,i)))}),a,i),o.promise}var wa=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){R("OnDisconnect.cancel",0,1,arguments.length),L("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){R("OnDisconnect.remove",0,1,arguments.length),L("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){R("OnDisconnect.set",1,2,arguments.length),L("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){R("OnDisconnect.setWithPriority",2,3,arguments.length),L("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(R("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,ne("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}L("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Sa=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return R("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ea=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return R("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return R("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return R("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return R("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return R("DataSnapshot.child",0,1,arguments.length),t=String(t),Ci("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return R("DataSnapshot.hasChild",1,1,arguments.length),Ci("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return R("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return R("DataSnapshot.forEach",1,1,arguments.length),L("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return R("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return R("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return R("DataSnapshot.ref",0,0,arguments.length),new ka(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ta=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,a=this;R("Query.on",2,4,arguments.length),L("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new Ea(a.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return Do(this._delegate,u,c),n;case"child_added":return Lo(this._delegate,u,c),n;case"child_removed":return jo(this._delegate,u,c),n;case"child_changed":return Fo(this._delegate,u,c),n;case"child_moved":return Mo(this._delegate,u,c),n;default:throw new Error(D("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(R("Query.off",0,3,arguments.length),ki("Query.off",e,!0),L("Query.off","callback",t,!0),F("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Uo(this._delegate,e,r)}else Uo(this._delegate,e)},e.prototype.get=function(){var e=this;return Ao(this._delegate).then((function(t){return new Ea(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;R("Query.once",1,4,arguments.length),L("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.on",r,i),s=new m,u=function(e,t){var r=new Ea(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":Do(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Lo(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":jo(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Fo(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Mo(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(D("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},e.prototype.limitToFirst=function(t){return R("Query.limitToFirst",1,1,arguments.length),new e(this.database,ca(this._delegate,$o(t)))},e.prototype.limitToLast=function(t){return R("Query.limitToLast",1,1,arguments.length),new e(this.database,ca(this._delegate,Xo(t)))},e.prototype.orderByChild=function(t){return R("Query.orderByChild",1,1,arguments.length),new e(this.database,ca(this._delegate,ea(t)))},e.prototype.orderByKey=function(){return R("Query.orderByKey",0,0,arguments.length),new e(this.database,ca(this._delegate,na()))},e.prototype.orderByPriority=function(){return R("Query.orderByPriority",0,0,arguments.length),new e(this.database,ca(this._delegate,ia()))},e.prototype.orderByValue=function(){return R("Query.orderByValue",0,0,arguments.length),new e(this.database,ca(this._delegate,aa()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),R("Query.startAt",0,2,arguments.length),new e(this.database,ca(this._delegate,Go(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),R("Query.startAfter",0,2,arguments.length),new e(this.database,ca(this._delegate,Jo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),R("Query.endAt",0,2,arguments.length),new e(this.database,ca(this._delegate,Vo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),R("Query.endBefore",0,2,arguments.length),new e(this.database,ca(this._delegate,Ho(t,n)))},e.prototype.equalTo=function(t,n){return R("Query.equalTo",1,2,arguments.length),new e(this.database,ca(this._delegate,ua(t,n)))},e.prototype.toString=function(){return R("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return R("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(R("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,L(e,"cancel",r.cancel,!0),r.context=n,F(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(D(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new ka(this.database,new bo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ka=function(e){function t(t,n){var r=e.call(this,t,new vo(n._repo,n._path,new tn,!1))||this;return r.database=t,r._delegate=n,r}return(0,o.ZT)(t,e),t.prototype.getKey=function(){return R("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return R("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Eo(this._delegate,e))},t.prototype.getParent=function(){R("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return R("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){R("Reference.set",1,2,arguments.length),L("Reference.set","onComplete",t,!0);var n=Io(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(R("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,ne("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ni("Reference.update",this._delegate._path),L("Reference.update","onComplete",t,!0);var i=xo(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){R("Reference.setWithPriority",2,3,arguments.length),L("Reference.setWithPriority","onComplete",n,!0);var r=No(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){R("Reference.remove",0,1,arguments.length),L("Reference.remove","onComplete",e,!0);var t=ko(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;R("Reference.transaction",1,3,arguments.length),L("Reference.transaction","transactionUpdate",e,!1),L("Reference.transaction","onComplete",t,!0),Ai("Reference.transaction","applyLocally",n,!0);var i=_a(this._delegate,e,{applyLocally:n}).then((function(e){return new Sa(e.committed,new Ea(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){R("Reference.setPriority",1,2,arguments.length),L("Reference.setPriority","onComplete",t,!0);var n=Co(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;R("Reference.push",0,2,arguments.length),L("Reference.push","onComplete",n,!0);var i=To(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var a=new t(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},t.prototype.onDisconnect=function(){return Ni("Reference.onDisconnect",this._delegate._path),new wa(new po(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ta),Ia=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t){pa(this._delegate,e,t)},e.prototype.ref=function(e){if(R("database.ref",0,1,arguments.length),e instanceof ka){var t=So(this._delegate,e.toString());return new ka(this,t)}t=wo(this._delegate,e);return new ka(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";R(t,1,1,arguments.length);var n=So(this._delegate,e);return new ka(this,n)},e.prototype.goOffline=function(){return R("database.goOffline",0,0,arguments.length),va(this._delegate)},e.prototype.goOnline=function(){return R("database.goOnline",0,0,arguments.length),ma(this._delegate)},e.ServerValue={TIMESTAMP:ya,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Ca=Object.freeze({__proto__:null,forceLongPolling:function(){Ue.forceDisallow(),De.forceAllow()},forceWebSockets:function(){De.forceDisallow()},isWebSocketsAvailable:function(){return Ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new vn(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);he(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;Me(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Ia(fa(t,c,n,u),t),namespace:a}}}),Na=ft;ft.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ft.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var xa=qe,Aa=ke,Pa=Object.freeze({__proto__:null,DataConnection:Na,RealTimeConnection:xa,hijackHash:function(e){var t=ft.prototype.put;return ft.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){ft.prototype.put=t}},ConnectionTarget:Aa,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){ha=e}(e)}}),Oa=Ia.ServerValue;!function(t){Me(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new Ia(fa(r,i,n),r)}),"PUBLIC").setServiceProps({Reference:ka,Query:Ta,Database:Ia,DataSnapshot:Ea,enableLogging:ga,INTERNAL:Ca,ServerValue:Oa,TEST_ACCESS:Pa}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.10"),b()&&(e.exports=n)}(r.Z)},6494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},8365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4246:function(e,t,n){"use strict";var r=n(9713).default,i=n(3038).default,o=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.colorFactory=void 0;var a=n(6143),s=n(8107),u=n(6100);t.colorFactory=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.config;return Object.assign.apply(Object,[{}].concat(o(Object.entries(e).map((function(e){var o=i(e,2),u=o[0],c=o[1];if("string"!==typeof c)return null;var l=s.hexToHsluv(c),h=n[u]||[];return Object.assign({},h.reduce((function(e,n){var o=n.name,u=a.__rest(n,["name"])[t],c=u.hue,h=void 0===c?l[0]:c,f=u.saturation,d=void 0===f?l[1]:f,p=u.lightness,v=void 0===p?l[2]:p,m=u.alpha,g=void 0===m?1:m,y=function(e,t){return"number"===typeof e?e:e(t)},b=s.hsluvToRgb([y(h,l[0]),y(d,l[1]),y(v,l[2])]).map((function(e){return Math.round(255*e)})),_=i(b,3),w=_[0],S=_[1],E=_[2];return Object.assign(Object.assign({},e),r({},o,"rgba(".concat(w,", ").concat(S,", ").concat(E,", ").concat(g,")")))}),{}))})))))}},6100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var r=n(574);t.config={surface:[{name:"background",description:"For use as a background color, in components such as Page and Frame backgrounds.",light:{lightness:97},dark:{lightness:3.3},meta:{figmaName:"Background/Default"}},{name:"backgroundHovered",description:"For use when an action or navigation is used on a background.",light:{lightness:95.5},dark:{lightness:3.3},meta:{figmaName:"Background/Hovered"}},{name:"backgroundPressed",description:"For use when an action or navigation is used on a background.",light:{lightness:94},dark:{lightness:3.3},meta:{figmaName:"Background/Pressed"}},{name:"backgroundSelected",description:"For use in the selected item in navigation",light:{lightness:94},dark:{lightness:3.3},meta:{figmaName:"Background/Selected"}},{name:"surface",description:"For use as a background color, in components such as Card, Modal, and Popover.",light:{lightness:100},dark:{lightness:12.7},meta:{figmaName:"Surface/Default"}},{name:"surfaceNeutral",description:"For use as a background color in neutral badges.",light:{lightness:91},dark:{lightness:21},meta:{figmaName:"Surface Neutral/Default"}},{name:"surfaceNeutralHovered",description:"For use as a hovered background color in neutral badges.",light:{lightness:88},dark:{lightness:21},meta:{figmaName:"Surface Neutral/Hovered"}},{name:"surfaceNeutralPressed",description:"For use as a pressed background color in neutral badges.",light:{lightness:82},dark:{lightness:21},meta:{figmaName:"Surface Neutral/Pressed"}},{name:"surfaceNeutralDisabled",description:"For use as a disabled background color in neutral badges.",light:{lightness:95.5},dark:{lightness:21},meta:{figmaName:"Surface Neutral/Disabled"}},{name:"surfaceNeutralSubdued",description:"For use as a background color in neutral banners.",light:{lightness:97},dark:{lightness:30},meta:{figmaName:"Surface Neutral/Subdued"}},{name:"surfaceSubdued",description:"For use as a subdued background color, in components such as Card, Modal, and Popover.",light:{lightness:98.5},dark:{lightness:10},meta:{figmaName:"Surface/Subdued"}},{name:"surfaceDisabled",description:"For use as a surface color on disabled interactive elements such as option list items and action list items when in a disabled state.",light:{lightness:98.5},dark:{lightness:10},meta:{figmaName:"Surface/Disabled"}},{name:"surfaceHovered",description:"For use as a surface color on interactive elements such as resource list items and action list items when in a hovered state.",light:{lightness:97},dark:{lightness:20},meta:{figmaName:"Surface/Hovered"}},{name:"surfacePressed",description:"For use as a surface color on interactive elements such as resource list items and action list items when in a pressed state.",light:{lightness:95.5},dark:{lightness:27},meta:{figmaName:"Surface/Pressed"}},{name:"surfaceDepressed",description:"For use as a surface color on interactive elements such as resource list items and action list items when in a depressed state.",light:{lightness:94},dark:{lightness:35},meta:{figmaName:"Surface/Depressed"}},{name:"surfaceSearchField",description:"For use as a background color, in components on surface elements such as SearchField",light:{lightness:95.5},dark:{lightness:20},meta:{figmaName:"Surface/SearchField"}},{name:"backdrop",description:"For use as the background color of the backdrop component for navigation and modal. This color has an alpha of `0.5`.",light:{hue:0,saturation:0,lightness:0,alpha:.5},dark:{hue:0,saturation:0,lightness:0,alpha:.5},meta:{figmaName:"Backdrop"}},{name:"overlay",description:"For use as the background color of elements which lay on top of surfaces to obscure their contents. This color has an alpha of `0.5`.",light:{hue:0,saturation:0,lightness:100,alpha:.5},dark:{hue:0,saturation:0,lightness:12.7,alpha:.5},meta:{figmaName:"Overlay"}},{name:"shadowFromDimLight",description:"For use in building shadows for modals. This color has an alpha of `0.02`.",light:{lightness:0,alpha:.2},dark:{lightness:100,alpha:.2},meta:{figmaName:"Shadow/From dim light"}},{name:"shadowFromAmbientLight",description:"For use in building shadows for popovers, and cards. This color has an alpha of `0.05`.",light:{hue:180,saturation:5,lightness:8,alpha:.05},dark:{hue:180,saturation:5,lightness:8,alpha:.05},meta:{figmaName:"Shadow/From ambient light"}},{name:"shadowFromDirectLight",description:"For use in building shadows for popovers and cards. This color has an alpha of `0.15`.",light:{hue:0,saturation:0,lightness:0,alpha:.15},dark:{hue:0,saturation:0,lightness:100,alpha:.15},meta:{figmaName:"Shadow/From direct light"}},{name:"hintFromDirectLight",description:"For use in building shadows scrollables.",light:{hue:0,saturation:0,lightness:0,alpha:.15},dark:{hue:0,saturation:0,lightness:75,alpha:.2},meta:{figmaName:"Hint/From direct light"}}],onSurface:[{name:"border",description:"For use as the default border on elements.",light:{lightness:60},dark:{lightness:35},meta:{figmaName:"Border/Default"}},{name:"borderNeutralSubdued",description:"For use as the border on banners.",light:{lightness:77},dark:{lightness:56},meta:{figmaName:"Border Neutral/Subdued"}},{name:"borderHovered",description:"Used for borders on hovered interactive elements",light:{lightness:65},dark:{lightness:35},meta:{figmaName:"Border/Hovered"}},{name:"borderDisabled",description:"Used for disabled borders on interactive elements",light:{lightness:85},dark:{lightness:45},meta:{figmaName:"Border/Disabled"}},{name:"borderSubdued",description:"For use as a subdued border on elements.",light:{saturation:r.saturationAdjustmentFn(-1),lightness:81.9},dark:{lightness:56},meta:{figmaName:"Border/Subdued"}},{name:"borderDepressed",description:"For use as a border on depressed elements.",light:{hue:r.hueRotationFn(-45),saturation:r.saturationAdjustmentFn(-4),lightness:37.7},dark:{hue:r.hueRotationFn(-45),saturation:r.saturationAdjustmentFn(-4),lightness:60},meta:{figmaName:"Border/Depressed"}},{name:"borderShadow",description:"For use as an additional bottom border on elements.",light:{lightness:73},dark:{lightness:40},meta:{figmaName:"BorderShadow"}},{name:"borderShadowSubdued",description:"For use as an additional, subdued bottom border on elements.",light:{lightness:77.1},dark:{lightness:56},meta:{figmaName:"BorderShadow/Subdued"}},{name:"divider",description:"For use as a divider between elements.",light:{saturation:r.saturationAdjustmentFn(-1),lightness:90.1},dark:{saturation:r.saturationAdjustmentFn(-1),lightness:30},meta:{figmaName:"Divider"}},{name:"icon",description:"For use as the fill color of icons.",light:{lightness:40.1},dark:{lightness:70.1},meta:{figmaName:"Icon/Default"}},{name:"iconHovered",description:"For use as the fill color of hovered icons.",light:{lightness:10},dark:{lightness:90},meta:{figmaName:"Icon/Hovered"}},{name:"iconPressed",description:"For use as the fill color of pressed icons.",light:{lightness:30},dark:{lightness:70},meta:{figmaName:"Icon/Pressed"}},{name:"iconDisabled",description:"For use as the fill color of disabled icons.",light:{lightness:76.9},dark:{lightness:36.8},meta:{figmaName:"Icon/Disabled"}},{name:"iconSubdued",description:"For use as the fill color of subdued icons.",light:{lightness:59.8},dark:{lightness:52.1},meta:{figmaName:"Icon/Subdued"}},{name:"text",description:"For use as a text color.",light:{lightness:13.1},dark:{lightness:90.8},meta:{figmaName:"Text/Default"}},{name:"textDisabled",description:"For use as a disabled text color and as a placeholder text color.",light:{lightness:60},dark:{lightness:48.2},meta:{figmaName:"Text/Disabled"}},{name:"textSubdued",description:"For use as a subdued text color.",light:{lightness:47.4},dark:{lightness:65.1},meta:{figmaName:"Text/Subdued"}}],interactive:[{name:"interactive",description:"Used for links, plain buttons, and as the fill color for selected checkboxes and radio buttons.",light:{lightness:47},dark:{lightness:65,saturation:r.saturationAdjustmentFn(11.2),hue:r.hueRotationFn(-7.1)},meta:{figmaName:"Interactive/Default"}},{name:"interactiveDisabled",description:"Used for disabled links and plain buttons.",light:{lightness:78,saturation:17},dark:{lightness:42},meta:{figmaName:"Interactive/Disabled"}},{name:"interactiveHovered",description:"Used for hovered links and plain buttons.",light:{lightness:35},dark:{lightness:70,saturation:r.saturationAdjustmentFn(11.2),hue:r.hueRotationFn(-7.1)},meta:{figmaName:"Interactive/Hovered"}},{name:"interactivePressed",description:"Used for pressed links and plain buttons.",light:{lightness:21},dark:{lightness:75,saturation:r.saturationAdjustmentFn(11.2),hue:r.hueRotationFn(-7.1)},meta:{figmaName:"Interactive/Pressed"}},{name:"iconInteractive",description:"For use as an interactive icon fill color",light:{lightness:47},dark:{lightness:65,saturation:r.saturationAdjustmentFn(11.2),hue:r.hueRotationFn(-7.1)},meta:{figmaName:"Icon/Interactive"}},{name:"focused",description:"For use in the focus ring on interactive elements.",light:{lightness:60,saturation:r.saturationAdjustmentFn(11.2)},dark:{lightness:42},meta:{figmaName:"Focused/Default"}},{name:"surfaceSelected",description:"For use as a surface color in selected interactive elements, in components such as action list and resource list.",light:{lightness:97,hue:r.hueRotationFn(-12)},dark:{lightness:4},meta:{figmaName:"Surface Selected/Default"}},{name:"surfaceSelectedHovered",description:"For use as a surface color in selected interactive elements that are hovered, in components such as action list and resource list.",light:{lightness:96,hue:r.hueRotationFn(-12)},dark:{lightness:11},meta:{figmaName:"Surface Selected/Hovered"}},{name:"surfaceSelectedPressed",description:"For use as a surface color in selected interactive elements that are pressed, in components such as action list and resource list.",light:{lightness:94,hue:r.hueRotationFn(-10)},dark:{lightness:18},meta:{figmaName:"Surface Selected/Pressed"}},{name:"iconOnInteractive",description:"For use as a fill color for icons on interactive elements.",light:{lightness:100},dark:{lightness:100},meta:{figmaName:"Icon On/Interactive"}},{name:"textOnInteractive",description:"For use as a text color on interactive elements.",light:{lightness:100},dark:{lightness:100},meta:{figmaName:"Text On/Interactive"}}],secondary:[{name:"actionSecondary",description:"Used for secondary buttons and tertiary buttons, as well as in form elements as a background color and pontentially other secondary surfaces.",light:{lightness:100},dark:{lightness:34},meta:{figmaName:"Action Secondary/Default"}},{name:"actionSecondaryDisabled",description:"Used as a disabled state for secondary buttons",light:{lightness:100},dark:{lightness:13},meta:{figmaName:"Action Secondary/Disabled"}},{name:"actionSecondaryHovered",description:"Used as a hovered state for secondary buttons",light:{lightness:97},dark:{lightness:37},meta:{figmaName:"Action Secondary/Hovered"}},{name:"actionSecondaryPressed",description:"Used as a pressed state for secondary buttons",light:{lightness:95.5},dark:{lightness:42},meta:{figmaName:"Action Secondary/Pressed"}},{name:"actionSecondaryDepressed",description:"Used as a depressed state for secondary buttons",light:{hue:r.hueRotationFn(4),lightness:47.4},dark:{hue:r.hueRotationFn(4),lightness:53},meta:{figmaName:"Action Secondary/Depressed"}}],primary:[{name:"actionPrimary",description:"Used as the background color for primary actions, and as the fill color for icons and the text color in navigation and tabs to communicate interaction states.",light:{lightness:47.3},dark:{lightness:47.3},meta:{figmaName:"Action Primary/Default"}},{name:"actionPrimaryDisabled",description:"Used as the background color for disabled primary actions, and as the fill color for icons and the text color in navigation and tabs to communicate interaction states.",light:{lightness:95,saturation:0},dark:{lightness:32},meta:{figmaName:"Action Primary/Disabled"}},{name:"actionPrimaryHovered",description:"Used as the background color for hovered primary actions, and as the fill color for icons and the text color in navigation and tabs to communicate interaction states.",light:{lightness:41},dark:{lightness:55},meta:{figmaName:"Action Primary/Hovered"}},{name:"actionPrimaryPressed",description:"Used as the background color for pressed primary actions, and as the fill color for icons and the text color in navigation and tabs to communicate interaction states.",light:{lightness:35},dark:{lightness:60},meta:{figmaName:"Action Primary/Pressed"}},{name:"actionPrimaryDepressed",description:"Used as the background color for pressed primary actions, and as the fill color for icons and the text color in navigation and tabs to communicate interaction states.",light:{lightness:22},dark:{lightness:65},meta:{figmaName:"Action Primary/Depressed"}},{name:"iconOnPrimary",description:"For use as a fill color for icons on primary actions. Not for use in icons on navigation and tabs.",light:{lightness:100},dark:{lightness:98},meta:{figmaName:"Icon On/Primary"}},{name:"textOnPrimary",description:"For use as a text color on primary actions. Not for use in text on navigation and tabs.",light:{lightness:100},dark:{lightness:100},meta:{figmaName:"Text On/Primary"}},{name:"textPrimary",description:"For use as primary text color on background. For use in text in components such as Navigation.",light:{lightness:45.7},dark:{lightness:52},meta:{figmaName:"Text Primary/Default"}},{name:"textPrimaryHovered",description:"For use as primary hovered text color on background. For use in text in components such as Navigation.",light:{lightness:40},dark:{lightness:58},meta:{figmaName:"Text Primary/hover"}},{name:"textPrimaryPressed",description:"For use as primary pressed text color on background. For use in text in components such as Navigation.",light:{lightness:34},dark:{lightness:64},meta:{figmaName:"Text Primary/Pressed"}},{name:"surfacePrimarySelected",description:"Used as a surface color to indicate selected interactive states in navigation and tabs.",light:{lightness:97,saturation:20},dark:{lightness:5,saturation:30},meta:{figmaName:"Surface Primary/Selected"}},{name:"surfacePrimarySelectedHovered",description:"Used as a surface color to indicate selected interactive states that are hovered in navigation and tabs.",light:{lightness:81,saturation:22},dark:{lightness:19,saturation:22},meta:{figmaName:"Surface Primary/Selected Hovered"}},{name:"surfacePrimarySelectedPressed",description:"Used as a surface color to indicate selected interactive states that are pressed in navigation and tabs.",light:{lightness:74,saturation:22},dark:{lightness:26,saturation:22},meta:{figmaName:"Surface Primary/Selected Pressed"}}],critical:[{name:"borderCritical",description:"For use as a border on critical components such as an outline on interactive elements in an error state.",light:{lightness:60},dark:{lightness:50},meta:{figmaName:"Border Critical/Default"}},{name:"borderCriticalSubdued",description:"For use as a border on critical components such as banners.",light:{lightness:77,saturation:r.saturationAdjustmentFn(-50)},dark:{lightness:50},meta:{figmaName:"Border Critical/Subdued"}},{name:"borderCriticalDisabled",description:"For use as a disabled border on critical components such as banners, and as an outline on interactive elements in an error state.",light:{lightness:77,saturation:r.saturationAdjustmentFn(2.7)},dark:{lightness:28},meta:{figmaName:"Border Critical/Disabled"}},{name:"iconCritical",description:"For use as an icon fill color on top of critical elements.",light:{lightness:47.3},dark:{lightness:48},meta:{figmaName:"Icon/Critical"}},{name:"surfaceCritical",description:"For use as a surface color on critical elements including badges.",light:{lightness:88},dark:{lightness:12},meta:{figmaName:"Surface Critical/Default"}},{name:"surfaceCriticalSubdued",description:"For use as a subdued surface color on critical elements including banners.",light:{lightness:97},dark:{lightness:12},meta:{figmaName:"Surface Critical/Subdued"}},{name:"surfaceCriticalSubduedHovered",description:"For use as a surface color on critical interactive elements including action list items in a hovered state.",light:{lightness:96},dark:{lightness:15,saturation:60},meta:{figmaName:"Surface Critical/Subdued Hovered",figmaDescription:"Used on action lists"}},{name:"surfaceCriticalSubduedPressed",description:"For use as a surface color on critical interactive elements including action list items in a pressed state.",light:{lightness:94},dark:{lightness:22},meta:{figmaName:"Surface Critical/Subdued Pressed"}},{name:"surfaceCriticalSubduedDepressed",description:"For use as a surface color on critical interactive elements including action list items in a depressed state.",light:{lightness:82},dark:{lightness:29},meta:{figmaName:"Surface Critical/Subdued Depressed"}},{name:"textCritical",description:"For use as a text color in inert critical elements such as exception list. Not for use as a text color on banners and badges.",light:{lightness:47.3},dark:{lightness:65,saturation:70},meta:{figmaName:"Text/Critical"}},{name:"actionCritical",description:"For use as the background color for destructive buttons, and as the background color for error toast messages.",light:{lightness:47.5},dark:{lightness:45},meta:{figmaName:"Action Critical/Default"}},{name:"actionCriticalDisabled",description:"For use as the background color for disabled destructive buttons, and as the background color for error toast messages.",light:{lightness:95,saturation:0},dark:{lightness:41},meta:{figmaName:"Action Critical/Disabled"}},{name:"actionCriticalHovered",description:"For use as the background color for hovered destructive buttons, and as the background color for error toast messages.",light:{lightness:41,saturation:r.saturationAdjustmentFn(2.7)},dark:{lightness:50},meta:{figmaName:"Action Critical/Hovered"}},{name:"actionCriticalPressed",description:"For use as the background color for pressed destructive buttons, and as the background color for error toast messages.",light:{lightness:35,saturation:r.saturationAdjustmentFn(2.7)},dark:{lightness:55},meta:{figmaName:"Action Critical/Pressed"}},{name:"actionCriticalDepressed",description:"For use as the background color for depressed destructive buttons, and as the background color for error toast messages.",light:{lightness:22,saturation:r.saturationAdjustmentFn(2.7)},dark:{lightness:60},meta:{figmaName:"Action Critical/Depressed"}},{name:"iconOnCritical",description:"For use as a fill color for icons on critical actions.",light:{lightness:100},dark:{lightness:98},meta:{figmaName:"Icon On/Critical"}},{name:"textOnCritical",description:"For use as a text color on critical actions.",light:{lightness:100},dark:{lightness:100},meta:{figmaName:"Text On/Critical"}},{name:"interactiveCritical",description:"For use as the text color for destructive interactive elements: links, plain buttons, error state of selected checkboxes and radio buttons, as well as a text color on destructive action list items. Not for use on critical banners and badges.",light:{lightness:47.5},dark:{lightness:65},meta:{figmaName:"Interactive/Critical"}},{name:"interactiveCriticalDisabled",description:"For use as a text color in disabled destructive plain buttons, as well as a text color on destructive action list items. Not for use on critical banners and badges.",light:{lightness:72},dark:{lightness:78},meta:{figmaName:"Interactive/Critical Disabled"}},{name:"interactiveCriticalHovered",description:"For use as a text color in hovered destructive plain buttons, as well as a text color on destructive action list items. Not for use on critical banners and badges.",light:{lightness:45},dark:{lightness:70},meta:{figmaName:"Interactive/Critical Hovered"}},{name:"interactiveCriticalPressed",description:"For use as a text color in pressed destructive plain buttons, as well as a text color on destructive action list items. Not for use on critical banners and badges.",light:{lightness:21},dark:{lightness:75},meta:{figmaName:"Interactive/Critical Pressed"}}],warning:[{name:"borderWarning",description:"For use as a border on warning components such as...",light:{lightness:60},dark:{lightness:50},meta:{figmaName:"Border Warning/Default"}},{name:"borderWarningSubdued",description:"For use as a border on warning components such as banners.",light:{lightness:77,saturation:r.saturationAdjustmentFn(-40)},dark:{lightness:50},meta:{figmaName:"Border Warning/Subdued"}},{name:"iconWarning",description:"For use as an icon fill color on top of warning elements.",light:{lightness:60},dark:{lightness:34},meta:{figmaName:"Icon/Warning"}},{name:"surfaceWarning",description:"For use as a surface color on warning elements including badges.",light:{lightness:88},dark:{lightness:50},meta:{figmaName:"Surface Warning/Default",figmaDescription:"Use for badges"}},{name:"surfaceWarningSubdued",description:"For use as a subdued surface color on warning elements including banners.",light:{lightness:97},dark:{lightness:26,saturation:71},meta:{figmaName:"Surface Warning/Subdued",figmaDescription:"Used for banners"}},{name:"surfaceWarningSubduedHovered",description:"For use as a subdued surface color on warning elements including banners.",light:{lightness:96},dark:{lightness:28,saturation:71},meta:{figmaName:"Surface Warning/Subdued Hovered",figmaDescription:"Used for banners"}},{name:"surfaceWarningSubduedPressed",description:"For use as a subdued surface color on warning elements including banners.",light:{lightness:94},dark:{lightness:30,saturation:71},meta:{figmaName:"Surface Warning/Subdued Pressed",figmaDescription:"Used for banners"}},{name:"textWarning",description:"For use as a text color in inert critical elements such as exception list. Not for use as a text color on banners and badges.",light:{lightness:47.4},dark:{lightness:64.9},meta:{figmaName:"Text/Warning"}}],highlight:[{name:"borderHighlight",description:"For use as a border on informational components such as...",light:{lightness:60},dark:{lightness:60},meta:{figmaName:"Border Highlight/Default"}},{name:"borderHighlightSubdued",description:"For use as a border on informational components such as banners.",light:{lightness:77,saturation:r.saturationAdjustmentFn(-40)},dark:{lightness:60},meta:{figmaName:"Border Highlight/Subdued"}},{name:"iconHighlight",description:"For use as an icon fill color on top of informational elements.",light:{lightness:60,saturation:r.saturationAdjustmentFn(19.6)},dark:{lightness:42},meta:{figmaName:"Icon/Highlight"}},{name:"surfaceHighlight",description:"For use as a surface color on information elements including badges.",light:{lightness:88,saturation:r.saturationAdjustmentFn(-20.4)},dark:{lightness:40,saturation:100},meta:{figmaName:"Surface Highlight/Default"}},{name:"surfaceHighlightSubdued",description:"For use as a surface color on information elements including banners.",light:{lightness:97,saturation:r.saturationAdjustmentFn(-20.4)},dark:{lightness:20},meta:{figmaName:"Surface Highlight/Subdued"}},{name:"surfaceHighlightSubduedHovered",description:"For use as a surface color on information elements including banners.",light:{lightness:96,saturation:r.saturationAdjustmentFn(-20.4)},dark:{lightness:22},meta:{figmaName:"Surface Highlight/Subdued Hovered"}},{name:"surfaceHighlightSubduedPressed",description:"For use as a surface color on information elements including banners.",light:{lightness:94,saturation:r.saturationAdjustmentFn(-20.4)},dark:{lightness:25},meta:{figmaName:"Surface Highlight/Subdued Pressed"}},{name:"textHighlight",description:"For use as a text color in inert informational elements. Not for use as a text color on banners and badges.",light:{lightness:48},dark:{lightness:90},meta:{figmaName:"Text/Highlight"}}],success:[{name:"borderSuccess",description:"For use as a border on success components such as text inputs.",light:{lightness:60},dark:{lightness:50},meta:{figmaName:"Border Success/Default"}},{name:"borderSuccessSubdued",description:"For use as a border on success components such as banners.",light:{lightness:77,saturation:r.saturationAdjustmentFn(-60)},dark:{lightness:50},meta:{figmaName:"Border Success/Subdued"}},{name:"iconSuccess",description:"For use as an icon fill color on top of success elements.",light:{lightness:47},dark:{lightness:35},meta:{figmaName:"Icon/Success"}},{name:"surfaceSuccess",description:"For use as a surface color on success elements including badges.",light:{lightness:88,saturation:r.saturationAdjustmentFn(-60)},dark:{lightness:35},meta:{figmaName:"Surface Success/Default"}},{name:"surfaceSuccessSubdued",description:"For use as a surface color on information elements including banners.",light:{lightness:97,saturation:r.saturationAdjustmentFn(-80)},dark:{lightness:20,saturation:r.saturationAdjustmentFn(-40)},meta:{figmaName:"Surface Success/Subdued"}},{name:"surfaceSuccessSubduedHovered",description:"For use as a surface color on information elements including banners.",light:{lightness:96,saturation:r.saturationAdjustmentFn(-80)},dark:{lightness:22,saturation:r.saturationAdjustmentFn(-40)},meta:{figmaName:"Surface Success/Subdued Hovered"}},{name:"surfaceSuccessSubduedPressed",description:"For use as a surface color on information elements including banners.",light:{lightness:94,saturation:r.saturationAdjustmentFn(-80)},dark:{lightness:25,saturation:r.saturationAdjustmentFn(-40)},meta:{figmaName:"Surface Success/Subdued Pressed"}},{name:"textSuccess",description:"For use as a text color in inert success elements. Not for use as a text color on banners and badges.",light:{lightness:47.3},dark:{lightness:65,saturation:r.saturationAdjustmentFn(-30)},meta:{figmaName:"Text/Success"}}],decorative:[{name:"decorativeOneIcon",description:"For use as a decorative icon color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(-4.5),lightness:40},dark:{hue:r.hueRotationFn(-4.5),lightness:80},meta:{figmaName:"Decorative/Icon/One"}},{name:"decorativeOneSurface",description:"For use as a decorative surface color.",light:{lightness:84},dark:{hue:r.hueRotationFn(-2.5),saturation:r.saturationAdjustmentFn(-2),lightness:46},meta:{figmaName:"Decorative/Surface/One"}},{name:"decorativeOneText",description:"For use as a decorative text color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(-4.5),lightness:18},dark:{lightness:100},meta:{figmaName:"Decorative/Text/One"}},{name:"decorativeTwoIcon",description:"For use as a decorative icon color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(305.5),saturation:r.saturationAdjustmentFn(-20),lightness:40},dark:{hue:r.hueRotationFn(305.5),saturation:r.saturationAdjustmentFn(-20),lightness:80},meta:{figmaName:"Decorative/Icon/Two"}},{name:"decorativeTwoSurface",description:"For use as a decorative surface color.",light:{hue:r.hueRotationFn(-26.5),lightness:84},dark:{hue:r.hueRotationFn(-32.5),saturation:r.saturationAdjustmentFn(-4),lightness:52},meta:{figmaName:"Decorative/Surface/Two"}},{name:"decorativeTwoText",description:"For use as a decorative text color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(305.5),saturation:r.saturationAdjustmentFn(-20),lightness:14},dark:{lightness:100},meta:{figmaName:"Decorative/Text/Two"}},{name:"decorativeThreeIcon",description:"For use as a decorative icon color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(87.5),lightness:40},dark:{hue:r.hueRotationFn(87.5),lightness:80},meta:{figmaName:"Decorative/Icon/Three"}},{name:"decorativeThreeSurface",description:"For use as a decorative surface color.",light:{hue:r.hueRotationFn(87.5),saturation:r.saturationAdjustmentFn(-46),lightness:85},dark:{hue:r.hueRotationFn(97.5),lightness:46},meta:{figmaName:"Decorative/Surface/Three"}},{name:"decorativeThreeText",description:"For use as a decorative text color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(87.5),lightness:16},dark:{lightness:100},meta:{figmaName:"Decorative/Text/Three"}},{name:"decorativeFourIcon",description:"For use as a decorative icon color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(133.5),lightness:40},dark:{hue:r.hueRotationFn(133.5),lightness:80},meta:{figmaName:"Decorative/Icon/Four"}},{name:"decorativeFourSurface",description:"For use as a decorative surface color.",light:{hue:r.hueRotationFn(123.5),saturation:r.saturationAdjustmentFn(-44),lightness:84},dark:{hue:r.hueRotationFn(131.5),saturation:r.saturationAdjustmentFn(-5),lightness:47},meta:{figmaName:"Decorative/Surface/Four"}},{name:"decorativeFourText",description:"For use as a decorative text color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(133.5),lightness:16},dark:{lightness:100},meta:{figmaName:"Decorative/Text/Four"}},{name:"decorativeFiveIcon",description:"For use as a decorative icon color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(306.5),saturation:r.saturationAdjustmentFn(-22),lightness:40},dark:{hue:r.hueRotationFn(306.5),saturation:r.saturationAdjustmentFn(-22),lightness:80},meta:{figmaName:"Decorative/Icon/Five"}},{name:"decorativeFiveSurface",description:"For use as a decorative surface color.",light:{hue:r.hueRotationFn(-53.4),saturation:r.saturationAdjustmentFn(-5.4),lightness:85.6},dark:{hue:r.hueRotationFn(306.5),saturation:r.saturationAdjustmentFn(-23),lightness:45},meta:{figmaName:"Decorative/Surface/Five"}},{name:"decorativeFiveText",description:"For use as a decorative text color that is applied on a decorative surface.",light:{hue:r.hueRotationFn(306.5),saturation:r.saturationAdjustmentFn(-22),lightness:16},dark:{lightness:100},meta:{figmaName:"Decorative/Text/Five"}}]}},9589:function(e,t,n){"use strict";t.t8=t.wP=void 0;var r=n(4246);Object.defineProperty(t,"wP",{enumerable:!0,get:function(){return r.colorFactory}});var i=n(574);Object.defineProperty(t,"t8",{enumerable:!0,get:function(){return i.mergeConfigs}})},574:function(e,t,n){"use strict";var r=n(9713).default,i=n(319).default,o=n(3038).default;Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfigs=t.saturationAdjustmentFn=t.hueRotationFn=void 0,t.hueRotationFn=function(e){return function(t){return(360+t+e)%360}},t.saturationAdjustmentFn=function(e){return function(t){return Math.min(Math.max(t+e,0),100)}},t.mergeConfigs=function(e,t){return Object.entries(e).reduce((function(e,n){var a=o(n,2),s=a[0],u=a[1],c=t[s],l=i(u);return null!=c&&c.forEach((function(e){var t=e.name,n=l.findIndex((function(e){return e.name===t}));-1===n?l.push(e):l.splice(n,1,e)})),Object.assign(Object.assign({},e),r({},s,l))}),{})}},6143:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return h},__createBinding:function(){return f},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return m},__spreadArrays:function(){return g},__await:function(){return y},__asyncGenerator:function(){return b},__asyncDelegator:function(){return _},__asyncValues:function(){return w},__makeTemplateObject:function(){return S},__importStar:function(){return E},__importDefault:function(){return T},__classPrivateFieldGet:function(){return k},__classPrivateFieldSet:function(){return I}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof y?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8210:function(){!function(){"use strict";function e(e){var t=!0,n=!1,r=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function o(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!i[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}function s(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function u(e){e.hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added"))}function c(n){n.metaKey||n.altKey||n.ctrlKey||(o(e.activeElement)&&s(e.activeElement),t=!0)}function l(e){t=!1}function h(e){o(e.target)&&(t||a(e.target))&&s(e.target)}function f(e){o(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),u(e.target))}function d(e){"hidden"===document.visibilityState&&(n&&(t=!0),p())}function p(){document.addEventListener("mousemove",m),document.addEventListener("mousedown",m),document.addEventListener("mouseup",m),document.addEventListener("pointermove",m),document.addEventListener("pointerdown",m),document.addEventListener("pointerup",m),document.addEventListener("touchmove",m),document.addEventListener("touchstart",m),document.addEventListener("touchend",m)}function v(){document.removeEventListener("mousemove",m),document.removeEventListener("mousedown",m),document.removeEventListener("mouseup",m),document.removeEventListener("pointermove",m),document.removeEventListener("pointerdown",m),document.removeEventListener("pointerup",m),document.removeEventListener("touchmove",m),document.removeEventListener("touchstart",m),document.removeEventListener("touchend",m)}function m(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,v())}document.addEventListener("keydown",c,!0),document.addEventListener("mousedown",l,!0),document.addEventListener("pointerdown",l,!0),document.addEventListener("touchstart",l,!0),document.addEventListener("visibilitychange",d,!0),p(),e.addEventListener("focus",h,!0),e.addEventListener("blur",f,!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!==typeof window&&"undefined"!==typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(n){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!==typeof document&&e(document)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},8107:function(e){var t=t||{};t.Geometry=function(){},t.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},t.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},t.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},t.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope;return{slope:n,intercept:t.y-n*t.x}},t.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},t.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t},t.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))},t.Hsluv=function(){},t.Hsluv.getBounds=function(e){for(var n=[],r=Math.pow(e+16,3)/1560896,i=r>t.Hsluv.epsilon?r:e/t.Hsluv.kappa,o=0;o<3;)for(var a=o++,s=t.Hsluv.m[a][0],u=t.Hsluv.m[a][1],c=t.Hsluv.m[a][2],l=0;l<2;){var h=l++,f=(284517*s-94839*c)*i,d=(838422*c+769860*u+731718*s)*e*i-769860*h*e,p=(632260*c-126452*u)*i+126452*h;n.push({slope:f/p,intercept:d/p})}return n},t.Hsluv.maxSafeChromaForL=function(e){for(var n=t.Hsluv.getBounds(e),r=1/0,i=0;i<n.length;){var o=n[i];++i;var a=t.Geometry.distanceLineFromOrigin(o);r=Math.min(r,a)}return r},t.Hsluv.maxChromaForLH=function(e,n){for(var r=n/360*Math.PI*2,i=t.Hsluv.getBounds(e),o=1/0,a=0;a<i.length;){var s=i[a];++a;var u=t.Geometry.lengthOfRayUntilIntersect(r,s);u>=0&&(o=Math.min(o,u))}return o},t.Hsluv.dotProduct=function(e,t){for(var n=0,r=0,i=e.length;r<i;){var o=r++;n+=e[o]*t[o]}return n},t.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},t.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},t.Hsluv.xyzToRgb=function(e){return[t.Hsluv.fromLinear(t.Hsluv.dotProduct(t.Hsluv.m[0],e)),t.Hsluv.fromLinear(t.Hsluv.dotProduct(t.Hsluv.m[1],e)),t.Hsluv.fromLinear(t.Hsluv.dotProduct(t.Hsluv.m[2],e))]},t.Hsluv.rgbToXyz=function(e){var n=[t.Hsluv.toLinear(e[0]),t.Hsluv.toLinear(e[1]),t.Hsluv.toLinear(e[2])];return[t.Hsluv.dotProduct(t.Hsluv.minv[0],n),t.Hsluv.dotProduct(t.Hsluv.minv[1],n),t.Hsluv.dotProduct(t.Hsluv.minv[2],n)]},t.Hsluv.yToL=function(e){return e<=t.Hsluv.epsilon?e/t.Hsluv.refY*t.Hsluv.kappa:116*Math.pow(e/t.Hsluv.refY,.3333333333333333)-16},t.Hsluv.lToY=function(e){return e<=8?t.Hsluv.refY*e/t.Hsluv.kappa:t.Hsluv.refY*Math.pow((e+16)/116,3)},t.Hsluv.xyzToLuv=function(e){var n=e[0],r=e[1],i=n+15*r+3*e[2],o=4*n,a=9*r;0!=i?(o/=i,a/=i):(o=NaN,a=NaN);var s=t.Hsluv.yToL(r);return 0==s?[0,0,0]:[s,13*s*(o-t.Hsluv.refU),13*s*(a-t.Hsluv.refV)]},t.Hsluv.luvToXyz=function(e){var n=e[0],r=e[1],i=e[2];if(0==n)return[0,0,0];var o=r/(13*n)+t.Hsluv.refU,a=i/(13*n)+t.Hsluv.refV,s=t.Hsluv.lToY(n),u=0-9*s*o/((o-4)*a-o*a);return[u,s,(9*s-15*a*s-a*u)/(3*a)]},t.Hsluv.luvToLch=function(e){var t,n=e[0],r=e[1],i=e[2],o=Math.sqrt(r*r+i*i);o<1e-8?t=0:(t=180*Math.atan2(i,r)/Math.PI)<0&&(t=360+t);return[n,o,t]},t.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,Math.cos(r)*n,Math.sin(r)*n]},t.Hsluv.hsluvToLch=function(e){var n=e[0],r=e[1],i=e[2];return i>99.9999999?[100,0,n]:i<1e-8?[0,0,n]:[i,t.Hsluv.maxChromaForLH(i,n)/100*r,n]},t.Hsluv.lchToHsluv=function(e){var n=e[0],r=e[1],i=e[2];return n>99.9999999?[i,0,100]:n<1e-8?[i,0,0]:[i,r/t.Hsluv.maxChromaForLH(n,i)*100,n]},t.Hsluv.hpluvToLch=function(e){var n=e[0],r=e[1],i=e[2];return i>99.9999999?[100,0,n]:i<1e-8?[0,0,n]:[i,t.Hsluv.maxSafeChromaForL(i)/100*r,n]},t.Hsluv.lchToHpluv=function(e){var n=e[0],r=e[1],i=e[2];return n>99.9999999?[i,0,100]:n<1e-8?[i,0,0]:[i,r/t.Hsluv.maxSafeChromaForL(n)*100,n]},t.Hsluv.rgbToHex=function(e){for(var n="#",r=0;r<3;){var i=e[r++],o=Math.round(255*i),a=o%16,s=(o-a)/16|0;n+=t.Hsluv.hexChars.charAt(s)+t.Hsluv.hexChars.charAt(a)}return n},t.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var n=[],r=0;r<3;){var i=r++,o=16*t.Hsluv.hexChars.indexOf(e.charAt(2*i+1))+t.Hsluv.hexChars.indexOf(e.charAt(2*i+2));n.push(o/255)}return n},t.Hsluv.lchToRgb=function(e){return t.Hsluv.xyzToRgb(t.Hsluv.luvToXyz(t.Hsluv.lchToLuv(e)))},t.Hsluv.rgbToLch=function(e){return t.Hsluv.luvToLch(t.Hsluv.xyzToLuv(t.Hsluv.rgbToXyz(e)))},t.Hsluv.hsluvToRgb=function(e){return t.Hsluv.lchToRgb(t.Hsluv.hsluvToLch(e))},t.Hsluv.rgbToHsluv=function(e){return t.Hsluv.lchToHsluv(t.Hsluv.rgbToLch(e))},t.Hsluv.hpluvToRgb=function(e){return t.Hsluv.lchToRgb(t.Hsluv.hpluvToLch(e))},t.Hsluv.rgbToHpluv=function(e){return t.Hsluv.lchToHpluv(t.Hsluv.rgbToLch(e))},t.Hsluv.hsluvToHex=function(e){return t.Hsluv.rgbToHex(t.Hsluv.hsluvToRgb(e))},t.Hsluv.hpluvToHex=function(e){return t.Hsluv.rgbToHex(t.Hsluv.hpluvToRgb(e))},t.Hsluv.hexToHsluv=function(e){return t.Hsluv.rgbToHsluv(t.Hsluv.hexToRgb(e))},t.Hsluv.hexToHpluv=function(e){return t.Hsluv.rgbToHpluv(t.Hsluv.hexToRgb(e))},t.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],t.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],t.Hsluv.refY=1,t.Hsluv.refU=.19783000664283,t.Hsluv.refV=.46831999493879,t.Hsluv.kappa=903.2962962,t.Hsluv.epsilon=.0088564516,t.Hsluv.hexChars="0123456789abcdef";var n={hsluvToRgb:t.Hsluv.hsluvToRgb,rgbToHsluv:t.Hsluv.rgbToHsluv,hpluvToRgb:t.Hsluv.hpluvToRgb,rgbToHpluv:t.Hsluv.rgbToHpluv,hsluvToHex:t.Hsluv.hsluvToHex,hexToHsluv:t.Hsluv.hexToHsluv,hpluvToHex:t.Hsluv.hpluvToHex,hexToHpluv:t.Hsluv.hexToHpluv,lchToHpluv:t.Hsluv.lchToHpluv,hpluvToLch:t.Hsluv.hpluvToLch,lchToHsluv:t.Hsluv.lchToHsluv,hsluvToLch:t.Hsluv.hsluvToLch,lchToLuv:t.Hsluv.lchToLuv,luvToLch:t.Hsluv.luvToLch,xyzToLuv:t.Hsluv.xyzToLuv,luvToXyz:t.Hsluv.luvToXyz,xyzToRgb:t.Hsluv.xyzToRgb,rgbToXyz:t.Hsluv.rgbToXyz,lchToRgb:t.Hsluv.lchToRgb,rgbToLch:t.Hsluv.rgbToLch};e.exports=n},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,h,f,d,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,h=e.apply(r,n)}function b(e){return p=e,f=setTimeout(w,t),v?y(e):h}function _(e){var n=e-d;return void 0===d||n>=t||n<0||m&&e-p>=l}function w(){var e=i();if(_(e))return S(e);f=setTimeout(w,function(e){var n=t-(e-d);return m?s(n,l-(e-p)):n}(e))}function S(e){return f=void 0,g&&u?y(e):(u=c=void 0,h)}function E(){var e=i(),n=_(e);if(u=arguments,c=this,d=e,n){if(void 0===f)return b(d);if(m)return clearTimeout(f),f=setTimeout(w,t),y(d)}return void 0===f&&(f=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?a(o(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=d=c=f=void 0},E.flush=function(){return void 0===f?h:S(i())},E}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},2582:function(e,t,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,T=60107,k=60108,I=60114,C=60109,N=60110,x=60112,A=60113,P=60120,O=60115,R=60116,D=60121,L=60128,F=60129,M=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),E=U("react.portal"),T=U("react.fragment"),k=U("react.strict_mode"),I=U("react.profiler"),C=U("react.provider"),N=U("react.context"),x=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),F=U("react.debug_trace_mode"),M=U("react.offscreen"),j=U("react.legacy_hidden")}var B,q="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function G(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case I:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return W(e.type);case D:return W(e._render);case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function J(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=J(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=J(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,J(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+J(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:J(n)}}function ce(e,t){var n=J(t.value),r=J(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ne=null,xe=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Pe(e){Ne?xe?xe.push(e):xe=[e]:Ne=e}function Oe(){if(Ne){var e=Ne,t=xe;if(xe=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Fe=Re,Me=!1,je=!1;function Ue(){null===Ne&&null===xe||(Le(),Oe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(h)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(me){qe=!1}function ze(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,Ke=null,Ge=!1,We=null,Je={onError:function(e){He=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,s,u){He=!1,Ke=null,ze.apply(Je,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function St(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},kt={},It={};function Ct(e){if(kt[e])return kt[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return kt[e]=n[t];return e}h&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Nt=Ct("animationend"),xt=Ct("animationiteration"),At=Ct("animationstart"),Pt=Ct("transitionend"),Ot=new Map,Rt=new Map,Dt=["abort","abort",Nt,"animationEnd",xt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Ft=8;function Mt(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Ft=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Ft):0!==(s&=o)&&(r=Mt(s),i=Ft)}else 0!==(o=n&~a)?(r=Mt(o),i=Ft):0!==s&&(r=Mt(s),i=Ft);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Ft)return t;Ft=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Bt(10,t):e;case 10:return 0===(e=qt(192&~t))?Bt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Gt|0)|0},Kt=Math.log,Gt=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Jt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||Le();var i=Xt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Jt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,mt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=un(wn),En=un(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Nn(){return Cn}var xn=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(xn),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Rn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Fn=[9,13,27,32],Mn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Un=h&&"TextEvent"in window&&!jn,Bn=h&&(!Mn||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Jn(e,t,n,r){Pe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){xr(e,0)}function Xn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",or),$n=Qn=null)}function or(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Jn(t,$n,e,Ie(e)),e=Yn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,wr=null,Sr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==br||br!==X(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Tr.length;kr++)Rt.set(Tr[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(a(198));var l=Ke;He=!1,Ke=null,Ge||(Ge=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}}}if(Ge)throw e=We,Ge=!1,We=null,e}function Ar(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Cr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Fe(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=Ie(n),a=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Nt:case xt:case At:u=_n;break;case Pt:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Be(p,f))&&l.push(Fr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=f;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)f=jr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=jr(l),f=jr(f)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==h&&Ur(a,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Wn(s))if(er)m=cr;else{m=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Jn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(br=g,_r=r,wr=null);break;case"focusout":wr=_r=br=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Er(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(g=Mr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Vn=!0,qn);case"textInput":return(e=t.data)===qn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&zn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}xr(a,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Fr(e,o,i)),null!=(o=Be(e,t))&&r.push(Fr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,o))&&a.unshift(Fr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Fr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var qr=null,Vr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Jr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==fi)throw Error(a(168));hi(di,t),hi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var Ei=null,Ti=null,ki=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ni=o.unstable_shouldYield,xi=o.unstable_requestPaint,Ai=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Fi=o.unstable_IdlePriority,Mi={},ji=void 0!==xi?xi:function(){},Ui=null,Bi=null,qi=!1,Vi=Ai(),zi=1e4>Vi?Ai:function(){return Ai()-Vi};function Hi(){switch(Pi()){case Oi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Fi:return 95;default:throw Error(a(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Fi;default:throw Error(a(332))}}function Gi(e,t){return e=Ki(e),ki(e,t)}function Wi(e,t,n){return e=Ki(e),Ii(e,t,n)}function Ji(){if(null!==Bi){var e=Bi;Bi=null,Ci(e)}Qi()}function Qi(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Oi,Ji),n}finally{qi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,qs|=s,e.lanes=s,e.memoizedState=f}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?vi:di.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ju(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case E:return(t=Yu(t,e.mode,n)).return=e,t}if(Eo(t)||V(t))return(t=Ju(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(Eo(n)||V(n))return null!==i?null:h(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Ju(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Wu(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=$u(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return v(e,r,o,u);if(V(o))return m(e,r,o,u);if(l&&ko(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var Co=Io(!0),No=Io(!1),xo={},Ao=ci(xo),Po=ci(xo),Oo=ci(xo);function Ro(e){if(e===xo)throw Error(a(174));return e}function Do(e,t){switch(hi(Oo,t),hi(Po,e),hi(Ao,xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ao),hi(Ao,t)}function Lo(){li(Ao),li(Po),li(Oo)}function Fo(e){Ro(Oo.current);var t=Ro(Ao.current),n=pe(t,e.type);t!==n&&(hi(Po,e),hi(Ao,n))}function Mo(e){Po.current===e&&(li(Ao),li(Po))}var jo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,qo=null,Vo=!1;function zo(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ko(e){if(Vo){var t=qo;if(t){var n=t;if(!Ho(e,t)){if(!(t=Jr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Bo=e);zo(Bo,n)}Bo=e,qo=Jr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Bo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Wo(e){if(e!==Bo)return!1;if(!Vo)return Go(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=qo;t;)zo(e,t),t=Jr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Jr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Bo?Jr(e.stateNode.nextSibling):null;return!0}function Jo(){qo=Bo=null,Vo=!1}var Qo=[];function $o(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Yo=w.ReactCurrentDispatcher,Xo=w.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Ra:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Yo.current=La,e=n(r,i)}while(ia)}if(Yo.current=Oa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ea.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],h=c[0];c=na;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var m=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Ht(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:h}).dispatch=l=Pa.bind(null,ea,e),c.queue=e,c.baseQueue=null,h=da(i,t,n),c.memoizedState=c.baseState=h),h}function va(e,t,n){return pa(ca(),e,t,n)}function ma(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function _a(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function Sa(e,t){return _a(516,4,e,t)}function Ea(e,t){return wa(516,4,e,t)}function Ta(e,t){return wa(4,2,e,t)}function ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)}function Ca(){}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=Hi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Pa(e,t,n){var r=fu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ma,useDebugValue:Ca,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Sa((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ya(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return ma(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Na,useContext:ao,useEffect:Ea,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:xa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Na,useContext:ao,useEffect:Ea,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:xa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Fa=w.ReactCurrentOwner,Ma=!1;function ja(e,t,n,r){t.child=null===e?No(t,null,n,r):Co(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Ku(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Gu(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return Ha(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Su(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Su(t,e),null;t.memoizedState={baseLanes:0},Su(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Su(t,r);return ja(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=gi(n)?vi:di.current;return o=mi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ka(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&wo(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||pi.current||so?("function"===typeof d&&(go(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,f,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ga(e,t,n,r,o,i)}function Ga(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Si(t,n,!1),os(e,t,o);r=t.stateNode,Fa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Ja,Qa,$a,Ya={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(jo,1&o),null===e?(void 0!==i.fallback&&Ko(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Qu(t,i,0,null),n=Ju(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(a,s),null!==e?r=Gu(e,r):(r=Ju(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Lo(),li(pi),li(di),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Ro(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Qa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Ao.current),Wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Ar(Ir[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Ja(e,t),t.stateNode=e,c=ke(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Ar(Ir[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Ar("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Se(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Ar("scroll",e):null!=h&&_(e,s,h,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+J(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(Oo.current),Ro(Ao.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Rs||0===(134217727&qs)&&0===(134217727&Vs)||yu(Rs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(jo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Gs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=jo.current,hi(jo,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(jo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Ao.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(h in Te(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},$a=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Fu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){Bu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:vs(t);break;case 4:ks(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ts(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Se(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=zi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xs=Math.ceil,As=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Os=0,Rs=null,Ds=null,Ls=0,Fs=0,Ms=ci(0),js=0,Us=null,Bs=0,qs=0,Vs=0,zs=0,Hs=null,Ks=0,Gs=1/0;function Ws(){Gs=zi()+500}var Js,Qs=null,$s=!1,Ys=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&Os)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Bs),0!==$i.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Os)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Rs&&(Vs|=t,4===js&&yu(e,Ls));var r=Hi();1===t?0!==(8&Os)&&0===(48&Os)?bu(e):(mu(e,n),0===Os&&(Ws(),Ji())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var h=Ft;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Rs?Ls:0),t=Ft,0===r)null!==n&&(n!==Mi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ci(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Bi=Ii(Oi,Qi)):Ui.push(n),n=Mi):14===t?n=Wi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Wi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=jt(e,e===Rs?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Iu();for(Rs===e&&Ls===r||(Ws(),Tu(e,r));;)try{xu();break}catch(u){ku(e,u)}if(no(),As.current=o,Os=i,null!==Ds?r=0:(Rs=null,Ls=0,r=js),0!==(Bs&Vs))Tu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cu(e,n))),1===r)throw t=Us,Tu(e,0),yu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ks+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return mu(e,zi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~zs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Os))throw Error(a(327));if(Lu(),e===Rs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(Bs&Vs)&&(n=Cu(e,t=jt(e,t)))}else n=Cu(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cu(e,t))),1===n)throw n=Us,Tu(e,0),yu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),mu(e,zi()),null}function _u(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Ws(),Ji())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Ws(),Ji())}}function Su(e,t){hi(Ms,Fs),Fs|=t,Bs|=t}function Eu(){Fs=Ms.current,li(Ms)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Lo(),li(pi),li(di),$o();break;case 5:Mo(r);break;case 4:Lo();break;case 13:case 19:li(jo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}Rs=e,Ds=Gu(e.current,null),Ls=Fs=Bs=t,js=0,Us=null,zs=Vs=qs=0}function ku(e,t){for(;;){var n=Ds;try{if(no(),Yo.current=Oa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ps.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&jo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(c),f.updateQueue=g}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,ho(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=qu.bind(null,o,c,s);c.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var w=f.type,S=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Xs||!Xs.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ds(f,o,t));break e}}f=f.return}while(null!==f)}Pu(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=As.current;return As.current=Oa,null===e?Oa:e}function Cu(e,t){var n=Os;Os|=16;var r=Iu();for(Rs===e&&Ls===t||Tu(e,t);;)try{Nu();break}catch(i){ku(e,i)}if(no(),Os=n,As.current=r,null!==Ds)throw Error(a(261));return Rs=null,Ls=0,js}function Nu(){for(;null!==Ds;)Au(Ds)}function xu(){for(;null!==Ds&&!Ni();)Au(Ds)}function Au(e){var t=Js(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Fs)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Ou(e){var t=Hi();return Gi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Ht(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,qr=Qt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==c||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===o&&(f=h),g===c&&++v===l&&(d=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,hu=!1,Qs=r;do{try{Du()}catch(I){if(null===Qs)throw Error(a(330));Bu(Qs,I),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var b=Qs.flags;if(16&b&&ye(Qs.stateNode,""),128&b){var _=Qs.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Ss(Qs),Qs.flags&=-3;break;case 6:Ss(Qs),Qs.flags&=-3,Is(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Is(Qs.alternate,Qs);break;case 4:Is(Qs.alternate,Qs);break;case 8:ks(s,u=Qs);var S=u.alternate;_s(u),null!==S&&_s(S)}Qs=Qs.nextEffect}}catch(I){if(null===Qs)throw Error(a(330));Bu(Qs,I),Qs=Qs.nextEffect}}while(null!==Qs);if(w=Vr,_=mr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!w.extend&&S>s&&(u=s,s=S,S=u),u=pr(b,S),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),S>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!qr,Vr=qr=null,e.current=n,Qs=r;do{try{for(b=e;null!==Qs;){var E=Qs.flags;if(36&E&&gs(b,Qs.alternate,Qs),128&E){_=void 0;var T=Qs.ref;if(null!==T){var k=Qs.stateNode;Qs.tag,_=k,"function"===typeof T?T(_):T.current=_}}Qs=Qs.nextEffect}}catch(I){if(null===Qs)throw Error(a(330));Bu(Qs,I),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,ji(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((E=Qs).sibling=null,E.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,zi()),$s)throw $s=!1,e=Ys,Ys=null,e;return 0!==(8&Os)||Ji(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;hu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(hu=!0):13===Qs.tag&&Ns(e,Qs)&&et(Qs,lu)&&(hu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Wi(97,(function(){return Lu(),null}))),Qs=Qs.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Gi(e,ju)}return!1}function Fu(e,t){nu.push(t,e),Zs||(Zs=!0,Wi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Wi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Ji(),!0}function Uu(e,t,n){ho(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Bu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(ho(n,i),i=fu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>zi()-Ks?Tu(e,0):zs|=n),mu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Bs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Ju(n.children,i,o,t);case F:s=8,i|=16;break;case k:s=8,i|=1;break;case I:return(e=Hu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case P:return(e=Hu(19,n,t,i)).elementType=P,e.lanes=o,e;case M:return Qu(n,i,o,t);case j:return(e=Hu(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case x:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ju(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=M,e.lanes=n,e}function $u(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=fu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=_i(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Js=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Wa(t),Jo();break;case 5:Fo(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xa(e,t,n):(hi(jo,1&jo.current),null!==(t=os(e,t,n))?t.sibling:null);hi(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,So(t,r,e,n),t=Ga(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Ka(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Jo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Jr(t.stateNode.containerInfo.firstChild),Bo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Jo();t=t.child}return t;case 5:return Fo(t),null===e&&Ko(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),za(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&Ko(t),null;case 13:return Xa(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(hi(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,ho(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ba(e,t,i,o=Yi(i.type,o),r,n);case 15:return qa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,oo(t,n),_o(t,r,i),So(t,r,i,n),Ga(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=_u,De=function(e,t,n,r,i){var o=Os;Os|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Ws(),Ji())}},Le=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Ji()}(),Lu())},Fe=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Ws(),Ji())}};var uc={Events:[ri,ii,oi,Pe,Oe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Ei=hc.inject(lc),Ti=hc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Os=n,Ji()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,c=60112,l=60113,h=60120,f=60115,d=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),h=b("react.suspense_list"),f=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case f:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===g||e===o||e===l||e===h||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===f||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=_},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+I(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=C(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+I(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],N=1,x=null,A=3,P=!1,O=!1,R=!1;function D(e){for(var t=E(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,S(I,t)}t=E(C)}}function L(e){if(R=!1,D(e),!O)if(null!==E(I))O=!0,n(F);else{var t=E(C);null!==t&&r(L,t.startTime-e)}}function F(e,n){O=!1,R&&(R=!1,i()),P=!0;var o=A;try{for(D(n),x=E(I);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=x.callback;if("function"===typeof a){x.callback=null,A=x.priorityLevel;var s=a(x.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?x.callback=s:x===E(I)&&T(I),D(n)}else T(I);x=E(I)}if(null!==x)var u=!0;else{var c=E(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{x=null,A=o,P=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(C,e),null===E(I)&&e===E(C)&&(R?i():R=!0,r(L,a-s))):(e.sortIndex=u,S(I,e),O||P||(O=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},9388:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};n(9220)}();
//# sourceMappingURL=main.753b1033.js.map